(this.webpackJsonpsixerr=this.webpackJsonpsixerr||[]).push([[0],{265:function(e,t,n){},266:function(e,t,n){},304:function(e,t){},565:function(e,t,n){"use strict";n.r(t);var r=n(0),s=n(1),a=n.n(s),i=n(29),c=n.n(i),o=(n(265),n(23)),l=(n(266),n(4)),u=n.n(l),d=n(6),g=n(8),j=n(7),h=n(10),p=n(9),b=n(20),v=n(16),m=n(19),f=n(3),x=n(17),O=n(228),w=n.n(O),y=function(){var e;return{setup:function(){e=w()("")},on:function(t,n){e.on(t,n)},off:function(t,n){e.off(t,n)},emit:function(t,n){e.emit(t,n)},terminate:function(){e=null}}}();window.socketService=y;var S={uploadImg:function(e){return N.apply(this,arguments)}};function N(){return(N=Object(d.a)(u.a.mark((function e(t){var n,r,s,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Dudi"),"dzocvtwca",n="https://api.cloudinary.com/v1_1/".concat("dzocvtwca","/image/upload"),(r=new FormData).append("file",t.target.files[0]),r.append("upload_preset","uploadPreset"),e.prev=6,e.next=9,fetch(n,{method:"POST",body:r});case 9:return s=e.sent,e.next=12,s.json();case 12:return a=e.sent,console.log(a),e.abrupt("return",a);case 17:e.prev=17,e.t0=e.catch(6),console.log(e.t0);case 20:case"end":return e.stop()}}),e,null,[[6,17]])})))).apply(this,arguments)}var C=n(229),k="/",I=n.n(C).a.create({withCredentials:!0}),q=function(e,t){return M(e,"GET",t)},G=function(e,t){return M(e,"POST",t)},U=function(e,t){return M(e,"PUT",t)},T=function(e,t){return M(e,"DELETE",t)};function M(e){return R.apply(this,arguments)}function R(){return(R=Object(d.a)(u.a.mark((function e(t){var n,r,s,a=arguments;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=a.length>1&&void 0!==a[1]?a[1]:"get",r=a.length>2&&void 0!==a[2]?a[2]:null,console.log("data",r),e.prev=3,"GET"!==n){e.next=10;break}return e.next=7,I({url:"".concat(k).concat(t),method:n,params:r});case 7:s=e.sent,e.next=13;break;case 10:return e.next=12,I({url:"".concat(k).concat(t),method:n,data:r});case 12:s=e.sent;case 13:return e.abrupt("return",s.data);case 16:throw e.prev=16,e.t0=e.catch(3),console.log("Had Issues ".concat(n,"ing to the backend, endpoint: ").concat(t,", with data: ").concat(r)),console.dir(e.t0),e.t0.response&&401===e.t0.response.status&&window.location.assign("/#/login"),e.t0;case 22:case"end":return e.stop()}}),e,null,[[3,16]])})))).apply(this,arguments)}var D="api/user",E={login:function(e){return _.apply(this,arguments)},logout:function(){return B.apply(this,arguments)},signup:function(e){return A.apply(this,arguments)},getUsers:function(){return q(D)},getById:function(e){return q("".concat(D,"/").concat(e))},remove:function(e){return T("".concat(D,"/").concat(e))},update:function(e){return F.apply(this,arguments)},getLoggedinUser:P};function F(){return(F=Object(d.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U("".concat(D,"/").concat(t._id),t);case 2:return t=e.sent,console.log("Service",t.favoriteIds),P()._id===t._id&&H(t),e.abrupt("return",t);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _(){return(_=Object(d.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,G("api/auth/login",t);case 2:if(!(n=e.sent)){e.next=5;break}return e.abrupt("return",H(n));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function A(){return(A=Object(d.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,G("api/auth/signup",t);case 2:return n=e.sent,e.abrupt("return",H(n));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function B(){return(B=Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return sessionStorage.clear(),e.next=3,G("api/auth/logout");case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function H(e){return sessionStorage.setItem("loggedinUser",JSON.stringify(e)),e}function P(){return JSON.parse(sessionStorage.getItem("loggedinUser"))}function L(){return function(){var e=Object(d.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.logout();case 2:t({type:"SET_NO_USER"});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}function V(e){return function(){var t=Object(d.a)(u.a.mark((function t(n){var r;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,E.update(e);case 2:r=t.sent,n({type:"SET_USER",user:r});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}window.userService=E;var z=function(e){Object(h.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(g.a)(this,n);for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return(e=t.call.apply(t,[this].concat(s))).state={msg:"",isSignUp:!1,loginCred:{username:"",password:""},signupCred:{username:"",password:"",fullname:""}},e.loginHandleChange=function(t){var n=t.target,r=n.name,s=n.value;e.setState((function(e){return{loginCred:Object(f.a)(Object(f.a)({},e.loginCred),{},Object(m.a)({},r,s))}}))},e.signupHandleChange=function(t){var n=t.target,r=n.name,s=n.value;e.setState((function(e){return{signupCred:Object(f.a)(Object(f.a)({},e.signupCred),{},Object(m.a)({},r,s))}}))},e.toggleIsNewUser=function(t){t.stopPropagation(),e.setState({isSignUp:!e.state.isSignUp})},e.captureModalClick=function(e){e.stopPropagation()},e.doLogin=function(){var t=Object(d.a)(u.a.mark((function t(n){var r;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.preventDefault(),n.stopPropagation(),(r=e.state.loginCred).username&&r.password){t.next=5;break}return t.abrupt("return",e.setState({loginCred:{username:"",password:""},msg:"Please enter user/password"}));case 5:return t.prev=5,t.next=8,e.props.login(r);case 8:e.props.toggleLogin(),t.next=15;break;case 11:t.prev=11,t.t0=t.catch(5),console.log("ERR",t.t0),e.setState((function(e){return{loginCred:Object(f.a)(Object(f.a)({},e.loginCred),{},{password:""}),msg:"Wrong username or password"}}));case 15:case"end":return t.stop()}}),t,null,[[5,11]])})));return function(e){return t.apply(this,arguments)}}(),e.doLogout=function(){e.props.logout()},e.doSignup=function(){var t=Object(d.a)(u.a.mark((function t(n){var r,s,a,i;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.preventDefault(),n.stopPropagation(),r=e.state.signupCred,s=r.username,a=r.password,i=r.fullname,s&&a&&i){t.next=5;break}return t.abrupt("return",e.setState({msg:"All inputs are required"}));case 5:return t.prev=5,t.next=8,e.props.addUser({username:s,password:a,fullname:i});case 8:e.props.toggleLogin(),t.next=15;break;case 11:t.prev=11,t.t0=t.catch(5),console.log("ERR",t.t0),e.setState((function(e){return{signupCred:Object(f.a)(Object(f.a)({},e.signupCred),{},{password:""}),msg:"Could not sign up please try again"}}));case 15:case"end":return t.stop()}}),t,null,[[5,11]])})));return function(e){return t.apply(this,arguments)}}(),e}return Object(j.a)(n,[{key:"componentWillUnmount",value:function(){this.setState({loginCred:{username:"",password:""}})}},{key:"render",value:function(){this.props.user;var e=this.state,t=e.isSignUp,n=e.msg,s=Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("h1",{children:"Join Sixerr"}),Object(r.jsxs)("form",{className:"frm",onSubmit:this.doSignup,children:[Object(r.jsx)("input",{type:"text",name:"fullname",value:this.state.signupCred.fullname,onChange:this.signupHandleChange,placeholder:"Full name"}),Object(r.jsx)("input",{type:"text",name:"username",value:this.state.signupCred.username,onChange:this.signupHandleChange,placeholder:"Username"}),Object(r.jsx)("input",{name:"password",type:"password",value:this.state.signupCred.password,onChange:this.signupHandleChange,placeholder:"Password"}),Object(r.jsx)("button",{children:"Continue"}),Object(r.jsx)("hr",{}),Object(r.jsxs)("h4",{children:["Already a member? ",Object(r.jsx)("span",{onClick:this.toggleIsNewUser,children:"Sign In"})]})]})]}),a=Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("h1",{children:"Sign In to Sixerr"}),Object(r.jsxs)("form",{className:"frm",onSubmit:this.doLogin,children:[Object(r.jsx)("input",{type:"text",name:"username",value:this.state.loginCred.username,onChange:this.loginHandleChange,placeholder:"Username",autoFocus:!0}),Object(r.jsx)("br",{}),Object(r.jsx)("input",{type:"password",name:"password",value:this.state.loginCred.password,onChange:this.loginHandleChange,placeholder:"Password"}),Object(r.jsx)("br",{}),Object(r.jsx)("button",{className:"rounded",children:"Continue"}),Object(r.jsx)("hr",{}),Object(r.jsxs)("h4",{children:["Not a member yet? ",Object(r.jsx)("span",{onClick:this.toggleIsNewUser,children:"Join Now"})]})]})]});return Object(r.jsx)("div",{className:"main-screen",onClick:this.props.toggleLogin,children:Object(r.jsxs)("div",{className:"login main-layout shadow rounded",onClick:this.captureModalClick,children:[n&&Object(r.jsx)("p",{children:n}),t&&s,!t&&a]})})}}]),n}(s.Component),W={login:function(e){return function(){var t=Object(d.a)(u.a.mark((function t(n){var r;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,E.login(e);case 2:r=t.sent,n({type:"SET_USER",user:r});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},logout:L,addUser:function(e){return e.imgUrl="/img/img1.jpg",e.isAdmin=!1,function(){var t=Object(d.a)(u.a.mark((function t(n){var r;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,E.signup(e);case 2:r=t.sent,n({type:"SET_USER",user:r});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}},K=Object(v.b)((function(e){return{user:e.userModule.user}}),W)(z),$=function(e){Object(h.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(g.a)(this,n);for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return(e=t.call.apply(t,[this].concat(s))).state={isLoginOpen:!1,user:null},e.onToggleLogin=function(){var t=e.props.user;e.setState({isLoginOpen:!e.state.isLoginOpen}),t&&y.emit("chat topic",t._id)},e.onNewMsg=function(t){var n=e.props.user;console.log("MESSAGE",t),y.emit("chat newMsg",{to:t.from._id,from:n,txt:"cannot wait to get it"})},e.onLogout=Object(d.a)(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.props.logout();case 2:e.props.history.push("/gig");case 3:case"end":return t.stop()}}),t)}))),e}return Object(j.a)(n,[{key:"componentDidMount",value:function(){y.on("chat addMsg",this.onNewMsg);var e=this.props.user;e&&y.emit("chat topic",e._id)}},{key:"componentWillUnmount",value:function(){y.off("chat addMsg",this.onNewMsg)}},{key:"render",value:function(){var e=this.props.user,t=this.state,n=t.openChat,s=t.isRecievedMsg;console.log("render , openChat",n);var a=this.state.isLoginOpen;return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("div",{className:"site-header main-container",children:Object(r.jsxs)("section",{className:"app-header flex space-between align-center",children:[Object(r.jsx)(b.c,{to:"/",children:Object(r.jsxs)("h1",{children:["Sixerr",Object(r.jsx)("span",{children:"."})]})}),s&&Object(r.jsx)("div",{children:"1!!!"}),Object(r.jsxs)("ul",{className:"header-nav clean-list flex align-center bold",children:[Object(r.jsx)(b.c,{className:"fast-trans",to:"/",children:Object(r.jsx)("li",{children:"Home"})}),Object(r.jsx)(b.c,{className:"fast-trans",to:"/gig",children:Object(r.jsx)("li",{children:"Explore"})}),e&&Object(r.jsx)(b.c,{className:"fast-trans",to:"#",onClick:this.onLogout,children:Object(r.jsx)("li",{children:"Logout"})}),!e&&Object(r.jsx)(b.c,{className:"",to:"#",onClick:this.onToggleLogin,children:Object(r.jsx)("li",{children:"Login"})}),Object(r.jsx)(b.c,{to:"/profile",children:e&&Object(r.jsx)("li",{className:"profile-img",children:Object(r.jsx)("img",{src:e.imgUrl,alt:"user"})})})]})]})}),a&&!e&&Object(r.jsx)(K,{toggleLogin:this.onToggleLogin})]})}}]),n}(a.a.Component),J={logout:L},X=Object(v.b)((function(e){return{user:e.userModule.user}}),J)(Object(o.f)($)),Y=(a.a.Component,n(57)),Q=n.n(Y);function Z(e){var t=e.gig,n=e.onUserViewGig,s=(e.onFavoriteToggle,e.user,e.removeViewed);return Object(r.jsx)("li",{onClick:function(){n(t._id)},className:"mini-preview",children:Object(r.jsxs)("div",{className:"preview-inner",children:[s&&Object(r.jsx)(Q.a,{className:"clear-icon pointer",onClick:function(e){e.stopPropagation(),s(t._id)}}),Object(r.jsxs)(b.b,{to:"/gig/".concat(t._id),children:[Object(r.jsx)("div",{className:"preview-img",children:Object(r.jsx)("img",{src:t.imgUrls[0],alt:""})}),Object(r.jsx)("div",{className:"preview-title",children:Object(r.jsx)("h6",{children:t.title})})]})]})})}var ee=n(230),te=n.n(ee);function ne(e){var t=e.gig,n=e.onUserViewGig,s=e.onFavoriteToggle,a=e.user,i=e.removeViewed;return Object(r.jsx)("li",{onClick:function(){n(t._id)},className:"preview-item",children:Object(r.jsxs)("div",{className:"preview-inner",children:[i&&Object(r.jsx)(Q.a,{className:"clear-icon pointer",onClick:function(e){e.stopPropagation(),i(t._id)}}),Object(r.jsx)(b.b,{to:"/gig/".concat(t._id),children:Object(r.jsx)("div",{className:"preview-img",children:Object(r.jsx)("img",{src:t.imgUrls[0],alt:"gig preview"})})}),Object(r.jsx)(b.b,{to:"#",children:Object(r.jsxs)("div",{className:"gig-owner flex",children:[Object(r.jsx)("img",{src:t.owner.imgUrl}),Object(r.jsxs)("div",{className:"gig-owner-text flex",children:[Object(r.jsx)("p",{children:t.owner.fullname}),Object(r.jsxs)("p",{children:["Level ",Math.round(2*Math.random()+1)," seller"]})]})]})}),Object(r.jsxs)(b.b,{to:"/gig/".concat(t._id),children:[Object(r.jsx)("div",{className:"preview-title",children:Object(r.jsx)("h2",{children:t.title})}),Object(r.jsxs)("div",{className:"gig-rating flex align-center",children:[Object(r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1792 1792",width:"15",height:"15",children:Object(r.jsx)("path",{fill:"currentColor",d:"M1728 647q0 22-26 48l-363 354 86 500q1 7 1 20 0 21-10.5 35.5t-30.5 14.5q-19 0-40-12l-449-236-449 236q-22 12-40 12-21 0-31.5-14.5t-10.5-35.5q0-6 2-20l86-500-364-354q-25-27-25-48 0-37 56-46l502-73 225-455q19-41 49-41t49 41l225 455 502 73q56 9 56 46z"})}),Object(r.jsx)("span",{children:Math.round(12*Math.random()+38)/10}),Object(r.jsxs)("span",{className:"gig-voters",children:["(",Math.round(230*Math.random()+30),")"]})]})]}),Object(r.jsxs)("div",{className:"preview-bottom flex space-between",children:[Object(r.jsx)(te.a,{onClick:function(e){s(e,t._id)},className:"heart pointer ".concat(re(null===a||void 0===a?void 0:a.favoriteIds,t._id))}),Object(r.jsxs)("h3",{children:["Starting at ",Object(r.jsxs)("span",{children:["$",t.packages[0].price]})]})]})]})})}function re(e,t){return e&&e.find((function(e){return e===t}))?"liked":""}function se(e){var t=e.gigs,n=e.onUserViewGig,s=e.onFavoriteToggle,a=e.user,i=e.removeViewed,c=e.isSmallPreview;return Object(r.jsx)("section",{className:"gig-list",children:Object(r.jsxs)("ul",{className:"previews-wrap clean-list",children:[c&&t.map((function(e){return Object(r.jsx)(Z,{gig:e},e._id)})),!c&&t.map((function(e){return Object(r.jsx)(ne,{gig:e,onUserViewGig:n,onFavoriteToggle:s,user:a,removeViewed:i},e._id)}))]})})}var ae="api/gig",ie={query:function(e){console.log("filterBy",e);var t=Object.keys(e).map((function(t){return"".concat(t,"=").concat(e[t])})).join("&");return console.log("queryString",t),q(ae,e)},deleteGig:function(e){return oe.apply(this,arguments)},save:function(e){return le.apply(this,arguments)},getById:function(e){return ce.apply(this,arguments)}};function ce(){return(ce=Object(d.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",q("".concat(ae,"/").concat(t)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function oe(){return(oe=Object(d.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",T("".concat(ae,"/").concat(t)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function le(){return(le=Object(d.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("save , gigToSave",t),!t._id){e.next=5;break}return e.abrupt("return",U("".concat(ae,"/").concat(t._id),t));case 5:return e.abrupt("return",G(ae,t));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ue(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return console.log(e),function(){var t=Object(d.a)(u.a.mark((function t(n){var r;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ie.query(e);case 2:r=t.sent,n({type:"SET_GIGS",gigs:r});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}function de(e){return ie.getById(e)}function ge(e){return je.apply(this,arguments)}function je(){return(je=Object(d.a)(u.a.mark((function e(t){var n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.map((function(e){return de(e)})),e.next=3,Promise.all(n);case 3:return r=e.sent,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function he(e){return function(){var t=Object(d.a)(u.a.mark((function t(n){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ie.deleteGig(e);case 2:n({type:"REMOVE_GIG",gigId:e});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}function pe(e){return console.log("addGig , gig",e),function(){var t=Object(d.a)(u.a.mark((function t(n){var r;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ie.save(e);case 2:r=t.sent,n({type:"ADD_GIG",savedGig:r});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}function be(e){return function(){var t=Object(d.a)(u.a.mark((function t(n){var r;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ie.save(e);case 2:r=t.sent,n({type:"SAVE_GIG",savedGig:r});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}function ve(e){return function(t){t({type:"SET_FILTER",filterBy:e})}}var me=function(e){Object(h.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(g.a)(this,n);for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return(e=t.call.apply(t,[this].concat(s))).loadGigs=Object(d.a)(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.props.loadGigs(e.props.filterBy);case 2:case"end":return t.stop()}}),t)}))),e.onUserViewGig=function(t){var n=Object(f.a)({},e.props.user);n.viewedGigIds?n.viewedGigIds.find((function(e){return e===t}))||n.viewedGigIds.push(t):n.viewedGigIds=[t],e.props.updateUser(n)},e.onDelete=function(){},e.onSetFilter=function(t){e.props.setFilter(t),e.props.loadGigs(t)},e.onFavoriteToggle=function(t,n){t.stopPropagation();var r=Object(f.a)({},e.props.user);r.favoriteIds?r.favoriteIds.find((function(e){return e===n}))?r.favoriteIds=r.favoriteIds.filter((function(e){return e!==n})):r.favoriteIds.push(n):r.favoriteIds=[n],console.log("user.favoriteIds",r.favoriteIds),e.props.updateUser(r)},e}return Object(j.a)(n,[{key:"componentDidMount",value:function(){this.loadGigs()}},{key:"componentWillUnmount",value:function(){this.props.setFilter({})}},{key:"render",value:function(){var e=this.props.user;return e&&console.log("user favorites",e.favoriteIds),Object(r.jsx)("section",{className:"sixerr-app main-container",children:Object(r.jsx)(se,{gigs:this.props.gigs,onUserViewGig:this.onUserViewGig,onFavoriteToggle:this.onFavoriteToggle,user:this.props.user,onDelete:this.onDelete})})}}]),n}(a.a.Component),fe={loadGigs:ue,setFilter:ve,removeGig:he,updateUser:V},xe=Object(v.b)((function(e){return{gigs:e.gigModule.gigs,filterBy:e.gigModule.filterBy,user:e.userModule.user}}),fe)(me),Oe={delay:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1500;return new Promise((function(t){setTimeout(t,e)}))},getRandomInt:function(e,t){return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e)+e)},makeId:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5,t="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=0;r<e;r++)t+=n.charAt(Math.floor(Math.random()*n.length));return t},timeDifference:function(e,t){var n=6e4,r=36e5,s=864e5,a=2592e6,i=31536e6,c=e-t;return c<n?Math.round(c/1e3)+" seconds ago":c<r?Math.round(c/n)+" minutes ago":c<s?Math.round(c/r)+" hours ago":c<a?"approximately "+Math.round(c/s)+" days ago":c<i?"approximately "+Math.round(c/a)+" months ago":"approximately "+Math.round(c/i)+" years ago"}};var we=n(586),ye=n(582),Se={.5:"Useless",1:"Useless+",1.5:"Poor",2:"Poor+",2.5:"Ok",3:"Ok+",3.5:"Good",4:"Good+",4.5:"Excellent",5:"Excellent+"},Ne=function(e){Object(h.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(g.a)(this,n);for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return(e=t.call.apply(t,[this].concat(s))).state={value:0,hover:-1},e.setValue=function(t){e.setState({value:t},(function(){e.props.handleRate(t)}))},e.setHover=function(e){console.log("HoverRating , setHover",e)},e}return Object(j.a)(n,[{key:"render",value:function(){var e=this;return Object(r.jsxs)("div",{style:{width:200,display:"flex",alignItems:"center"},children:[Object(r.jsx)(we.a,{name:"hover-feedback",value:this.state.value,precision:.5,onChange:function(t,n){e.setValue(n)},onChangeActive:function(t){e.setHover(t)}}),null!==this.value&&Object(r.jsx)(ye.a,{ml:2,children:Se[-1!==this.hover?this.hover:this.value]})]})}}]),n}(a.a.Component),Ce=function(e){Object(h.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(g.a)(this,n);for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return(e=t.call.apply(t,[this].concat(s))).state={gig:null,user:null,review:""},e.createReviewTemplate=function(e,t){var n={_id:t._id,fullname:t.fullname,imgUrl:t.imgUrl};return{id:Oe.makeId(),rating:"",txt:"",createdAt:null,purchasedAt:null,by:n}},e.handleChange=function(t){var n=t.target,r=n.name,s=n.value;e.setState((function(e){return{review:Object(f.a)(Object(f.a)({},e.review),{},Object(m.a)({},r,s))}}))},e.handleRate=function(t){var n=Object(f.a)({},e.state).review;n.rating=t,e.setState({review:n})},e.onAddReview=function(){var t=e.state.review,n=e.state.gig,r=Object(f.a)({},t);if(""!==t.txt){var s=Date.now();r.createdAt=s,r.purchasedAt="purchase At",n.reviews.unshift(r),e.props.updateGig(n).then((function(){e.setState({review:null}),console.log("review added succefully")}))}},e}return Object(j.a)(n,[{key:"componentDidMount",value:function(){var e=this.props.gig,t=this.props.user,n=this.createReviewTemplate(e,t);this.setState({gig:e,user:t,review:n})}},{key:"render",value:function(){var e=this,t=this.props.mobileStarStats,n=this.state.review;return n?Object(r.jsx)(r.Fragment,{children:Object(r.jsxs)("section",{className:"add-review-wrapper",children:[!t&&Object(r.jsx)(Ne,{className:"stars-rate",handleRate:this.handleRate,val:n.rating}),Object(r.jsx)("div",{className:"text-area-container",children:Object(r.jsx)("textarea",{rows:"6",cols:"60",type:"text",name:"txt",placeholder:"enter review...",value:n.txt,onChange:this.handleChange,required:!0})}),Object(r.jsx)("div",{className:"rate-mobile-view-container",children:t&&Object(r.jsx)(Ne,{className:"stars-rate",handleRate:this.handleRate,val:n.rating,required:!0})}),Object(r.jsx)("div",{className:"add-review-container",children:Object(r.jsx)("button",{className:"add-review",onClick:function(){return e.onAddReview()},children:"Add Review"})})]})}):Object(r.jsx)("div",{})}}]),n}(s.Component),ke={addGig:pe,updateGig:be,loadGig:de},Ie=Object(v.b)((function(e){return{gigs:e.gigModule.gigs,user:e.userModule.user}}),ke)(Ce);function qe(e){var t=e.gig,n=e.seller,s=(e.getStars,e.getBiggestStarRate),a=(e.calculateAvgHalfRating,s()),i=function(){for(var e=[],t=0;t<a;t++)e.push(Object(r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1792 1792",width:"15",height:"15",children:Object(r.jsx)("path",{fill:"currentColor",d:"M1728 647q0 22-26 48l-363 354 86 500q1 7 1 20 0 21-10.5 35.5t-30.5 14.5q-19 0-40-12l-449-236-449 236q-22 12-40 12-21 0-31.5-14.5t-10.5-35.5q0-6 2-20l86-500-364-354q-25-27-25-48 0-37 56-46l502-73 225-455q19-41 49-41t49 41l225 455 502 73q56 9 56 46z"})},t));return e}();return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)("section",{id:"about-seller",className:"about-seller-container flex column",children:[Object(r.jsx)("h2",{children:"About The Seller"}),Object(r.jsxs)("div",{className:"content flex",children:[Object(r.jsx)("div",{className:"seller-img-container",children:Object(r.jsx)("img",{src:n.imgUrl,alt:""})}),Object(r.jsxs)("div",{className:"content flex column",children:[Object(r.jsx)("span",{children:n.fullname}),Object(r.jsxs)("div",{className:"stars-container flex  align center",children:[i.map((function(e){return e})),Object(r.jsxs)("span",{children:[a," (",t.reviews.length,")"]})]}),Object(r.jsx)("button",{children:"Contact Me"})]})]})]}),Object(r.jsx)("section",{className:"seller-stats flex column",children:Object(r.jsxs)("div",{className:"user-stats flex",children:[Object(r.jsxs)("div",{className:"flex column",children:[Object(r.jsx)("span",{children:"From"}),Object(r.jsx)("span",{className:"bold",children:"United States"}),Object(r.jsx)("span",{children:"Avg. response time"}),Object(r.jsx)("span",{className:"bold",children:"3 hours"})]}),Object(r.jsxs)("div",{className:"flex column",children:[Object(r.jsx)("span",{children:"Member since"}),Object(r.jsx)("span",{className:"bold",children:"Aug 2020"}),Object(r.jsx)("span",{children:"Last deilivery"}),Object(r.jsx)("span",{className:"bold",children:"About 12 hours"})]})]})})]})}var Ge="api/order",Ue={query:function(){return Te.apply(this,arguments)},update:function(e){return Re.apply(this,arguments)},createOrder:function(e,t){return Me.apply(this,arguments)}};function Te(){return(Te=Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",q(Ge));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Me(){return(Me=Object(d.a)(u.a.mark((function e(t,n){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=De(t,n),console.log("ordering:",r),e.abrupt("return",G(Ge,r));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Re(){return(Re=Object(d.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("updating order:",t),e.abrupt("return",U("".concat(Ge,"/").concat(t._id),t));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function De(e,t){return{createdAt:Date.now(),buyer:{_id:t._id,fullname:t.fullname,imgUrl:t.imgUrl},totalPrice:e.packages[0].price,currency:"USD",gig:{sellerFullname:e.owner.fullname,_id:e._id,title:e.title,imgUrl:e.imgUrls[0]},status:"pending"}}function Ee(e,t){return function(){var n=Object(d.a)(u.a.mark((function n(r){var s;return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Ue.createOrder(e,t);case 2:s=n.sent,r({type:"ADD_ORDER",order:s});case 5:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}var Fe=n(142),_e=n.n(Fe),Ae=n(231),Be=n.n(Ae),He=n(232),Pe=n.n(He),Le=n(72),Ve=n.n(Le);function ze(e){var t=e.gig,n=(e.onGigOrder,t.packages[0]),s=n.price.toFixed(2);return Object(r.jsx)(r.Fragment,{children:Object(r.jsx)("div",{className:"sidebar",children:Object(r.jsxs)("div",{className:"package-content",children:[Object(r.jsxs)("div",{children:[Object(r.jsxs)("h3",{className:"flex space-between",children:["Package Price",Object(r.jsxs)("span",{children:["$",s]})]}),Object(r.jsx)("p",{children:n.desc})]}),Object(r.jsxs)("div",{children:[Object(r.jsxs)("div",{className:"icons flex",children:[Object(r.jsx)(Be.a,{className:"clock"}),Object(r.jsxs)("p",{className:"delivery",children:[n.deliveryDays," Days Delivery"]}),Object(r.jsx)(Pe.a,{className:"loop"}),Object(r.jsxs)("p",{className:"revisions",children:[n.revisionsCount," Revisions"]})]}),Object(r.jsx)("ul",{className:"features clean-list ",children:n.features.map((function(e){return Object(r.jsxs)("div",{className:"flex",children:[Object(r.jsx)(Ve.a,{fontSize:"small",className:"include"}),Object(r.jsx)("li",{children:e})]},e)}))})]}),Object(r.jsx)("div",{className:"btns-container flex justify-center",children:Object(r.jsx)(b.b,{to:"/gig/checkout/".concat(t._id),children:Object(r.jsxs)("button",{className:"continue",children:["Continue",Object(r.jsx)("span",{children:" "}),"($",s,")"]})})})]})})})}var We=n(585),Ke=n(234),$e=n.n(Ke),Je=n(233),Xe=n.n(Je),Ye=n(112);function Qe(e){var t=e.review,n=(e.user,e.onToggleHelfull),s=e.isHelful;return t&&t.by?Object(r.jsx)(r.Fragment,{children:Object(r.jsxs)("section",{className:"review-card flex",children:[Object(r.jsx)("div",{children:Object(r.jsx)("div",{className:"avatar-container",children:Object(r.jsx)(We.a,{className:"avatar",src:t.by.imgUrl})})}),Object(r.jsxs)("div",{className:"review-info",children:[Object(r.jsxs)("div",{children:[Object(r.jsxs)("div",{className:"info flex align-center",children:[Object(r.jsx)("h5",{children:t.by.fullname}),Object(r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1792 1792",width:"15",height:"15",children:Object(r.jsx)("path",{fill:"currentColor",d:"M1728 647q0 22-26 48l-363 354 86 500q1 7 1 20 0 21-10.5 35.5t-30.5 14.5q-19 0-40-12l-449-236-449 236q-22 12-40 12-21 0-31.5-14.5t-10.5-35.5q0-6 2-20l86-500-364-354q-25-27-25-48 0-37 56-46l502-73 225-455q19-41 49-41t49 41l225 455 502 73q56 9 56 46z"})}),Object(r.jsx)("span",{className:"rating",children:t.rating})]}),Object(r.jsxs)("div",{className:"country",children:[Object(r.jsx)(Ye.IconFlagUS,{className:"icon"}),Object(r.jsx)("span",{className:"country-name",children:"united states"})]})]}),Object(r.jsx)("p",{children:t.txt}),Object(r.jsx)("p",{className:"published-at",children:"Published 20 Days Ago"}),Object(r.jsxs)("div",{className:"icons flex",children:[Object(r.jsx)(Xe.a,{className:"helpful",onClick:function(){return n()}}),Object(r.jsx)("span",{className:"helpful-name ".concat(s?" liked":""),children:"Helpful"}),Object(r.jsx)($e.a,{className:"thumb-down ".concat(s?" liked":"")}),Object(r.jsx)("span",{children:"Not Helpful"})]})]})]})}):Object(r.jsx)("div",{})}function Ze(e){var t=e.gig,n=e.user,s=e.onToggleHelfull,a=e.isHelful,i=t.reviews;return Object(r.jsx)(r.Fragment,{children:Object(r.jsx)("section",{id:"reviews",className:"gig-review-list flex column",children:i.map((function(e){return Object(r.jsx)(Qe,{review:e,user:n,onToggleHelfull:s,isHelful:a},e.id)}))})})}var et=n(235),tt=n.n(et),nt=n(236),rt=n.n(nt),st=n(237),at=n.n(st);function it(e){var t=e.currImg,n=e.onToggleImgLightbox,s=e.onNextPageLightBox,a=e.onPrevPageLightBox;e.gig;return Object(r.jsx)("section",{className:"img-light-box",onClick:function(){return n()},children:Object(r.jsxs)("div",{children:[Object(r.jsx)("img",{src:t,alt:""}),Object(r.jsx)(tt.a,{className:"close-light-box",onClick:function(){return n()}}),Object(r.jsx)(rt.a,{className:"next-img",onClick:function(e){return s(e)}}),Object(r.jsx)(at.a,{className:"prev-img",onClick:function(e){return a(e)}})]})})}var ct=n(238),ot=n.n(ct),lt=n(239),ut=n.n(lt),dt=function(e){Object(h.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(g.a)(this,n);for(var s=arguments.length,i=new Array(s),c=0;c<s;c++)i[c]=arguments[c];return(e=t.call.apply(t,[this].concat(i))).state={editable:!1,html:e.props.text},e.contentEditable=a.a.createRef(),e.handleChange=function(t){e.setState(Object(f.a)(Object(f.a)({},e.state),{},{html:t.target.value}))},e.toggleEditable=function(){e.setState(Object(f.a)(Object(f.a)({},e.state),{},{editable:!e.state.editable}),(function(){e.state.editable&&e.contentEditable.current.focus()}))},e.onStartEdit=function(){e.toggleEditable()},e.onSaveElement=function(){e.props.save(e.props.field,e.contentEditable.current.innerText),e.toggleEditable()},e.render=function(){var t=e.state.editable,n=t?{border:"1px solid #888"}:{};return Object(r.jsxs)("div",{className:"content-edit-wrapper flex align-center",children:[Object(r.jsx)(ot.a,{innerRef:e.contentEditable,html:e.state.html,disabled:!e.state.editable,onChange:e.handleChange,tagName:e.props.type,className:"content-editable",style:n}),Object(r.jsxs)("div",{className:"action-buttons",children:[!t&&Object(r.jsx)(ut.a,{className:"action-button",onClick:e.onStartEdit}),t&&Object(r.jsx)(Ve.a,{className:"action-button",onClick:e.onSaveElement})]})]})},e}return Object(j.a)(n,[{key:"componentDidMount",value:function(){console.log(this.props)}}]),n}(a.a.Component);var gt=n(246),jt=n.n(gt),ht=n(245),pt=n.n(ht);function bt(e){var t=e.gig,n=(e.htmlStars,e.getBiggestStarRate),s=(e.calculateAvgHalfRating,(0,e.getStars)(),n()),a=function(){for(var e=[],t=0;t<s;t++)e.push(Object(r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1792 1792",width:"15",height:"15",children:Object(r.jsx)("path",{fill:"currentColor",d:"M1728 647q0 22-26 48l-363 354 86 500q1 7 1 20 0 21-10.5 35.5t-30.5 14.5q-19 0-40-12l-449-236-449 236q-22 12-40 12-21 0-31.5-14.5t-10.5-35.5q0-6 2-20l86-500-364-354q-25-27-25-48 0-37 56-46l502-73 225-455q19-41 49-41t49 41l225 455 502 73q56 9 56 46z"})},5*t));return e}();return Object(r.jsxs)("section",{className:"seller-overview flex",children:[Object(r.jsx)(We.a,{className:"avatar",alt:"Remy Sharp",src:"".concat(t.owner.imgUrl)}),Object(r.jsx)("div",{className:"flex align-center info",children:Object(r.jsx)("span",{className:"owner-fullname",children:t.owner.fullname})}),Object(r.jsx)("span",{className:"space",children:"|"}),Object(r.jsxs)("div",{className:"seller-stars-container flex",children:[a.map((function(e){return e})),Object(r.jsx)("span",{children:a.length-1===-1?0:a.length})]}),Object(r.jsxs)("span",{className:"total-reviews",children:["(",t.reviews.length,")"]}),Object(r.jsx)("span",{className:"space space-end",children:"|"}),Object(r.jsx)("span",{className:"order-count",children:"10 Orders in Queue"})]})}function vt(e){e.htmlStars;var t=e.gig,n=e.getStars,s=e.getBiggestStarRate,a=e.calculateAvgHalfRating,i=n(),c=i.oneStarCount/t.reviews.length*100,o=i.twoStarCount/t.reviews.length*100,l=i.threeStarCount/t.reviews.length*100,u=i.fourStarCount/t.reviews.length*100,d=i.fiveStarCount/t.reviews.length*100;console.log("ReviewStats , fiveStarPercentage",d);var g=s(),j=function(){for(var e=[],t=0;t<g;t++)e.push(Object(r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1792 1792",width:"15",height:"15",children:Object(r.jsx)("path",{fill:"currentColor",d:"M1728 647q0 22-26 48l-363 354 86 500q1 7 1 20 0 21-10.5 35.5t-30.5 14.5q-19 0-40-12l-449-236-449 236q-22 12-40 12-21 0-31.5-14.5t-10.5-35.5q0-6 2-20l86-500-364-354q-25-27-25-48 0-37 56-46l502-73 225-455q19-41 49-41t49 41l225 455 502 73q56 9 56 46z"})},10*t));return e}();return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)("div",{className:"review-stats-header flex",children:[Object(r.jsxs)("h2",{children:[t.reviews.length," Reviews"]}),Object(r.jsxs)("div",{className:"stars-container",children:[j.map((function(e){return e})),Object(r.jsx)("span",{children:j.length})]})]}),Object(r.jsxs)("section",{className:"review-stats-container ",children:[Object(r.jsxs)("div",{className:"left-side-stats",children:[Object(r.jsxs)("div",{className:"progressses-ctonainer",children:[Object(r.jsx)("span",{className:"".concat(0===i.fiveStarCount?" less-visability":""),children:"5 Stars"}),Object(r.jsx)("div",{className:"progress-bar-container",children:Object(r.jsx)("div",{className:"fit-progressbar-background",style:{backgroundColor:"orange",width:"".concat(d,"%")}})}),Object(r.jsx)("p",{className:"".concat(0===i.fiveStarCount?" less-visability":"").concat(5===g?" bold":""),children:i.fiveStarCount})]}),Object(r.jsxs)("div",{className:"progressses-ctonainer",children:[Object(r.jsx)("span",{className:"".concat(0===i.fourStarCount?" less-visability":""),children:"4 Stars"}),Object(r.jsx)("div",{className:"progress-bar-container",children:Object(r.jsx)("div",{className:"fit-progressbar-background",style:{backgroundColor:"orange",width:"".concat(u,"%")}})}),Object(r.jsx)("p",{className:"".concat(0===i.fourStarCount?" less-visability":"").concat(4===g?" bold":""),children:i.fourStarCount})]}),Object(r.jsxs)("div",{className:"progressses-ctonainer",children:[Object(r.jsx)("span",{className:"".concat(0===i.threeStarCount?" less-visability":""),children:"3 Stars"}),Object(r.jsx)("div",{className:"progress-bar-container ".concat(0===i.threeStarCount?" less-visability":""),children:Object(r.jsx)("div",{className:"fit-progressbar-background",style:{backgroundColor:"orange",width:"".concat(l,"%")}})}),Object(r.jsx)("p",{className:"".concat(0===i.threeStarCount?" less-visability":"").concat(3===g?" bold":""),children:i.threeStarCount})]}),Object(r.jsxs)("div",{className:"progressses-ctonainer",children:[Object(r.jsx)("span",{className:"".concat(0===i.twoStarCount?" less-visability":""),children:"2 Stars"}),Object(r.jsx)("div",{className:"progress-bar-container ".concat(0===i.twoStarCount?" less-visability":""),children:Object(r.jsx)("div",{className:"fit-progressbar-background",style:{backgroundColor:"orange",width:"".concat(o,"%")}})}),Object(r.jsx)("p",{className:"".concat(0===i.twoStarCount?" less-visability":"").concat(2===g?" bold":""),children:i.twoStarCount})]}),Object(r.jsxs)("div",{className:"progressses-ctonainer",children:[Object(r.jsx)("span",{className:"".concat(0===i.oneStarCount?" less-visability":""),children:"1 Stars"}),Object(r.jsx)("div",{className:"progress-bar-container",children:Object(r.jsx)("div",{className:"fit-progressbar-background",style:{backgroundColor:"orange",width:"".concat(c,"%")}})}),Object(r.jsx)("p",{className:"".concat(0===i.oneStarCount?" less-visability":"").concat(1===g?" bold":""),children:i.oneStarCount})]})]}),Object(r.jsxs)("div",{className:"right-side-stats",children:[Object(r.jsx)("div",{children:Object(r.jsx)("h6",{children:"Rating Breakdown"})}),Object(r.jsx)("div",{className:"overview-content",children:Object(r.jsx)("span",{children:"Seller communication level"})}),Object(r.jsx)("div",{className:"overview-content",children:Object(r.jsx)("span",{children:"Recommend to a friend"})}),Object(r.jsx)("div",{className:" overview-content flex space-between",children:Object(r.jsx)("span",{children:"Service as described"})})]}),Object(r.jsxs)("div",{className:"stars flex column",children:[Object(r.jsxs)("div",{children:[Object(r.jsx)("span",{children:a()}),Object(r.jsx)("div",{children:Object(r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1792 1792",width:"15",height:"15",children:Object(r.jsx)("path",{fill:"currentColor",d:"M1728 647q0 22-26 48l-363 354 86 500q1 7 1 20 0 21-10.5 35.5t-30.5 14.5q-19 0-40-12l-449-236-449 236q-22 12-40 12-21 0-31.5-14.5t-10.5-35.5q0-6 2-20l86-500-364-354q-25-27-25-48 0-37 56-46l502-73 225-455q19-41 49-41t49 41l225 455 502 73q56 9 56 46z"})})})]}),Object(r.jsxs)("div",{children:[Object(r.jsx)("span",{children:a()}),Object(r.jsx)("div",{children:Object(r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1792 1792",width:"15",height:"15",children:Object(r.jsx)("path",{fill:"currentColor",d:"M1728 647q0 22-26 48l-363 354 86 500q1 7 1 20 0 21-10.5 35.5t-30.5 14.5q-19 0-40-12l-449-236-449 236q-22 12-40 12-21 0-31.5-14.5t-10.5-35.5q0-6 2-20l86-500-364-354q-25-27-25-48 0-37 56-46l502-73 225-455q19-41 49-41t49 41l225 455 502 73q56 9 56 46z"})})})]}),Object(r.jsxs)("div",{children:[Object(r.jsx)("span",{children:a()}),Object(r.jsx)("div",{children:Object(r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1792 1792",width:"15",height:"15",children:Object(r.jsx)("path",{fill:"currentColor",d:"M1728 647q0 22-26 48l-363 354 86 500q1 7 1 20 0 21-10.5 35.5t-30.5 14.5q-19 0-40-12l-449-236-449 236q-22 12-40 12-21 0-31.5-14.5t-10.5-35.5q0-6 2-20l86-500-364-354q-25-27-25-48 0-37 56-46l502-73 225-455q19-41 49-41t49 41l225 455 502 73q56 9 56 46z"})})})]})]})]})]})}function mt(e){var t=e.reviews,n=e.idx;return t[n].by?Object(r.jsx)(r.Fragment,{children:Object(r.jsxs)("div",{className:"short-content",children:[Object(r.jsxs)("div",{className:"content-wrapper flex",children:[Object(r.jsx)("div",{className:"avatar-container",children:Object(r.jsx)(We.a,{src:t[n].by.imgUrl})}),Object(r.jsxs)("div",{className:"content flex align-center",children:[Object(r.jsx)("h6",{children:t[n].by.fullname}),Object(r.jsx)(Ye.IconFlagUS,{className:"country-icon"}),Object(r.jsx)("span",{className:"country-name",children:"united states"}),Object(r.jsx)("svg",{className:"star-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1792 1792",width:"15",height:"15",children:Object(r.jsx)("path",{fill:"currentColor",d:"M1728 647q0 22-26 48l-363 354 86 500q1 7 1 20 0 21-10.5 35.5t-30.5 14.5q-19 0-40-12l-449-236-449 236q-22 12-40 12-21 0-31.5-14.5t-10.5-35.5q0-6 2-20l86-500-364-354q-25-27-25-48 0-37 56-46l502-73 225-455q19-41 49-41t49 41l225 455 502 73q56 9 56 46z"})}),Object(r.jsx)("span",{className:"rating",children:t[n].rating})]})]}),Object(r.jsx)("p",{children:t[n].txt})]})}):Object(r.jsx)("div",{})}function ft(e){var t=e.gig,n=e.reviews,s=e.currShortReviewIdx,a=e.shortReviewSize;return t?Object(r.jsx)("section",{className:"short-review slide flex",style:{transform:"translateX(".concat(s*a,"rem)")},children:n.map((function(e,t){return Object(r.jsx)(mt,{reviews:n,idx:t},"".concat(e.id))}))}):Object(r.jsx)("div",{children:"loading"})}var xt=n(240),Ot=n.n(xt);function wt(e){var t=e.gig,n=e.numImgChoosen,s=e.onChooseImg,a=e.onToggleImgLightbox;return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)("div",{className:"img-details-conatiner",onClick:function(){return a()},children:[Object(r.jsx)(Ot.a,{className:"full-screen-icon"}),Object(r.jsx)("img",{src:t.imgUrls[n],alt:""})]}),Object(r.jsx)("div",{className:"main-imgs-container",children:Object(r.jsx)("div",{className:"imgs-gallery-container flex",children:t.imgUrls.map((function(e,t){var a="img-gallery";return n===t&&(a+=" active"),Object(r.jsx)("div",{onClick:function(){return s(t)},className:a,children:Object(r.jsx)("img",{src:e,alt:""})},t)}))})})]})}var yt=n(241),St=n.n(yt),Nt=function(e){Object(h.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(g.a)(this,n);for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).state={items:null,itemsLength:0},e.createItems=function(e){if(e<=0)return null;for(var t=[],n=0;n<e;n++)t.push({idx:n});return t},e.Item=function(t){var n=e.props.imgUrls;return Object(r.jsx)("img",{alt:"",src:"".concat(n[t.item.idx])})},e}return Object(j.a)(n,[{key:"componentDidMount",value:function(){var e=this.props.imgUrls.length,t=this.createItems(e);this.setState({items:t,itemsLength:e})}},{key:"render",value:function(){var e=this,t=this.state.items;return t&&t.length?Object(r.jsx)(St.a,{children:t.map((function(t,n){return Object(r.jsx)(e.Item,{item:t},n)}))}):Object(r.jsx)("div",{})}}]),n}(a.a.Component),Ct=n(242),kt=n.n(Ct),It=n(33),qt=n(52),Gt=(n(451),n(243)),Ut=n.n(Gt),Tt=function(e){Object(h.a)(n,e);var t=Object(p.a)(n);function n(e){var r;return Object(g.a)(this,n),(r=t.call(this,e)).state={innerHtml:""},r.onSetHtml=function(e){r.setState({innerHtml:e})},r.handleChange=function(e){var t=e.target,n=t.name;console.log("field",n);var r=t.value;console.log("value",r)},r.state={editorState:qt.EditorState.createEmpty()},r.focus=function(){return r.refs.editor.focus()},r.onChange=function(e){return r.setState({editorState:e})},r.handleKeyCommand=r._handleKeyCommand.bind(Object(It.a)(r)),r.mapKeyToEditorCommand=r._mapKeyToEditorCommand.bind(Object(It.a)(r)),r.toggleBlockType=r._toggleBlockType.bind(Object(It.a)(r)),r.toggleInlineStyle=r._toggleInlineStyle.bind(Object(It.a)(r)),r}return Object(j.a)(n,[{key:"componentDidMount",value:function(){this.setState({innerHtml:this.props.desc})}},{key:"_handleKeyCommand",value:function(e,t){var n=qt.RichUtils.handleKeyCommand(t,e);return!!n&&(this.onChange(n),!0)}},{key:"_mapKeyToEditorCommand",value:function(e){if(9!==e.keyCode)return Object(qt.getDefaultKeyBinding)(e);var t=qt.RichUtils.onTab(e,this.state.editorState,4);t!==this.state.editorState&&this.onChange(t)}},{key:"_toggleBlockType",value:function(e){this.onChange(qt.RichUtils.toggleBlockType(this.state.editorState,e))}},{key:"_toggleInlineStyle",value:function(e){this.onChange(qt.RichUtils.toggleInlineStyle(this.state.editorState,e))}},{key:"render",value:function(){var e=this,t=this.props.desc;if(document.querySelector(".data-text")){var n=document.querySelector(".data-text");console.log("document.querySelector('.data-text')!!!",document.querySelector(".data-text")),n.innerHtml="5"}console.log("render , desc",t),this.state.innerHtml&&console.log("innerHtml",this.state.innerHtml);var s=this.state.editorState;console.log("render , editorState",s);var a="RichEditor-editor",i=s.getCurrentContent();return i.hasText()||"unstyled"!==i.getBlockMap().first().getType()&&(a+=" RichEditor-hidePlaceholder"),Object(r.jsxs)("div",{className:"RichEditor-root main-layout",children:[Object(r.jsx)(Et,{editorState:s,onToggle:this.toggleBlockType}),Object(r.jsx)(_t,{editorState:s,onToggle:this.toggleInlineStyle}),Object(r.jsxs)("div",{className:a,onClick:this.focus,children:[Object(r.jsx)(qt.Editor,{blockStyleFn:Mt,customStyleMap:t,editorState:s,handleKeyCommand:this.handleKeyCommand,keyBindingFn:this.mapKeyToEditorCommand,onChange:this.onChange,placeholder:this.state.innerHtml,ref:"editor",spellCheck:!0,textDirectionality:t,editable:!1}),Object(r.jsx)("button",{onClick:function(){return e.props.onSaveHtml(Ut()(Object(qt.convertToRaw)(s.getCurrentContent())))},children:"Save"})]})]})}}]),n}(a.a.Component);function Mt(e){switch(e.getType()){case"blockquote":return"RichEditor-blockquote";default:return null}}var Rt=function(e){Object(h.a)(n,e);var t=Object(p.a)(n);function n(){var e;return Object(g.a)(this,n),(e=t.call(this)).onToggle=function(t){t.preventDefault(),e.props.onToggle(e.props.style)},e}return Object(j.a)(n,[{key:"render",value:function(){var e="RichEditor-styleButton";return this.props.active&&(e+=" RichEditor-activeButton"),Object(r.jsx)("span",{className:e,onMouseDown:this.onToggle,children:this.props.label})}}]),n}(a.a.Component),Dt=[{label:"H1",style:"header-one"},{label:"H2",style:"header-two"},{label:"H3",style:"header-three"},{label:"H4",style:"header-four"},{label:"H5",style:"header-five"},{label:"H6",style:"header-six"},{label:"Blockquote",style:"blockquote"},{label:"UL",style:"unordered-list-item"},{label:"OL",style:"ordered-list-item"},{label:"Code Block",style:"code-block"}],Et=function(e){var t=e.editorState,n=t.getSelection(),s=t.getCurrentContent().getBlockForKey(n.getStartKey()).getType();return Object(r.jsx)("div",{className:"RichEditor-controls",children:Dt.map((function(t){return Object(r.jsx)(Rt,{active:t.style===s,label:t.label,onToggle:e.onToggle,style:t.style},t.label)}))})},Ft=[{label:"Bold",style:"BOLD"},{label:"Italic",style:"ITALIC"},{label:"Underline",style:"UNDERLINE"},{label:"Monospace",style:"CODE"}],_t=function(e){var t=e.editorState.getCurrentInlineStyle();return console.log("InlineStyleControls , currentStyle",t),Object(r.jsx)("div",{className:"RichEditor-controls",children:Ft.map((function(n){return Object(r.jsx)(Rt,{active:t.has(n.style),label:n.label,onToggle:e.onToggle,style:n.style},n.label)}))})},At=Tt,Bt=n(244),Ht=n.n(Bt),Pt=function(e){Object(h.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(g.a)(this,n);for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return(e=t.call.apply(t,[this].concat(s))).state={gigs:[]},e.getGigsForDisplay=function(){var t=e.props.tags;return t?e.props.gigs.filter((function(e){return e.tags.includes(t[0])})):e.props.gigs},e}return Object(j.a)(n,[{key:"componentDidMount",value:function(){var e=this.props.tags;if(e){var t=this.props.gigs.filter((function(t){return t.tags.includes(e[0])}));this.setState({gigs:t})}}},{key:"render",value:function(){var e=this,t=this.state.posX,n={transform:"translateX(".concat(t,"px)")},s={backgroundColor:this.props.bgColor},a=this.getGigsForDisplay()||[];return Object(r.jsxs)("section",{className:"gig-strip main-container",style:s,children:[Object(r.jsxs)("div",{className:"head flex space-between",children:[Object(r.jsx)("h2",{className:"strip-title",children:this.props.title}),Object(r.jsx)("a",{className:"see-all",children:"See all >"})]}),Object(r.jsx)("ul",{className:"strip-wrap clean-list",style:n,children:a.map((function(t){return Object(r.jsx)(ne,{gig:t,onUserViewGig:e.props.onUserViewGig,onFavoriteToggle:e.props.onFavoriteToggle,user:e.props.user},t._id)}))})]})}}]),n}(a.a.Component),Lt=function(e){Object(h.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(g.a)(this,n);for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).state={gig:null,isGigOwner:!0,isTitleEditble:!1,isDescEditble:!1,numImgChoosen:0,isLightBoxOpen:!1,currImg:"",currShortReviewIdx:0,shortReviewSize:39.4189375,isFullSizeScreen:!0,htmlDesc:"",suggestedGigs:[],mobileStarStats:!1,isHelful:!1},e.onSetSizes=function(){var t,n=!0,r=window.innerWidth;r>1200&&(t=33.4375),r<1040&&r>=860&&(t=33.4375),r<860&&(t=30),r<=860&&(n=!1),r<=945&&r>900&&(t=29.2375),e.setState({shortReviewSize:t,isFullSizeScreen:n,mobileStarStats:true})},e.onToggleImgLightbox=function(){var t=e.state.isLightBoxOpen,n=e.state.numImgChoosen,r=e.state.gig.imgUrls[n];e.setState({isLightBoxOpen:!t,currImg:r})},e.toggleIsTitleEditble=function(t){t=!t,e.setState({isTitleEditble:t})},e.toggleIsDescEditble=function(t){t=!e.state.isDescEditble,e.setState({isDescEditble:t})},e.onEdit=function(t){t.preventDefault();var n=e.state,r=n.isTitleEditble,s=n.isDescEditble;r&&e.toggleIsTitleEditble(r),s&&e.toggleIsDescEditble(s);var a=e.state.gig;e.props.addGig(a).then((function(){console.log("adeed sucessfully")}))},e.onChooseImg=function(t){e.setState({numImgChoosen:t})},e.onNextShortReview=function(){var t=e.state.currShortReviewIdx,n=e.state.gig.reviews;0===t&&(t=-n.length),t++,e.setState({currShortReviewIdx:t})},e.onPrevShortReview=function(){var t=e.state.currShortReviewIdx;t===-(e.state.gig.reviews.length-1)&&(t=1),t--,e.setState({currShortReviewIdx:t})},e.onNextPageLightBox=function(t){t.stopPropagation();var n=e.state.numImgChoosen,r=e.state.gig;++n===r.imgUrls.length&&(n=0);var s=r.imgUrls[n];e.setState({numImgChoosen:n,currImg:s})},e.onPrevPageLightBox=function(t){t.stopPropagation();var n=e.state.numImgChoosen,r=e.state.gig;-1===--n&&(n=r.imgUrls.length-1);var s=r.imgUrls[n];e.setState({numImgChoosen:n,currImg:s})},e.getAvgRate=function(){if(e.state.gig){var t=e.state.gig.reviews,n=t.reduce((function(e,t){return e+t.rating}),0),s=Math.floor(n/t.length),a=[];s>5&&(s=5);for(var i=0;i<s;i++)a.push(Object(r.jsx)(_e.a,{className:"seller-star"},"".concat(i)));return a}},e.onSave=function(t,n){var r=Object(f.a)({},e.state.gig);r[t]=n,e.props.updateGig(r).then((function(){console.log("updated successfuuly")}))},e.onRemoveGig=function(){var t=e.state.gig;e.props.removeGig(t._id).then((function(){e.props.history.push("/gig"),console.log("remove succefully")}))},e.onUserViewGig=function(t){var n=Object(f.a)({},e.props.user);n.viewedGigIds?n.viewedGigIds.find((function(e){return e===t}))||n.viewedGigIds.push(t):n.viewedGigIds=[t],e.props.updateUser(n)},e.onFavoriteToggle=function(t,n){t.stopPropagation();var r=Object(f.a)({},e.props.user);r.favoriteIds?r.favoriteIds.find((function(e){return e===n}))?r.favoriteIds=r.favoriteIds.filter((function(e){return e!==n})):r.favoriteIds.push(n):r.favoriteIds=[n],e.props.updateUser(r)},e.onSaveHtml=function(t){e.setState({htmlDesc:t}),e.toggleIsDescEditble()},e.onToggleHelfull=function(){var t=e.state.isHelful;e.setState({isHelful:!t})},e.getStars=function(){var t=e.state.gig,n=t.reviews,r=0,s=0,a=0,i=0,c=0,o=0;return n.map((function(e){var t=parseFloat(e.rating);return t||(t=0),t>4&&t<=5&&s++,t<=4&&t>3&&a++,t<=3&&t>2&&i++,t<=2&&t>1&&c++,t<=1&&t>=0&&o++,r+=t})),r/=t.reviews.length,{oneStarCount:o,twoStarCount:c,threeStarCount:i,fourStarCount:a,fiveStarCount:s,totalStarsRate:r}},e.calculateAvgHalfRating=function(){var t=e.getStars().totalStarsRate;return t<=5&&t>=4.5&&(t=5),t<4.5&&t>=4&&(t=4.5),t<4&&t>=3.5&&(t=4),t<3.5&&t>=3&&(t=3.5),t<3&&t>=2.5&&(t=3),t<2.5&&t>=2&&(t=2.5),t<2&&t>=1.5&&(t=2),t<1.5&&t>=1&&(t=1.5),t<1&&t>=.5&&(t=1),t<.5&&t>=0&&(t=.5),t<0?"":t},e.getBiggestStarRate=function(){var t=e.getStars(),n=t.oneStarCount,r=t.twoStarCount,s=t.threeStarCount,a=t.fourStarCount,i=t.fiveStarCount,c=Math.max(n,r,s,a,i);return c===i?5:c===a?4:c===s?3:c===r?2:c===n?1:-1},e}return Object(j.a)(n,[{key:"componentDidMount",value:function(){var e=Object(d.a)(u.a.mark((function e(){var t,n,r,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return y.setup(),t=this.props.match.params.gigId,e.next=4,de(t);case 4:n=e.sent,this.props.loadGigs(),r=this.state.numImgChoosen,(s=n.imgUrls[r])&&this.setState({gig:n,currImg:s}),this.onSetSizes(),this.setState({gig:n});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,n=t.gig,s=t.numImgChoosen,a=t.isTitleEditble,i=t.isGigOwner,c=t.isDescEditble,o=t.isLightBoxOpen,l=t.isFullSizeScreen,u=t.shortReviewSize,d=t.isHelful,g=this.props.user,j=this.state.currImg,h=this.getAvgRate();return n?Object(r.jsxs)(r.Fragment,{children:[o&&Object(r.jsx)(it,{gig:n,onToggleImgLightbox:this.onToggleImgLightbox,currImg:j,onNextPageLightBox:this.onNextPageLightBox,onPrevPageLightBox:this.onPrevPageLightBox}),Object(r.jsx)("section",{className:"details-wrapper main-container",children:Object(r.jsxs)("div",{className:"gig-details",children:[Object(r.jsxs)("div",{className:"main-details",children:[Object(r.jsx)(dt,{field:"title",type:"h1",text:n.title,save:this.onSave,editable:a}),a&&Object(r.jsx)("button",{onClick:this.onEdit,children:"Save"}),Object(r.jsx)(bt,{gig:n,htmlStars:h,getBiggestStarRate:this.getBiggestStarRate,calculateAvgHalfRating:this.calculateAvgHalfRating,getStars:this.getStars}),!l&&Object(r.jsx)("div",{className:"carousle-container",children:Object(r.jsx)(Nt,{imgUrls:n.imgUrls})}),l&&Object(r.jsx)(wt,{gig:n,numImgChoosen:s,onChooseImg:this.onChooseImg,onToggleImgLightbox:this.onToggleImgLightbox}),Object(r.jsx)("div",{className:"responsive-side-bar-container",children:!l&&Object(r.jsx)(ze,{gig:n,onGigOrder:this.onGigOrder})}),Object(r.jsxs)("div",{className:"short-review-header flex space-between",children:[Object(r.jsx)("h2",{children:"What people loved about this seller"}),Object(r.jsx)(kt.a,{href:"#reviews",children:"See all reviews"})]}),n.reviews&&Object(r.jsxs)("div",{className:"short-review-main",children:[Object(r.jsx)(ft,{shortReviewSize:u,currShortReviewIdx:this.state.currShortReviewIdx,gig:n,reviews:n.reviews}),n.reviews.length>1&&Object(r.jsx)(pt.a,{className:"slide-left-review",onClick:function(){return e.onNextShortReview()}}),n.reviews.length>1&&Object(r.jsx)(jt.a,{className:"slide-right-review",onClick:function(){return e.onPrevShortReview()}})]}),Object(r.jsxs)("div",{id:"description",className:"desc",children:[Object(r.jsx)("h2",{children:"About This Gig"}),Object(r.jsxs)("div",{className:"about flex",children:[i&&Object(r.jsx)(dt,{dangerouslySetInnerHTML:{__html:"".concat(this.state.htmlDesc)},className:"gig-desc",field:"desc",type:"h4",text:n.desc,save:this.onSave,editable:c}),!c&&Object(r.jsx)("div",{dangerouslySetInnerHTML:{__html:"".concat(this.state.htmlDesc)}}),c&&Object(r.jsx)(At,{desc:"<h1>tomer<h1>",onSaveHtml:this.onSaveHtml})]})]}),Object(r.jsx)(qe,{seller:n.owner,gig:n,getBiggestStarRate:this.getBiggestStarRate,calculateAvgHalfRating:this.calculateAvgHalfRating,getStars:this.getStars}),Object(r.jsx)("div",{children:Object(r.jsx)("div",{className:"suggestd-list-wrapper ",children:Object(r.jsx)(Pt,{title:"Suggested For You",className:"suggested-strip-scroll-list",gigs:this.props.gigs,onUserViewGig:this.onUserViewGig,onFavoriteToggle:this.onFavoriteToggle,user:this.props.user,onDelete:this.onDelete})})}),Object(r.jsx)(vt,{gig:n,htmlStars:h,getBiggestStarRate:this.getBiggestStarRate,calculateAvgHalfRating:this.calculateAvgHalfRating,getStars:this.getStars}),g&&Object(r.jsx)(Ie,{gig:n,user:g,onAddReview:this.onAddReview,mobileStarStats:this.state.mobileStarStats}),Object(r.jsx)("div",{className:"review-list-wrapper",children:Object(r.jsx)(Ze,{gig:n,user:g,onToggleHelfull:this.onToggleHelfull,isHelful:d})})]}),l&&Object(r.jsx)(ze,{gig:n,onGigOrder:this.onGigOrder})]})})]}):Object(r.jsx)(Ht.a,{className:"flex justify-center",type:"ThreeDots",height:80,width:80,color:"#2bbe76"})}}]),n}(a.a.Component),Vt={addGig:pe,updateGig:be,removeGig:he,orderGig:Ee,setFilter:ve,updateUser:V,loadGigs:ue},zt=Object(v.b)((function(e){return{gigs:e.gigModule.gigs,user:e.userModule.user}}),Vt)(Lt),Wt=n(113),Kt=n.n(Wt),$t=function(e){Object(h.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(g.a)(this,n);for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return(e=t.call.apply(t,[this].concat(s))).state={gig:{title:"",desc:"",packages:null,tags:""},currFeature:"",currTag:""},e.featureIdx=0,e.tagIdx=0,e.onSaveNewGig=function(){var t=Object(d.a)(u.a.mark((function t(n){var r;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),(r=e.state.gig).tags.filter((function(e){return e.length<1})),r.packages[0].features.filter((function(e){return e.length<1})),console.log("saving gig:",r),t.next=7,e.props.addGig(r);case 7:e.props.history.push("/gig");case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.createTemplatePackages=function(){return[{type:"basic",desc:"",price:0,revisionCount:0,deliveryDays:0,features:[]}]},e.createGigTemplate=function(){var t=e.props.user;return{title:"",desc:"",tags:[],packages:e.createTemplatePackages(),owner:t,imgUrls:["https://fiverr-res.cloudinary.com/images/t_main1,q_auto,f_auto,q_auto,f_auto/gigs3/157536980/original/d7411fe67086a183a78e81950000dde20ee5b689/create-3d-model-and-render-your-sketch-or-2d-plan.jpg","https://fiverr-res.cloudinary.com/images/t_smartwm/t_main1,q_auto,f_auto,q_auto,f_auto/attachments/delivery/asset/d91dab5d590614ec0c36060db1ba1c67-1606486728/Stationery%202/do-a-minimalist-logo-business-card-and-stationery.jpg","https://fiverr-res.cloudinary.com/images/t_main1,q_auto,f_auto,q_auto,f_auto/gigs2/156162379/original/9087a56206fcc647d954fbe88c28fc61d673b936/create-luxury-geometric-patterns-and-background-for-you.png"],reviews:[]}},e.handleInput=function(t){var n=t.target,r=n.name,s=n.value;"tags"===r&&(s=[s]);e.setState((function(e){return{gig:Object(f.a)(Object(f.a)({},e.gig),{},Object(m.a)({},r,s))}}))},e.handlePackagesInputs=function(t){var n,r=t.target,s=r.name;n="number"===r.type?+r.value:r.value;var a=e.state.gig.packages,i=Object(f.a)({},a[0]);i[s]=n,a[0]=Object(f.a)({},i),e.setState((function(e){return{gig:Object(f.a)(Object(f.a)({},e.gig),{},{packages:a})}}))},e.addFeature=function(t){t.preventDefault();var n=Object(x.a)(e.state.gig.packages),r=t.target.value;13===t.keyCode?(n[0].features[e.featureIdx]=r,e.setState((function(e){return Object(f.a)(Object(f.a)({},e),{},{gig:Object(f.a)(Object(f.a)({},e.gig),{},{packages:n}),currFeature:""})})),e.featureIdx+=1):e.setState((function(e){return Object(f.a)(Object(f.a)({},e),{},{currFeature:r})}))},e.removeFeature=function(t){var n=e.state.gig.packages[0].features.filter((function(e){return e!==t})),r=Object(x.a)(e.state.gig.packages);r[0].features=n,e.setState((function(e){return Object(f.a)(Object(f.a)({},e),{},{gig:Object(f.a)(Object(f.a)({},e.gig),{},{packages:r})})}))},e.addTag=function(t){t.preventDefault();var n=Object(f.a)({},e.state.gig).tags,r=t.target.value;13===t.keyCode?(n[e.tagIdx]=r,e.setState((function(e){return Object(f.a)(Object(f.a)({},e),{},{gig:Object(f.a)(Object(f.a)({},e.gig),{},{tags:n}),currTag:""})})),e.tagIdx+=1):e.setState((function(e){return Object(f.a)(Object(f.a)({},e),{},{currTag:r})}))},e.removeTag=function(t){var n=e.state.gig.tags.filter((function(e){return e!==t}));e.setState((function(e){return Object(f.a)(Object(f.a)({},e),{},{gig:Object(f.a)(Object(f.a)({},e.gig),{},{tags:n})})}))},e.uploadImage=function(){var t=Object(d.a)(u.a.mark((function t(n){var r,s,a;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,S.uploadImg(n);case 2:r=t.sent,console.log(r),s=r.secure_url,a=[].concat(Object(x.a)(e.state.gig.imgUrls),[s]),e.setState((function(e){return{gig:Object(f.a)(Object(f.a)({},e.gig),{},{imgUrls:a})}}));case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.removeImage=function(t){var n=e.state.gig.imgUrls.filter((function(e){return e!==t}));e.setState((function(e){return{gig:Object(f.a)(Object(f.a)({},e.gig),{},{imgUrls:n})}}))},e}return Object(j.a)(n,[{key:"componentDidMount",value:function(){var e=this.createGigTemplate();this.setState({gig:e})}},{key:"render",value:function(){var e=this,t=this.state.gig;return t.packages?Object(r.jsxs)("section",{className:"gig-edit main-layout",children:[Object(r.jsxs)("form",{className:"flex column justify-center",children:[Object(r.jsxs)("div",{className:"gig-basics",children:[Object(r.jsx)("h4",{children:"Gig title"}),Object(r.jsx)("textarea",{name:"title",autoFocus:!0,rows:"2",cols:"60",type:"text",placeholder:"Enter Gig Title...",value:t.title,onChange:this.handleInput,required:!0,autoComplete:"off"}),Object(r.jsx)("h4",{children:"Description"}),Object(r.jsx)("textarea",{name:"desc",rows:"5",cols:"60",type:"text",placeholder:"Enter Gig Desc...",value:t.desc,onChange:this.handleInput,required:!0,autoComplete:"off"}),Object(r.jsx)("h4",{children:"Add some tags"}),Object(r.jsxs)("div",{className:"gig-tags flex",children:[Object(r.jsx)("input",{type:"text",name:"tag",placeholder:"video editing, session musician",value:this.state.currTag,onChange:this.addTag,onKeyUp:this.addTag}),Object(r.jsx)("ul",{className:"clean-list flex",children:t.tags.map((function(t){return Object(r.jsxs)("li",{children:[t,Object(r.jsx)(Q.a,{className:"clear-icon pointer",onClick:function(){return e.removeTag(t)}})]},t)}))})]})]}),Object(r.jsxs)("div",{className:"gig-package",children:[Object(r.jsx)("h4",{children:"Package"}),Object(r.jsx)("textarea",{name:"desc",rows:"3",cols:"60",value:t.packages[0].desc,type:"text",placeholder:"Enter package Desc...",onChange:this.handlePackagesInputs,required:!0,autoComplete:"off"}),Object(r.jsx)("h4",{children:"Add some package features"}),Object(r.jsxs)("div",{className:"package-features flex",children:[Object(r.jsx)("input",{type:"text",name:"feature",placeholder:"ex: responsive design, multi-language",value:this.state.currFeature,onChange:this.addFeature,onKeyUp:this.addFeature}),Object(r.jsx)("ul",{className:"clean-list flex",children:t.packages[0].features.map((function(t){return Object(r.jsxs)("li",{children:[t,Object(r.jsx)(Q.a,{className:"clear-icon pointer",onClick:function(){return e.removeFeature(t)}})]},t)}))})]}),Object(r.jsxs)("div",{className:"package-details",children:[Object(r.jsx)("h4",{children:"Package additional details"}),Object(r.jsxs)("div",{className:"flex wrap",children:[Object(r.jsxs)("div",{className:"flex wrap align-base",children:[Object(r.jsx)("label",{htmlFor:"price",children:"Price:"}),Object(r.jsx)("input",{type:"number",name:"price",id:"price",placeholder:"Package price",value:t.packages[0].price,onChange:this.handlePackagesInputs,required:!0,autoComplete:"off"})]}),Object(r.jsxs)("div",{className:"flex wrap align-base",children:[Object(r.jsx)("label",{htmlFor:"revisionCount",children:"Revisions:"}),Object(r.jsx)("input",{type:"number",name:"revisionCount",id:"revisionCount",placeholder:"Revision Count...",value:t.packages[0].revisionCount,onChange:this.handlePackagesInputs,required:!0,autoComplete:"off"})]}),Object(r.jsxs)("div",{className:"flex wrap align-base",children:[Object(r.jsx)("label",{htmlFor:"deliveryDays",children:"Delivery (days):"}),Object(r.jsx)("input",{type:"number",name:"deliveryDays",id:"deliveryDays",placeholder:"Days to deliver...",value:t.packages[0].deliveryDays,onChange:this.handlePackagesInputs,required:!0,autoComplete:"off"})]})]})]})]}),Object(r.jsxs)("div",{className:"gig-edit-images",children:[Object(r.jsxs)("div",{className:"flex",children:[Object(r.jsxs)("label",{className:"img-upload pointer",htmlFor:"uploadImg",children:[Object(r.jsx)("input",{onChange:this.uploadImage,type:"file",id:"uploadImg",hidden:!0}),Object(r.jsx)(Kt.a,{className:"camera-icon"})]}),Object(r.jsx)("h4",{children:"Add some photos"})]}),Object(r.jsx)("ul",{className:"clean-list flex",children:t.imgUrls.map((function(t){return Object(r.jsxs)("li",{className:"pointer",children:[Object(r.jsx)("img",{src:t,alt:""}),Object(r.jsx)(Q.a,{className:"clear-icon",onClick:function(){return e.removeImage(t)}})]},t)}))})]})]}),Object(r.jsx)("div",{children:Object(r.jsx)("button",{className:"gig-save",onClick:this.onSaveNewGig,children:"Save"})})]}):Object(r.jsx)("div",{children:"loading"})}}]),n}(s.Component),Jt={addGig:pe},Xt=Object(v.b)((function(e){return{gigs:e.gigModule.gigs,user:e.userModule.user}}),Jt)($t),Yt=n(247),Qt=n.n(Yt),Zt=n(584);function en(e){var t=e.order,n=e.onOrderStatusChanged;function s(){switch(t.status){case"pending":return{statusStyle:{backgroundColor:"rgb(245, 41, 75)"},statusMsg:"Buyer is waiting for your response",ctaButtonText:"Approve Order",nextStatus:"approved"};case"approved":return{statusStyle:{backgroundColor:"rgb(254, 190, 45)"},statusMsg:"This gig is in progress",ctaButtonText:"Deliver Now",nextStatus:"completed"};case"completed":return{statusStyle:{backgroundColor:"rgb(43, 190, 118)"},statusMsg:"Gig is complete - High Six!",ctaButtonText:"Archive Gig",nextStatus:"archived"};case"archived":return{statusStyle:{backgroundColor:"rgb(200, 200, 200)"},statusMsg:"Dust... everywhere...",ctaButtonText:"Start Over",nextStatus:"pending"}}}return Object(r.jsx)(r.Fragment,{children:Object(r.jsxs)("li",{className:"order-item",children:[Object(r.jsx)("div",{className:"item-color",style:s().statusStyle}),Object(r.jsxs)("div",{className:"order-top",children:[Object(r.jsx)("div",{className:"order-img",children:Object(r.jsx)("img",{src:t.gig.imgUrl,alt:""})}),Object(r.jsxs)("div",{className:"order-buyer-wrapper flex align-center",children:[Object(r.jsx)("img",{src:t.buyer.imgUrl}),Object(r.jsxs)("div",{className:"order-buyer",children:[Object(r.jsx)("p",{children:Object(r.jsx)("span",{children:t.buyer.fullname})}),Object(r.jsx)("p",{className:"green",children:"View Order"})]})]}),Object(r.jsxs)("div",{className:"order-price flex",children:[Object(r.jsx)("p",{className:"light-grey",children:"Price"}),Object(r.jsxs)("p",{className:"light-grey",children:["$",t.totalPrice]})]}),Object(r.jsxs)("div",{className:"order-date flex",children:[Object(r.jsx)("p",{className:"light-grey",children:"Delivery Time"}),Object(r.jsxs)("div",{className:"flex align-center light-grey",children:[Object(r.jsx)(Qt.a,{className:"clock"}),Object(r.jsx)("p",{children:tn(t.createdAt)})]})]})]}),Object(r.jsx)("hr",{}),Object(r.jsxs)("div",{className:"order-bottom flex space-between align-center",children:[Object(r.jsxs)("div",{className:"order-status flex align-center",children:[Object(r.jsx)(Zt.a,{timeout:500,classNames:"alert",children:Object(r.jsx)("span",{style:s().statusStyle,children:t.status})}),Object(r.jsx)("p",{className:"light-grey",children:s().statusMsg})]}),Object(r.jsx)("button",{onClick:function(){t.status=s().nextStatus,n(t)},children:s().ctaButtonText})]})]})})}function tn(e){var t=864e5,n=e+3*t-Date.now(),r=Math.floor(n/t);n-=r*t;var s=Math.floor(n/36e5);return"".concat(r," Days, ").concat(s," Hrs")}function nn(e){var t=e.orders,n=e.onOrderStatusChanged;return Object(r.jsx)("section",{className:"order-list",children:Object(r.jsx)("ul",{className:"orders-wrap clean-list",children:t.map((function(e){return Object(r.jsx)(en,{order:e,onOrderStatusChanged:n},e._id)}))})})}var rn=n(248),sn="rgb(43, 190, 118)",an=function(e){Object(h.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(g.a)(this,n);for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return(e=t.call.apply(t,[this].concat(s))).state={chart:{labels:["Aug","Sep","Oct","Nov","Dec","Jan"],datasets:[{label:"Revenue",data:[158,237,395,316,474,632],backgroundColor:[sn,sn,sn,sn,sn,sn]}]}},e}return Object(j.a)(n,[{key:"render",value:function(){var e=this.state.chart;return Object(r.jsx)(r.Fragment,{children:Object(r.jsx)(rn.Bar,{data:e,options:{layout:{padding:{top:5,left:0,right:0,bottom:15}},scales:{xAxes:[{ticks:{display:!0},gridLines:{display:!1,drawBorder:!0}}],yAxes:[{ticks:{display:!0},gridLines:{display:!1,drawBorder:!0}}]}},width:100,height:80})})}}]),n}(a.a.Component),cn=Object(v.b)((function(e){return{user:e.userModule.user}}),{})(an),on=function(e){Object(h.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(g.a)(this,n);for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return(e=t.call.apply(t,[this].concat(s))).state={from:"IL",memberSince:"2021",lastViewed:[],myGigs:[],ordersAsSeller:[]},e.onNewOrder=function(){var t=Object(d.a)(u.a.mark((function t(n){var r,s;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.props.user,t.next=3,e.props.loadOrders();case 3:(s=e.props.orders.filter((function(e){var t;return null===(t=r.myGigIds)||void 0===t?void 0:t.find((function(t){return t===e.gig._id}))}))).sort((function(e,t){return t.createdAt-e.createdAt})),e.setState((function(e){return Object(f.a)(Object(f.a)({},e),{},{ordersAsSeller:s})})),"thank you",console.log("NEWWWWWW",n),y.emit("chat newMsg",{to:n.from._id,from:r,txt:"thank you"});case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.handleInput=function(t){var n=t.target.innerText;e.setState((function(e){return Object(f.a)(Object(f.a)({},e),{},{fullname:n})}))},e.onUploadImg=function(t){e.props.onImageChange(t)},e.onSave=function(t,n){var r=Object(f.a)({},e.props.user);r[t]=n,e.props.updateUser(r)},e.onFavoriteToggle=function(t,n){t.stopPropagation();var r=Object(f.a)({},e.props.user);r.favoriteIds?r.favoriteIds.find((function(e){return e===n}))?r.favoriteIds=r.favoriteIds.filter((function(e){return e!==n})):r.favoriteIds.push(n):r.favoriteIds=[n],e.props.updateUser(r)},e.onRemoveViewed=function(t){var n=Object(f.a)({},e.props.user);n.viewedGigIds=n.viewedGigIds.filter((function(e){return e!==t})),e.props.updateUser(n);var r=e.state.lastViewed.filter((function(e){return e._id!==t}));e.setState({lastViewed:r})},e.onOrderStatusChanged=function(t){e.props.updateOrder(t)},e}return Object(j.a)(n,[{key:"componentDidMount",value:function(){var e=Object(d.a)(u.a.mark((function e(){var t,n,r,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.user,y.on("order received",this.onNewOrder),e.next=4,this.props.loadGigs();case 4:return e.next=6,this.props.loadOrders();case 6:if((n=this.props.orders.filter((function(e){var n;return null===(n=t.myGigIds)||void 0===n?void 0:n.find((function(t){return t===e.gig._id}))}))).sort((function(e,t){return t.createdAt-e.createdAt})),!t.myGigIds){e.next=14;break}return e.next=11,ge(t.myGigIds);case 11:e.t0=e.sent,e.next=15;break;case 14:e.t0=[];case 15:if(r=e.t0,!t.viewedGigIds){e.next=22;break}return e.next=19,ge(t.viewedGigIds);case 19:e.t1=e.sent,e.next=23;break;case 22:e.t1=[];case 23:s=e.t1,this.setState((function(e){return Object(f.a)(Object(f.a)({},e),{},{myGigs:r,lastViewed:s,ordersAsSeller:n})}));case 25:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){y.off("order received",this.onNewOrder)}},{key:"render",value:function(){var e=this,t=this.state,n=t.chart,s=(t.from,t.memberSince),a=(t.lastViewed,t.suggestedGigs,t.favoriteGigs,t.myGigs),i=(t.ordersAsBuyer,t.ordersAsSeller),c=this.sellerTotalIncome;console.log("chart data:",n);var o=this.props.user;return console.log(o),o?Object(r.jsxs)("section",{className:"profile main-container mrg-top",children:[Object(r.jsxs)("div",{className:"top-section",children:[Object(r.jsxs)("div",{className:"about-user flex column",children:[Object(r.jsxs)("label",{className:"img-upload pointer",htmlFor:"uploadImg",children:[Object(r.jsx)("img",{src:o.imgUrl}),Object(r.jsx)("input",{onChange:this.onUploadImg,type:"file",id:"uploadImg",hidden:!0}),Object(r.jsx)(Kt.a,{className:"camera-icon"})]}),Object(r.jsx)("h1",{children:o.fullname}),Object(r.jsx)("p",{children:"Level 2 Seller"}),Object(r.jsxs)("p",{children:["Member since ",s]}),Object(r.jsx)("hr",{}),Object(r.jsxs)("div",{className:"seller-scores",children:[Object(r.jsxs)("div",{className:"seller-score flex space-between align-center",children:[Object(r.jsx)("p",{children:"Response rate"}),Object(r.jsx)("div",{className:"score-bar",style:dn(91)}),Object(r.jsx)("span",{children:"91%"})]}),Object(r.jsxs)("div",{className:"seller-score flex space-between align-center",children:[Object(r.jsx)("p",{children:"Delivery time"}),Object(r.jsx)("div",{className:"score-bar",style:dn(77)}),Object(r.jsx)("span",{children:"77%"})]}),Object(r.jsxs)("div",{className:"seller-score flex space-between align-center",children:[Object(r.jsx)("p",{children:"Order Completion"}),Object(r.jsx)("div",{className:"score-bar",style:dn(95)}),Object(r.jsx)("span",{children:"95%"})]})]}),Object(r.jsx)("hr",{}),Object(r.jsxs)("div",{className:"seller-scores",children:[Object(r.jsxs)("div",{className:"seller-earnings flex space-between align-center",children:[Object(r.jsx)("p",{children:"Earnings In January"}),Object(r.jsxs)("span",{children:["$",c]})]}),Object(r.jsxs)("div",{className:"seller-earnings flex space-between align-center",children:[Object(r.jsx)("p",{children:"Response Time"}),Object(r.jsx)("span",{className:"green",children:"2Hrs"})]})]})]}),0!==i.length&&Object(r.jsxs)("div",{className:"seller-orders",children:[Object(r.jsxs)("h1",{children:["Active Orders - ",Object(r.jsxs)("span",{children:[i.length," ($",c,")"]})]}),Object(r.jsx)(nn,{orders:i.slice(0,8),onOrderStatusChanged:this.onOrderStatusChanged})]}),Object(r.jsx)("section",{className:"chart-wrapper",children:Object(r.jsx)(cn,{income:c})})]}),Object(r.jsxs)("div",{className:"my-gigs",children:[Object(r.jsx)("h1",{children:"My Gigs"}),0===a.length&&Object(r.jsxs)("div",{className:"start-selling flex align-center",children:[Object(r.jsx)("h2",{children:"You do not have any gigs yet."}),Object(r.jsx)("button",{onClick:function(){return e.props.history.push("/gig/edit")},children:"Start Selling"})]}),Object(r.jsx)(se,{gigs:a,onDelete:this.onDelete,onUserViewGig:function(){},onFavoriteToggle:this.onFavoriteToggle,user:o})]})]}):Object(r.jsx)("div",{children:"Loading..."})}},{key:"sellerTotalIncome",get:function(){return this.state.ordersAsSeller.reduce((function(e,t){return e+t.totalPrice}),0)}}]),n}(a.a.Component),ln={onImageChange:function(e){return function(){var t=Object(d.a)(u.a.mark((function t(n,r){var s,a,i;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,S.uploadImg(e);case 2:return s=t.sent,(a=Object(f.a)({},r().userModule.user)).imgUrl=s.secure_url,t.next=7,E.update(a);case 7:i=t.sent,n({type:"SET_USER",user:i});case 10:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},updateUser:V,loadGigs:ue,loadOrders:function(){return function(){var e=Object(d.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ue.query();case 2:n=e.sent,t({type:"SET_ORDERS",orders:n});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},updateOrder:function(e){return function(){var t=Object(d.a)(u.a.mark((function t(n){var r;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Ue.update(e);case 2:r=t.sent,n({type:"SAVE_ORDER",savedOrder:r});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}},un=Object(v.b)((function(e){return{user:e.userModule.user,gigs:e.gigModule.gigs,orders:e.orderModule.orders}}),ln)(on);function dn(e){return{background:"linear-gradient(90deg, ".concat("rgb(43, 190, 118)"," ").concat(e,"%, rgb(181, 182, 186) ").concat(e,".01%, rgb(200, 200, 200) 100%)")}}function gn(){return Object(r.jsx)("div",{style:{display:"inline-block",padding:"0 0 0 5px"},children:Object(r.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1792 1792",width:"15",height:"15",children:[" ",Object(r.jsx)("path",{fill:"currentColor",d:"M1728 647q0 22-26 48l-363 354 86 500q1 7 1 20 0 21-10.5 35.5t-30.5 14.5q-19 0-40-12l-449-236-449 236q-22 12-40 12-21 0-31.5-14.5t-10.5-35.5q0-6 2-20l86-500-364-354q-25-27-25-48 0-37 56-46l502-73 225-455q19-41 49-41t49 41l225 455 502 73q56 9 56 46z"})]})})}var jn=function(e){Object(h.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(g.a)(this,n);for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return(e=t.call.apply(t,[this].concat(s))).state={filterBy:{text:""},currHeroIdx:0,heros:[{imgUrl:"/assets/img/hero/woman1.jpg",username:"Paige Rank",occupation:"SEO Expert"},{imgUrl:"/assets/img/hero/man-microphone.jpg",whoAmI:"man",username:"Zach Brater",occupation:"Narrator"},{imgUrl:"/assets/img/hero/woman-editing.jpg",username:"Puka Bat David",occupation:"Mixing Engineer"},{imgUrl:"/assets/img/hero/man-producer.jpg",username:"60 cent",occupation:"Producer"}]},e.handleChange=function(t){var n=t.target,r=n.name,s=n.value;e.setState((function(e){return{filterBy:Object(f.a)(Object(f.a)({},e.filterBy),{},Object(m.a)({},r,s))}}),(function(){e.onSetFilter(e.state.filterBy)}))},e.onSetFilter=function(t){e.props.setFilter(t)},e.onSearch=function(){e.props.history.push("/gig")},e.onUserViewGig=function(t){var n=Object(f.a)({},e.props.user);n.viewedGigIds?n.viewedGigIds.find((function(e){return e===t}))||n.viewedGigIds.push(t):n.viewedGigIds=[t],e.props.updateUser(n)},e.nextHero=function(){var t=e.state.heros.length,n=e.state.currHeroIdx===t-1?0:e.state.currHeroIdx+1;e.setState({currHeroIdx:n})},e}return Object(j.a)(n,[{key:"componentDidMount",value:function(){this.heroInterval=setInterval(this.nextHero,5e3),this.props.loadGigs()}},{key:"componentWillUnmount",value:function(){clearInterval(this.heroInterval)}},{key:"render",value:function(){var e=this.state,t=e.heros[e.currHeroIdx];this.state.ctgs,Object(x.a)(this.props.gigs.slice(3)),Object(x.a)(this.props.gigs.slice(5)),Object(x.a)(this.props.gigs.slice(8,16));return Object(r.jsx)(r.Fragment,{children:Object(r.jsxs)("section",{className:"hero",children:[Object(r.jsx)("img",{src:t.imgUrl,alt:"hero"}),Object(r.jsxs)("div",{className:"main-container hero-content",children:[Object(r.jsxs)("div",{className:"hero-cta",children:[Object(r.jsxs)("h1",{children:["Find the perfect ",Object(r.jsx)("span",{children:"freelance"})," for your business"]}),Object(r.jsx)("div",{className:"hero-search",children:Object(r.jsxs)("form",{children:[Object(r.jsx)("input",{value:this.state.filterBy.text,type:"search",name:"text",placeholder:'Try "building mobile app"',onChange:this.handleChange}),Object(r.jsx)("button",{onClick:this.onSearch,children:"Search"})]})})]}),Object(r.jsxs)("div",{className:"hero-snippet",children:[Object(r.jsxs)("div",{className:"stars",children:[Object(r.jsx)(gn,{}),Object(r.jsx)(gn,{}),Object(r.jsx)(gn,{}),Object(r.jsx)(gn,{}),Object(r.jsx)(gn,{})]}),Object(r.jsx)("span",{children:t.username}),", ",t.occupation]})]})]})})}}]),n}(a.a.Component),hn={loadGigs:ue,updateUser:V,setFilter:ve},pn=Object(v.b)((function(e){return{gigs:e.gigModule.gigs}}),hn)(Object(o.f)(jn)),bn=n(146),vn=n.n(bn),mn=function(e){Object(h.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(g.a)(this,n);for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return(e=t.call.apply(t,[this].concat(s))).state={gig:null,isShowFeatures:!0,user:null,isHideInfo:!0},e.onTogFetaures=function(){console.log("hey");var t=e.state.isShowFeatures;console.log("isShowFeatures",t),t=!t,e.setState({isShowFeatures:t})},e.onHideInfo=function(){var t=e.state.isAprrovedInfo;e.setState({isAprrovedInfo:!t})},e.onGigOrder=Object(d.a)(u.a.mark((function t(){var n,r;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.state.gig,r=e.props.user,console.log("onGigOrder= , gig",n),t.next=5,e.props.orderGig(n,r);case 5:y.emit("new order",{from:r,txt:"NEW ORDER !!!!",gig:n}),e.props.history.push("/gig/".concat(n._id));case 7:case"end":return t.stop()}}),t)}))),e}return Object(j.a)(n,[{key:"componentDidMount",value:function(){var e=Object(d.a)(u.a.mark((function e(){var t,n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.match.params.gigId,e.next=3,de(t);case 3:n=e.sent,console.log("componentDidMount , gig",n),r=this.props.user,console.log("componentDidMount , user",r),this.setState({gig:n,user:r});case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=Oe.getRandomInt(2,5),n=this.state,s=n.gig,a=n.isShowFeatures,i=n.isAprrovedInfo;if(console.log("user",this.state.user),console.log("render , gig",s),!s)return Object(r.jsx)("div",{children:"Loading"});var c=(t+s.packages[0].price).toFixed(2),o=s.packages[0].price.toFixed(2);return Object(r.jsxs)("section",{className:"chackout-container main-container",children:[!i&&Object(r.jsxs)("div",{className:"requirements flex justify-center",children:[Object(r.jsx)(vn.a,{}),Object(r.jsxs)("span",{children:["Hey! ",s.owner.fullname," is waiting for your requirements right after you complete the order"]}),Object(r.jsx)("a",{onClick:this.onHideInfo,children:"Ok, got it"})]}),Object(r.jsxs)("div",{className:"content-container",children:[Object(r.jsxs)("div",{className:"content",children:[Object(r.jsx)("h3",{children:Object(r.jsx)("span",{children:" Customize Your Package"})}),Object(r.jsxs)("div",{className:"summery flex",children:[Object(r.jsx)("div",{className:"gig-img-container",children:Object(r.jsx)(b.b,{to:"/gig/".concat(s._id),children:Object(r.jsx)("img",{src:"".concat(s.imgUrls[0]),alt:""})})}),Object(r.jsxs)("div",{children:[Object(r.jsx)("p",{className:"title",children:s.title}),Object(r.jsxs)("div",{className:"stars-container flex",children:[Object(r.jsxs)("div",{children:[Object(r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1792 1792",width:"15",height:"15",children:Object(r.jsx)("path",{fill:"currentColor",d:"M1728 647q0 22-26 48l-363 354 86 500q1 7 1 20 0 21-10.5 35.5t-30.5 14.5q-19 0-40-12l-449-236-449 236q-22 12-40 12-21 0-31.5-14.5t-10.5-35.5q0-6 2-20l86-500-364-354q-25-27-25-48 0-37 56-46l502-73 225-455q19-41 49-41t49 41l225 455 502 73q56 9 56 46z"})}),Object(r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1792 1792",width:"15",height:"15",children:Object(r.jsx)("path",{fill:"currentColor",d:"M1728 647q0 22-26 48l-363 354 86 500q1 7 1 20 0 21-10.5 35.5t-30.5 14.5q-19 0-40-12l-449-236-449 236q-22 12-40 12-21 0-31.5-14.5t-10.5-35.5q0-6 2-20l86-500-364-354q-25-27-25-48 0-37 56-46l502-73 225-455q19-41 49-41t49 41l225 455 502 73q56 9 56 46z"})}),Object(r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1792 1792",width:"15",height:"15",children:Object(r.jsx)("path",{fill:"currentColor",d:"M1728 647q0 22-26 48l-363 354 86 500q1 7 1 20 0 21-10.5 35.5t-30.5 14.5q-19 0-40-12l-449-236-449 236q-22 12-40 12-21 0-31.5-14.5t-10.5-35.5q0-6 2-20l86-500-364-354q-25-27-25-48 0-37 56-46l502-73 225-455q19-41 49-41t49 41l225 455 502 73q56 9 56 46z"})}),Object(r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1792 1792",width:"15",height:"15",children:Object(r.jsx)("path",{fill:"currentColor",d:"M1728 647q0 22-26 48l-363 354 86 500q1 7 1 20 0 21-10.5 35.5t-30.5 14.5q-19 0-40-12l-449-236-449 236q-22 12-40 12-21 0-31.5-14.5t-10.5-35.5q0-6 2-20l86-500-364-354q-25-27-25-48 0-37 56-46l502-73 225-455q19-41 49-41t49 41l225 455 502 73q56 9 56 46z"})}),Object(r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1792 1792",width:"15",height:"15",children:Object(r.jsx)("path",{fill:"currentColor",d:"M1728 647q0 22-26 48l-363 354 86 500q1 7 1 20 0 21-10.5 35.5t-30.5 14.5q-19 0-40-12l-449-236-449 236q-22 12-40 12-21 0-31.5-14.5t-10.5-35.5q0-6 2-20l86-500-364-354q-25-27-25-48 0-37 56-46l502-73 225-455q19-41 49-41t49 41l225 455 502 73q56 9 56 46z"})})]}),Object(r.jsx)("span",{className:"rate",children:"5.0"}),Object(r.jsxs)("span",{className:"total-reviews",children:["(",s.reviews.length," reviews)"]})]}),!a&&Object(r.jsx)("a",{className:"included",onClick:function(){return e.onTogFetaures()},children:"Show What's included"}),a&&Object(r.jsx)("a",{className:"included",onClick:function(){return e.onTogFetaures()},children:"Hide Features included"})]}),Object(r.jsxs)("span",{className:"price",children:["$",s.packages[0].price]})]}),a&&Object(r.jsxs)("div",{className:"features-container flex",children:[Object(r.jsx)("div",{className:"gig-title",children:s.title}),s.packages[0].features.map((function(e){return Object(r.jsxs)("div",{className:"package-fuetures-list flex clean-list",children:[Object(r.jsx)(Ve.a,{fontSize:"small",className:"include"}),Object(r.jsx)("li",{children:e})]},e)}))]})]}),Object(r.jsxs)("div",{className:"checkout-bar flex",children:[Object(r.jsx)("h6",{children:"Summary"}),Object(r.jsxs)("div",{className:"flex space-between",children:[Object(r.jsx)("span",{children:"Check Out"}),Object(r.jsxs)("span",{children:["$",o]})]}),Object(r.jsxs)("div",{className:"fee flex space-between",children:[Object(r.jsxs)("span",{children:["Service Fee ",Object(r.jsx)(vn.a,{className:"info"})," "]}),Object(r.jsx)("div",{className:"hide",children:"modal open"}),Object(r.jsxs)("span",{children:["$",t.toFixed(2)]})]}),Object(r.jsx)("div",{className:"border flex align-center"}),Object(r.jsxs)("div",{className:"payment-summery flex space-between",children:[Object(r.jsx)("span",{children:"Total"}),Object(r.jsxs)("span",{children:["$",c]})]}),Object(r.jsxs)("div",{className:"delivery flex space-between",children:[Object(r.jsx)("span",{children:"Delivery Time"}),Object(r.jsxs)("span",{children:[s.packages[0].deliveryDays," Days"]})]}),Object(r.jsx)("div",{className:"buy-btn-container",children:Object(r.jsx)("button",{onClick:function(){return e.onGigOrder()},children:"Purchase now"})})]})]})]})}}]),n}(s.Component),fn={orderGig:Ee},xn=Object(v.b)((function(e){return{gigs:e.gigModule.gigs,user:e.userModule.user}}),fn)(Object(o.f)(mn)),On=n(249),wn=n.n(On),yn=function(e){Object(h.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(g.a)(this,n);for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return(e=t.call.apply(t,[this].concat(s))).state={user:null,messages:[]},e.onNewMsg=function(t){console.log("MESSAGE",t);var n=t.from;e.setState({isRecievedMsg:!0,user:n}).then((function(){console.log("this.setState , newMsg????",t),e.handleOnSendMessage(t.txt)})),y.emit("chat newMsg",{to:t.from._id,from:n,txt:"cannot wait to get it"})},e.handleOnSendMessage=function(t){var n=e.state.user,r=n.username,s=n.imgUrl,a=n._id;e.setState({messages:e.state.messages.concat({author:{username:r,id:a,avatarUrl:s},text:t,timestamp:+new Date,type:"text"})})},e}return Object(j.a)(n,[{key:"componentDidMount",value:function(){var e=this.props.user;this.setState({user:e})}},{key:"render",value:function(){var e=this.state.user;return console.log("render!!!!!!! , user",e),e?Object(r.jsx)(wn.a,{messages:this.state.messages,userId:e._id,onSendMessage:this.handleOnSendMessage,width:"500px",height:"500px"}):Object(r.jsx)("div",{children:"log in you stupid!"})}}]),n}(s.Component),Sn=function(e){Object(h.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(g.a)(this,n);for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return(e=t.call.apply(t,[this].concat(s))).onTagClick=function(t){e.props.setFilter({tags:[t]}),e.props.history.push("/gig")},e}return Object(j.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.ctgs,s=t.title;t.setFilter;return Object(r.jsxs)("section",{className:"gig-ctg-list",children:[Object(r.jsx)("h2",{children:s}),Object(r.jsx)("ul",{className:"gig-ctg-wrap clean-list",children:n.map((function(t){return Object(r.jsxs)("li",{className:"pointer",onClick:function(){return e.onTagClick(t.tag)},children:[Object(r.jsx)("h5",{children:t.cta}),Object(r.jsx)("h3",{children:t.title}),Object(r.jsx)("img",{src:t.imgUrl,alt:"category"})]},t.imgUrl)}))})]})}}]),n}(a.a.Component),Nn=Object(o.f)(Sn),Cn=function(e){Object(h.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(g.a)(this,n);for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return(e=t.call.apply(t,[this].concat(s))).state={ctgs:[{imgUrl:"/assets/img/ctg/pencils.jpg",title:"Logo design",cta:"Build your brand",tag:"Logo"},{imgUrl:"/assets/img/ctg/guitar1.jpg",title:"Guitar session",cta:"Publish your art",tag:"Guitar"},{imgUrl:"/assets/img/ctg/condenser1.jpg",title:"Voice over",cta:"Share your message",tag:"Voice"},{imgUrl:"/assets/img/ctg/coding1.jpg",title:"Programming",cta:"Create amazing things",tag:"Programming"},{imgUrl:"/assets/img/ctg/canvas.jpg",title:"Drawing",cta:"Visualize your dream",tag:"Drawing"},{imgUrl:"/assets/img/ctg/coach.jpg",title:"Marketing",cta:"Spread the word",tag:"Marketing"},{imgUrl:"/assets/img/ctg/mixing.jpg",title:"Mixing",cta:"Finish your song",tag:"Mixing"},{imgUrl:"/assets/img/ctg/piano.jpg",title:"Piano Lessons",cta:"Learn to play",tag:"Piano"}],gigs:[]},e.loadGigs=Object(d.a)(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.props.loadGigs();case 2:case"end":return t.stop()}}),t)}))),e.onUserViewGig=function(t){var n=Object(f.a)({},e.props.user);n.viewedGigIds?n.viewedGigIds.find((function(e){return e===t}))||n.viewedGigIds.push(t):n.viewedGigIds=[t],e.props.updateUser(n)},e.onFavoriteToggle=function(t,n){t.stopPropagation();var r=Object(f.a)({},e.props.user);r.favoriteIds?r.favoriteIds.find((function(e){return e===n}))?r.favoriteIds=r.favoriteIds.filter((function(e){return e!==n})):r.favoriteIds.push(n):r.favoriteIds=[n],e.props.updateUser(r)},e}return Object(j.a)(n,[{key:"componentDidMount",value:function(){this.loadGigs()}},{key:"render",value:function(){var e=this.state.ctgs,t=this.props.gigs,n=Object(x.a)(t.slice(8,16));return Object(r.jsxs)("section",{children:[Object(r.jsx)(pn,{}),!t.length&&Object(r.jsx)("div",{children:"Loading"}),Object(r.jsxs)("div",{className:"home-page main-container",children:[Object(r.jsx)(Pt,{title:"Logo & Graphics",tags:["Logo"],gigs:t,onUserViewGig:this.onUserViewGig,onFavoriteToggle:this.onFavoriteToggle,user:this.props.user,onDelete:this.onDelete}),Object(r.jsx)(Nn,{ctgs:e.slice(0,4),title:"For you",setFilter:this.props.setFilter}),Object(r.jsx)(Pt,{title:"Music",tags:["Guitar"],gigs:t,onUserViewGig:this.onUserViewGig,onFavoriteToggle:this.onFavoriteToggle,user:this.props.user,onDelete:this.onDelete}),Object(r.jsx)(Nn,{ctgs:e.slice(4,8),title:"Editor's Pick"}),Object(r.jsx)(Pt,{title:"Web Design",tags:["Web Design"],gigs:t,onUserViewGig:this.onUserViewGig,onFavoriteToggle:this.onFavoriteToggle,user:this.props.user,onDelete:this.onDelete}),Object(r.jsx)("h3",{children:"Suggested"}),Object(r.jsx)(se,{gigs:n,onDelete:this.onDelete,onUserViewGig:function(){},onFavoriteToggle:this.onFavoriteToggle,isSmallPreview:!0})]})]})}}]),n}(a.a.Component),kn={loadGigs:ue,updateUser:V,setFilter:ve},In=[{path:"/gig/edit/:gigId?",component:Xt},{path:"/gig/checkout/:gigId?",component:xn},{path:"/gig/:gigId",component:zt},{path:"/gig",component:xe},{path:"/gig/edit/:gigId?",component:Xt},{path:"/profile",component:un},{path:"/chat",component:yn},{path:"/",component:Object(v.b)((function(e){return{gigs:e.gigModule.gigs,user:e.userModule.user}}),kn)(Cn)}];function qn(){return y.setup(),Object(r.jsx)(r.Fragment,{children:Object(r.jsxs)("div",{className:"App",children:[Object(r.jsx)("header",{children:Object(r.jsx)(X,{})}),Object(r.jsx)("main",{children:Object(r.jsx)(o.c,{children:In.map((function(e){return Object(r.jsx)(o.a,{exact:!0,component:e.component,path:e.path},e.path)}))})})]})})}var Gn=n(250),Un=n(65),Tn={gigs:[],filterBy:{}};var Mn=null;sessionStorage.loggedinUser&&(Mn=JSON.parse(sessionStorage.loggedinUser));var Rn={user:Mn};var Dn={orders:[]};var En=Object(Un.c)({gigModule:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Tn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_GIGS":return Object(f.a)(Object(f.a)({},e),{},{gigs:t.gigs});case"SAVE_GIG":return Object(f.a)(Object(f.a)({},e),{},{gigs:e.gigs.map((function(e){return e._id===t.savedGig._id?t.savedGig:e}))});case"ADD_GIG":return Object(f.a)(Object(f.a)({},e),{},{gigs:[].concat(Object(x.a)(e.gigs),[t.savedGig])});case"SET_FILTER":return Object(f.a)(Object(f.a)({},e),{},{filterBy:t.filterBy});case"REMOVE_GIG":return Object(f.a)(Object(f.a)({},e),{},{gigs:e.gigs.filter((function(e){return e._id!==t.gigId}))});default:return e}},userModule:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Rn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_USER":return Object(f.a)(Object(f.a)({},e),{},{user:t.user});case"SET_NO_USER":return Object(f.a)(Object(f.a)({},e),{},{user:null});default:return e}},orderModule:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Dn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_ORDERS":return Object(f.a)(Object(f.a)({},e),{},{orders:t.orders});case"SAVE_ORDER":return Object(f.a)(Object(f.a)({},e),{},{orders:e.orders.map((function(e){return e._id===t.savedOrder._id?t.savedOrder:e}))});case"ADD_ORDER":return Object(f.a)(Object(f.a)({},e),{},{orders:[].concat(Object(x.a)(e.orders),[t.order])});default:return e}}}),Fn=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||Un.d,_n=Object(Un.e)(En,Fn(Object(Un.a)(Gn.a)));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var An=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,588)).then((function(t){var n=t.getCLS,r=t.getFID,s=t.getFCP,a=t.getLCP,i=t.getTTFB;n(e),r(e),s(e),a(e),i(e)}))};c.a.render(Object(r.jsx)(a.a.StrictMode,{children:Object(r.jsx)(v.a,{store:_n,children:Object(r.jsx)(b.a,{children:Object(r.jsx)(qn,{})})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)})),An()}},[[565,1,2]]]);
//# sourceMappingURL=main.64662ab1.chunk.js.map