{"version":3,"sources":["services/socketService.js","services/cloudinaryService.js","services/httpService.js","services/userService.js","store/actions/userActions.js","pages/Login.jsx","cmps/AppHeader.jsx","cmps/GigFilter.jsx","cmps/GigMiniPreview.jsx","cmps/GigPreview.jsx","cmps/GigList.jsx","services/gigService.js","store/actions/gigActions.js","pages/SixerrApp.jsx","services/utilService.js","cmps/HoverRating.jsx","cmps/GigAddReview.jsx","cmps/SellerPreview.jsx","services/orderService.js","store/actions/orderActions.js","cmps/SideBar.jsx","cmps/ReviewPreview.jsx","cmps/ReviewList.jsx","cmps/GigImgLightBox.jsx","cmps/EditableElement.jsx","cmps/SellerOverview.jsx","cmps/ReviewStats.jsx","cmps/ShortReviewPreview.jsx","cmps/ShortReviewList.jsx","cmps/ImgGallery.jsx","cmps/Carousel.jsx","cmps/RichTextEditor.jsx","cmps/GigStrip.jsx","pages/GigDetails.jsx","pages/GigEdit.jsx","cmps/OrderPreview.jsx","cmps/OrderList.jsx","cmps/ProfileCharts.jsx","pages/Profile.jsx","cmps/SvgStar.jsx","cmps/Hero.jsx","pages/Checkout.jsx","cmps/Chat.jsx","cmps/GigCtgStrip.jsx","pages/GigHome.jsx","routes.js","App.jsx","store/reducers/gigReducer.js","store/reducers/userReducer.js","store/reducers/orderReducer.js","store/store.js","serviceWorkerRegistration.js","reportWebVitals.js","index.js"],"names":["socketService","socket","setup","io","on","eventName","cb","off","emit","data","terminate","createSocketService","window","cloudinaryService","uploadImg","ev","a","console","log","UPLOAD_URL","formData","FormData","append","target","files","fetch","method","body","res","json","BASE_URL","axios","Axios","create","withCredentials","httpService","endpoint","ajax","url","params","dir","response","status","location","assign","userService","login","logout","signup","getUsers","getById","userId","remove","update","getLoggedinUser","user","_id","favoriteIds","_saveLocalUser","userCred","sessionStorage","clear","setItem","JSON","stringify","parse","getItem","dispatch","type","updateUser","userToSave","_Login","state","msg","isSignUp","loginCred","username","password","signupCred","fullname","loginHandleChange","name","value","setState","prevState","signupHandleChange","toggleIsNewUser","stopPropagation","captureModalClick","doLogin","preventDefault","userCreds","props","toggleLogin","doLogout","doSignup","addUser","this","signupSection","className","onSubmit","onChange","placeholder","onClick","loginSection","autoFocus","Component","mapDispatchToProps","userToAdd","imgUrl","isAdmin","Login","connect","userModule","_AppHeader","isLoginOpen","onToggleLogin","onNewMsg","newMsg","to","from","txt","onLogout","history","push","openChat","isRecievedMsg","src","alt","React","AppHeader","withRouter","GigMiniPreview","gig","onUserViewGig","removeViewed","onFavoriteToggle","imgUrls","title","GigPreview","owner","Math","round","random","xmlns","viewBox","width","height","fill","d","_isLiked","packages","price","gigId","find","favoriteId","GigList","gigs","isSmallPreview","map","gigService","query","filterBy","queryString","Object","keys","key","join","deleteGig","save","gigToSave","loadGigs","loadGig","getGigs","gigIds","prmGigs","Promise","all","removeGig","addGig","savedGig","updateGig","setFilter","_SixerrApp","viewedGigIds","viewedGigId","onDelete","onSetFilter","filter","SixerrApp","gigModule","utilService","delay","ms","resolve","setTimeout","getRandomInt","min","max","ceil","floor","makeId","length","possible","i","charAt","timeDifference","current","previous","msPerMinute","msPerHour","msPerDay","msPerMonth","msPerYear","elapsed","labels","0.5","1","1.5","2","2.5","3","3.5","4","4.5","5","HoverRating","hover","setValue","newValue","handleRate","setHover","newHover","style","display","alignItems","Rating","precision","event","onChangeActive","Box","ml","_GigAddReview","review","createReviewTemplate","by","id","rating","createdAt","purchasedAt","handleChange","field","rate","onAddReview","reviewToAdd","date","Date","now","reviews","unshift","then","mobileStarStats","val","rows","cols","required","GigAddReview","SellerPreview","seller","getBiggestStarRate","getStars","biggestStarRtae","calculateAvgHalfRating","starsArr","createStarsArey","star","orderService","createOrder","order","_prepareOrder","buyer","totalPrice","currency","sellerFullname","orderGig","SideBar","pack","onGigOrder","packPrice","toFixed","desc","deliveryDays","revisionsCount","features","feature","fontSize","ReviewPreview","onToggleHelfull","isHelful","Avatar","ReviewList","GigImgLightBox","currImg","onToggleImgLightbox","onNextPageLightBox","onPrevPageLightBox","EditableElement","editable","html","text","contentEditable","createRef","evt","toggleEditable","focus","onStartEdit","onSaveElement","innerText","render","editableStyle","border","innerRef","disabled","tagName","SellerOverview","htmlStars","createStarsAreey","ReviewStats","avgRate","oneStarPercentage","oneStarCount","twoStarPercentage","twoStarCount","threeStarPercentage","threeStarCount","fourStarPercentage","fourStarCount","fiveStarPercentage","fiveStarCount","backgroundColor","ShortReviewPreview","idx","ShortReviewList","currShortReviewIdx","shortReviewSize","transform","ImgGallery","numImgChoosen","onChooseImg","CarouselImgs","items","itemsLength","createItems","Item","imgs","item","itemsArr","RichTextEditor","innerHtml","onSetHtml","newHtml","editorState","EditorState","createEmpty","refs","editor","handleKeyCommand","_handleKeyCommand","bind","mapKeyToEditorCommand","_mapKeyToEditorCommand","toggleBlockType","_toggleBlockType","toggleInlineStyle","_toggleInlineStyle","command","newState","RichUtils","e","keyCode","getDefaultKeyBinding","newEditorState","onTab","blockType","inlineStyle","document","querySelector","span","contentState","getCurrentContent","hasText","getBlockMap","first","getType","onToggle","blockStyleFn","getBlockStyle","customStyleMap","keyBindingFn","ref","spellCheck","textDirectionality","onSaveHtml","draftToHtml","convertToRaw","block","StyleButton","active","onMouseDown","label","BLOCK_TYPES","BlockStyleControls","selection","getSelection","getBlockForKey","getStartKey","INLINE_STYLES","InlineStyleControls","currentStyle","getCurrentInlineStyle","has","GigStrip","getGigsForDisplay","tags","includes","gigsByTag","posX","bgStyle","bgColor","_GigDetails","isGigOwner","isTitleEditble","isDescEditble","isLightBoxOpen","isFullSizeScreen","htmlDesc","suggestedGigs","onSetSizes","windowWitdh","innerWidth","toggleIsTitleEditble","toggleIsDescEditble","onEdit","imgIdx","onNextShortReview","onPrevShortReview","getAvgRate","sumRate","reduce","acc","avg","stars","onSave","onRemoveGig","totalStarsRate","parseFloat","maxRateStarNumber","match","href","dangerouslySetInnerHTML","__html","color","GigDetails","_GigEdit","currFeature","currTag","featureIdx","tagIdx","onSaveNewGig","tag","createTemplatePackages","revisionCount","createGigTemplate","handleInput","handlePackagesInputs","addFeature","removeFeature","featureToRemove","updatedFeatures","addTag","removeTag","tagToRemove","updatedTags","uploadImage","newUrl","secure_url","removeImage","urlToRemove","updatedUrls","autoComplete","onKeyUp","htmlFor","hidden","GigEdit","OrderPreview","onOrderStatusChanged","getOrderProps","statusStyle","statusMsg","ctaButtonText","nextStatus","_getDueTime","CSSTransition","timeout","classNames","orderTimeStamp","DAY","timeToComplete","daysDue","hoursDue","OrderList","orders","SIXERR_GREEN","_ProfileCharts","chart","datasets","options","layout","padding","top","left","right","bottom","scales","xAxes","ticks","gridLines","drawBorder","yAxes","ProfileCharts","_Profile","memberSince","lastViewed","myGigs","ordersAsSeller","onNewOrder","loadOrders","myGigIds","sort","order1","order2","onUploadImg","onImageChange","onRemoveViewed","updateOrder","favoriteGigs","ordersAsBuyer","totalIncome","sellerTotalIncome","_userScoreBarStyle","slice","income","getState","savedOrder","Profile","orderModule","score","background","SvgStar","_Hero","currHeroIdx","heros","occupation","whoAmI","onSearch","nextHero","herosCount","heroInterval","setInterval","clearInterval","hero","ctgs","Hero","_Checkout","isShowFeatures","isHideInfo","onTogFetaures","onHideInfo","isAprrovedInfo","randomFee","Checkout","Chat","messages","handleOnSendMessage","message","avatarUrl","concat","author","timestamp","onSendMessage","_GigCtgList","onTagClick","ctg","cta","GigCtgList","_GigHome","routes","path","component","App","route","exact","initialState","localLoggedinUser","loggedinUser","rootReducer","combineReducers","action","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunk","Boolean","hostname","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode","getElementById","navigator","serviceWorker","ready","registration","unregister","catch","error"],"mappings":"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","file":"static/js/main.64662ab1.chunk.js","sourcesContent":["import io from 'socket.io-client'\n\nconst baseUrl = (process.env.NODE_ENV === 'production')? '' : '//localhost:3030'\nexport const socketService = createSocketService()\n// export const socketService = createDummySocketService()\n\nwindow.socketService = socketService\n\n\nfunction createSocketService() {\n  var socket\n  const socketService = {\n    setup() {\n      socket = io(baseUrl)\n    },\n    on(eventName, cb) {\n      socket.on(eventName, cb)\n    },\n    off(eventName, cb) {\n      socket.off(eventName, cb)\n    },\n    emit(eventName, data) {\n      socket.emit(eventName, data)\n    },\n    terminate() {\n      socket = null\n    }\n  }\n  return socketService\n}\n\n// eslint-disable-next-line\nfunction createDummySocketService() {\n  var listenersMap = {}\n  const socketService = {\n    setup() {\n      listenersMap = {}\n    },\n    terminate() {\n      this.setup()\n    },\n    on(eventName, cb) {\n      listenersMap[eventName] = [...(listenersMap[eventName]) || [], cb]\n    },\n    off(eventName, cb) {\n      if (!listenersMap[eventName]) return\n      listenersMap[eventName] = listenersMap[eventName].filter(l => l !== cb)\n    },\n    emit(eventName, data) {\n      if (!listenersMap[eventName]) return\n      listenersMap[eventName].forEach(listener => {\n        listener(data)\n      })\n    },\n    debugMsg() {\n      this.emit('chat addMsg', {from: 'Someone', txt: 'Aha it worked!'})\n    },\n  }\n  return socketService\n}\n\n\n// Basic Tests\n// function cb(x) {console.log(x)}\n// socketService.on('baba', cb)\n// socketService.emit('baba', 'DATA')\n// socketService.off('baba', cb)\n","export const cloudinaryService = {\n    uploadImg\n}\n\nasync function uploadImg(ev) {\n    console.log('Dudi')\n    const CLOUD_NAME = \"dzocvtwca\"\n    const UPLOAD_URL = `https://api.cloudinary.com/v1_1/${CLOUD_NAME}/image/upload`\n\n    const formData = new FormData();\n    formData.append('file', ev.target.files[0])\n    formData.append('upload_preset', 'uploadPreset');\n    try {\n        const res = await fetch(UPLOAD_URL, {\n            method: 'POST',\n            body: formData\n        })\n        const data = await res.json()\n        console.log(data);\n        return data\n\n    } catch (err) {\n        console.log(err);\n    }\n}\n","import Axios from 'axios'\n\nconst BASE_URL = process.env.NODE_ENV === 'production'\n    ? '/'\n    : '//localhost:3030/'\n\n\nvar axios = Axios.create({\n    withCredentials: true\n})\n\nexport const httpService = {\n    get(endpoint, data) {\n        return ajax(endpoint, 'GET', data)\n    },\n    post(endpoint, data) {\n        return ajax(endpoint, 'POST', data)\n    },\n    put(endpoint, data) {\n        return ajax(endpoint, 'PUT', data)\n    },\n    delete(endpoint, data) {\n        return ajax(endpoint, 'DELETE', data)\n    }\n}\n\nasync function ajax(endpoint, method = 'get', data = null) {\n    console.log('data', data)\n    try {\n        var res\n        if (method === 'GET') {\n            res = await axios({\n                url: `${BASE_URL}${endpoint}`,\n                method,\n                params: data\n            })\n        }\n        else {\n            res = await axios({\n                url: `${BASE_URL}${endpoint}`,\n                method,\n                data\n            })\n        }\n        return res.data\n    } catch (err) {\n        console.log(`Had Issues ${method}ing to the backend, endpoint: ${endpoint}, with data: ${data}`)\n        console.dir(err)\n        if (err.response && err.response.status === 401) {\n            window.location.assign('/#/login')\n        }\n        throw err\n    }\n}","// import { storageService } from './asyncStorageService'\nimport { httpService } from './httpService'\nconst BASE_URL = 'api/user' // REAL SERVER\n// const BASE_URL = 'user' // JSON SERVER\n\n\nexport const userService = {\n    login,\n    logout,\n    signup,\n    getUsers,\n    getById,\n    remove,\n    update,\n    getLoggedinUser,\n}\n\nwindow.userService = userService\n// Note: due to async, must run one by one...\n// userService.signup({fullname: 'Puki Norma', username: 'user1', password:'123',score: 100, isAdmin: false})\n// userService.signup({fullname: 'Master Adminov', username: 'admin', password:'123', score: 100, isAdmin: true})\n\nfunction getUsers() {\n    // return storageService.query('user')\n    return httpService.get(BASE_URL)\n}\n\nfunction getById(userId) {\n    // return storageService.get('user', userId)\n    return httpService.get(`${BASE_URL}/${userId}`)\n}\nfunction remove(userId) {\n    // return storageService.remove('user', userId)\n    return httpService.delete(`${BASE_URL}/${userId}`)\n}\n\nasync function update(user) {\n    // return storageService.put('user', user)\n    user = await httpService.put(`${BASE_URL}/${user._id}`, user)\n    console.log('Service', user.favoriteIds )\n    // Handle case in which admin updates other user's details\n    if (getLoggedinUser()._id === user._id) _saveLocalUser(user)\n    return user\n}\n\nasync function login(userCred) {\n    //JSON SERVER\n    // const users = await httpService.get('user')\n    // const user = users.find(user => user.username === userCred.username && user.password === userCred.password)\n    // if (user) {\n    //     console.log('Found user')\n    //     return _saveLocalUser(user)\n    // }\n    // else throw new Error('no user')\n    // REAL SERVER\n    const user = await httpService.post('api/auth/login', userCred)\n    if (user) return _saveLocalUser(user)\n}\nasync function signup(userCred) {\n    // const user = await httpService.post('user', userCred) //JSON SERVER\n    const user = await httpService.post('api/auth/signup', userCred) // REAL SERVER\n    return _saveLocalUser(user)\n}\nasync function logout() {\n    sessionStorage.clear()\n    // return //JSON SERVER\n    return await httpService.post('api/auth/logout') // REAL SERVER\n}\nfunction _saveLocalUser(user) {\n    sessionStorage.setItem('loggedinUser', JSON.stringify(user))\n    return user\n}\n\nfunction getLoggedinUser() {\n    return JSON.parse(sessionStorage.getItem('loggedinUser'))\n}\n\n","import { cloudinaryService } from \"../../services/cloudinaryService.js\";\nimport { userService } from \"../../services/userService.js\";\n\n\nexport function login(userCreds) {\n    return async (dispatch) => {\n        const user = await userService.login(userCreds)\n        const action = {\n            type: 'SET_USER',\n            user\n        }\n        dispatch(action)\n\n    }\n}\n\nexport function logout() {\n    return async (dispatch) => {\n        await userService.logout()\n        const action = {\n            type: 'SET_NO_USER'\n        }\n        dispatch(action)\n    }\n}\n\nexport function addUser(userToAdd) {\n    // Add default empty fields\n    userToAdd.imgUrl = '/img/img1.jpg'\n    userToAdd.isAdmin = false\n    return async (dispatch) => {\n        const user = await userService.signup(userToAdd)\n        const action = {\n            type: 'SET_USER',\n            user\n        }\n        dispatch(action)\n    }\n}\nexport function onImageChange(ev) {\n    return async (dispatch, getState) => {\n        const data = await cloudinaryService.uploadImg(ev)\n        const userToSave = { ...getState().userModule.user }\n        userToSave.imgUrl = data.secure_url\n        const user = await userService.update(userToSave)\n        const action = {\n            type: 'SET_USER',\n            user\n        }\n        dispatch(action)\n    }\n}\n\nexport function updateUser(userToSave) {\n    return async (dispatch) => {\n        const user = await userService.update(userToSave)\n        const action = {\n            type: 'SET_USER',\n            user\n        }\n        dispatch(action)\n    }\n}\n\n","import { Component } from 'react';\nimport { connect } from 'react-redux'\nimport { socketService } from '../services/socketService.js';\n\nimport { login, logout, addUser } from \"../store/actions/userActions.js\"\n\nclass _Login extends Component {\n\n    state = {\n        msg: '',\n        isSignUp: false,\n        loginCred: {\n            username: '',\n            password: ''\n        },\n        signupCred: {\n            username: '',\n            password: '',\n            fullname: ''\n        }\n    }\n\n    // componentDidMount () {\n\n    // }\n\n    componentWillUnmount() {\n        this.setState(\n            {\n                loginCred: { username: '', password: '' }\n            })\n    }\n\n    loginHandleChange = ev => {\n        const { name, value } = ev.target\n        this.setState(prevState => ({\n            loginCred: {\n                ...prevState.loginCred,\n                [name]: value\n            }\n        }))\n    }\n\n    signupHandleChange = ev => {\n        const { name, value } = ev.target\n        this.setState(prevState => ({\n            signupCred: {\n                ...prevState.signupCred,\n                [name]: value\n            }\n        }))\n    }\n\n    toggleIsNewUser = (ev) => {\n        ev.stopPropagation()\n        this.setState({ isSignUp: !this.state.isSignUp })\n    }\n\n    captureModalClick = (ev) => {\n        ev.stopPropagation()\n    }\n\n    doLogin = async ev => {\n        ev.preventDefault()\n        ev.stopPropagation()\n        const userCreds = this.state.loginCred\n        if (!userCreds.username || !userCreds.password) {\n            return this.setState({ loginCred: { username: '', password: '' }, msg: 'Please enter user/password' })\n        }\n        try {\n            await this.props.login(userCreds)\n            this.props.toggleLogin()\n\n        } catch (err) {\n            console.log('ERR', err)\n            this.setState(prevState => ({\n                loginCred: {\n                    ...prevState.loginCred,\n                    password: ''\n                },\n                msg: 'Wrong username or password'\n            }))\n        }\n    }\n\n    doLogout = () => {\n        this.props.logout()\n    }\n\n    doSignup = async ev => {\n        ev.preventDefault()\n        ev.stopPropagation()\n        const { username, password, fullname } = this.state.signupCred\n\n        if (!username || !password || !fullname) {\n            return this.setState({ msg: 'All inputs are required' })\n        }\n        try {\n            await this.props.addUser({ username, password, fullname })\n            this.props.toggleLogin()\n        }\n        catch (err) {\n            console.log('ERR', err)\n            this.setState(prevState => ({\n                signupCred: {\n                    ...prevState.signupCred,\n                    password: ''\n                },\n                msg: 'Could not sign up please try again'\n            }))\n        }\n    }\n\n    render() {\n\n        const loggedInUser = this.props.user //TODO pay attention later \n        const { isSignUp, msg } = this.state\n\n        let signupSection = (\n            <>\n                <h1>Join Sixerr</h1>\n                <form className=\"frm\" onSubmit={this.doSignup}>\n                    <input\n                        type=\"text\"\n                        name=\"fullname\"\n                        value={this.state.signupCred.fullname}\n                        onChange={this.signupHandleChange}\n                        placeholder=\"Full name\"\n                    />\n                    <input\n                        type=\"text\"\n                        name=\"username\"\n                        value={this.state.signupCred.username}\n                        onChange={this.signupHandleChange}\n                        placeholder=\"Username\"\n                    />\n                    <input\n                        name=\"password\"\n                        type=\"password\"\n                        value={this.state.signupCred.password}\n                        onChange={this.signupHandleChange}\n                        placeholder=\"Password\"\n                    />\n                    <button>Continue</button>\n                    <hr />\n                    <h4>Already a member? <span onClick={this.toggleIsNewUser}>Sign In</span></h4>\n                </form>\n            </>\n        )\n        let loginSection = (\n            <>\n                <h1>Sign In to Sixerr</h1>\n                <form className=\"frm\" onSubmit={this.doLogin}>\n                    <input\n                        type=\"text\"\n                        name=\"username\"\n                        value={this.state.loginCred.username}\n                        onChange={this.loginHandleChange}\n                        placeholder=\"Username\"\n                        autoFocus\n                    />\n                    <br />\n                    <input\n                        type=\"password\"\n                        name=\"password\"\n                        value={this.state.loginCred.password}\n                        onChange={this.loginHandleChange}\n                        placeholder=\"Password\"\n                    />\n                    <br />\n                    <button className=\"rounded\">Continue</button>\n                    <hr />\n                    <h4>Not a member yet? <span onClick={this.toggleIsNewUser}>Join Now</span></h4>\n                </form>\n            </>\n        )\n\n\n        return (\n            <div className=\"main-screen\" onClick={this.props.toggleLogin}>\n                <div className=\"login main-layout shadow rounded\" onClick={this.captureModalClick}>\n                    {msg && <p>{msg}</p>}\n                    {/* {loggedInUser && (\n                        <div>\n                            <h3>\n                                Welcome {loggedInUser.fullname}\n                                <button onClick={this.doLogout}>Logout</button>\n                            </h3>\n                        </div>\n                    )} */}\n                    {isSignUp && signupSection}\n                    {!isSignUp && loginSection}\n\n                </div>\n            </div>\n        )\n    }\n\n\n}\n\nconst mapStateToProps = (state) => {\n    return {\n        user: state.userModule.user\n    }\n}\n\nconst mapDispatchToProps = {\n    login,\n    logout,\n    addUser,\n}\n\nexport const Login = connect(mapStateToProps, mapDispatchToProps)(_Login)\n\n\n\n\n","// import React, { Component } from 'react'\nimport React from 'react'\nimport { NavLink, withRouter } from 'react-router-dom'\nimport { connect } from 'react-redux'\nimport { Login } from '../pages/Login'\nimport { logout } from '../store/actions/userActions'\nimport { socketService } from '../services/socketService'\n\n\nclass _AppHeader extends React.Component {\n\n    state = {\n        isLoginOpen: false,\n        user: null,\n    }\n\n    componentDidMount() {\n        socketService.on('chat addMsg', this.onNewMsg)\n        const { user } = this.props\n        if (user) socketService.emit('chat topic', user._id)\n\n    }\n\n\n    componentWillUnmount() {\n        socketService.off('chat addMsg', this.onNewMsg)\n    }\n\n    onToggleLogin = () => {\n        const { user } = this.props\n        this.setState({ isLoginOpen: !this.state.isLoginOpen })\n        if (user) socketService.emit('chat topic', user._id)\n\n    }\n\n    onNewMsg = (newMsg) => {\n        const { user } = this.props\n        console.log('MESSAGE', newMsg)\n        socketService.emit('chat newMsg', { to: newMsg.from._id, from: user, txt: 'cannot wait to get it' })\n    }\n\n    onLogout = async () => {\n        await this.props.logout()\n        this.props.history.push('/gig')\n    }\n\n    render() {\n        const { user } = this.props\n        const { openChat, isRecievedMsg } = this.state\n        console.log(\"render , openChat\", openChat)\n        const { isLoginOpen } = this.state\n        return (\n            <>\n                <div className=\"site-header main-container\">\n                    <section className=\"app-header flex space-between align-center\">\n                        <NavLink to=\"/\">\n                            <h1>Sixerr<span>.</span></h1>\n                        </NavLink>\n                        {isRecievedMsg && <div>1!!!</div>}\n                        <ul className=\"header-nav clean-list flex align-center bold\">\n                            <NavLink className=\"fast-trans\" to=\"/\"><li>Home</li></NavLink>\n                            <NavLink className=\"fast-trans\" to=\"/gig\"><li>Explore</li></NavLink>\n                            {/* <NavLink onClick={this.onOpenChat} className=\"fast-trans\" to=\"/chat\"><li>Messages</li></NavLink> */}\n                            {user && <NavLink className=\"fast-trans\" to=\"#\" onClick={this.onLogout}>\n                                <li>Logout</li>\n                            </NavLink>}\n                            {!user &&\n                                <NavLink className=\"\" to=\"#\" onClick={this.onToggleLogin}>\n                                    <li>Login</li>\n                                </NavLink>}\n                            <NavLink to=\"/profile\">\n                                {/* {user && <h3>{user.username}</h3>} */}\n                                {user && <li className=\"profile-img\"><img src={user.imgUrl} alt=\"user\" /></li>}\n                            </NavLink>\n                        </ul>\n\n                    </section>\n                </div>\n                {isLoginOpen && !user && <Login toggleLogin={this.onToggleLogin} />}\n            </>\n        )\n    }\n}\n\nconst mapGlobalStateToProps = (state) => {\n    return {\n        user: state.userModule.user\n    }\n}\n\nconst mapDispatchToProps = {\n    logout\n}\n\nexport const AppHeader = connect(mapGlobalStateToProps, mapDispatchToProps)(withRouter(_AppHeader))","import React from 'react'\n\nexport class GigFilter extends React.Component {\n    state = {\n        filterBy: {\n            text: ''\n        }\n    }\n    handleChange = ({ target }) => {\n        const field = target.name\n        const value = target.value\n        this.setState(prevState => ({ filterBy: { ...prevState.filterBy, [field]: value } }), () => {\n            this.props.onSetFilter(this.state.filterBy)\n        })\n    }\n    \n    render() {\n        const { text } = this.state.filterBy\n        return (\n            <div className='gig-filter'>\n                <h1>Filter:</h1>\n                    <input type=\"text\" name='text' value={text} onChange={this.handleChange} />\n            </div>\n        )\n    }\n}\n\n","import { Link } from 'react-router-dom'\nimport ClearIcon from '@material-ui/icons/Clear';\n// import Favorite from '@material-ui/icons/Favorite';\n\nexport function GigMiniPreview({ gig, onUserViewGig, onFavoriteToggle, user, removeViewed }) {\n    return (\n        <li onClick={() => { onUserViewGig(gig._id) }} className=\"mini-preview\">\n            <div className=\"preview-inner\">\n                {removeViewed && <ClearIcon className=\"clear-icon pointer\" onClick={(ev) => {\n                    ev.stopPropagation()\n                    removeViewed(gig._id)\n                }} />}\n\n                <Link to={`/gig/${gig._id}`}>\n                    <div className=\"preview-img\">\n                        <img src={gig.imgUrls[0]} alt=\"\" />\n                    </div>\n                    <div className=\"preview-title\">\n                        <h6>{gig.title}</h6>\n                    </div>\n                </Link>\n            </div>\n        </li >\n    )\n}","import { Link } from 'react-router-dom'\nimport Favorite from '@material-ui/icons/Favorite';\nimport ClearIcon from '@material-ui/icons/Clear';\n\nexport function GigPreview({ gig, onUserViewGig, onFavoriteToggle, user, removeViewed }) {\n    return (\n        <li onClick={() => { onUserViewGig(gig._id) }} className=\"preview-item\">\n            <div className=\"preview-inner\">\n                {removeViewed && <ClearIcon className=\"clear-icon pointer\" onClick={(ev) => {\n                    ev.stopPropagation()\n                    removeViewed(gig._id)\n                }} />}\n\n                <Link to={`/gig/${gig._id}`}>\n                    <div className=\"preview-img\">\n                        <img src={gig.imgUrls[0]} alt=\"gig preview\" />\n                    </div>\n                </Link>\n                <Link to=\"#\">\n                    <div className=\"gig-owner flex\">\n                        <img src={gig.owner.imgUrl} />\n                        <div className=\"gig-owner-text flex\">\n                            <p>{gig.owner.fullname}</p>\n                            <p>Level {_getRandomSellerRating()} seller</p>\n                        </div>\n                    </div>\n                </Link>\n                <Link to={`/gig/${gig._id}`}>\n                    <div className=\"preview-title\">\n                        <h2>{gig.title}</h2>\n                    </div>\n                    <div className=\"gig-rating flex align-center\">\n                        <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 1792 1792\" width=\"15\" height=\"15\"><path fill=\"currentColor\" d=\"M1728 647q0 22-26 48l-363 354 86 500q1 7 1 20 0 21-10.5 35.5t-30.5 14.5q-19 0-40-12l-449-236-449 236q-22 12-40 12-21 0-31.5-14.5t-10.5-35.5q0-6 2-20l86-500-364-354q-25-27-25-48 0-37 56-46l502-73 225-455q19-41 49-41t49 41l225 455 502 73q56 9 56 46z\"></path></svg>\n                        <span>{_getRandomRating()}</span>\n                        <span className=\"gig-voters\">({_getRandomVotesCount()})</span>\n                    </div>\n                </Link>\n                <div className=\"preview-bottom flex space-between\">\n                    <Favorite onClick={(ev) => { onFavoriteToggle(ev, gig._id) }} className={`heart pointer ${_isLiked(user?.favoriteIds, gig._id)}`} />\n                    {/* {removeViewed && <button onClick={() => { removeViewed(gig._id) }}>delete viewed</button>} */}\n                    <h3>Starting at <span>${gig.packages[0].price}</span></h3>\n                </div>\n            </div>\n        </li >\n    )\n}\n\nfunction _getRandomRating() {\n    return Math.round(Math.random() * 12 + 38) / 10\n}\n\nfunction _getRandomSellerRating() {\n    return Math.round(Math.random() * 2 + 1)\n}\n\nfunction _getRandomVotesCount() {\n    return Math.round(Math.random() * 230 + 30)\n}\n\nfunction _isLiked(favoriteIds, gigId) {\n    if (!favoriteIds) return ''\n    return favoriteIds.find(favoriteId => favoriteId === gigId) ? 'liked' : ''\n}","import { GigMiniPreview } from \"./GigMiniPreview\"\nimport { GigPreview } from \"./GigPreview\"\n\nexport function GigList({ gigs, onUserViewGig, onFavoriteToggle, user, removeViewed, isSmallPreview }) {\n\n    return (\n        <section className=\"gig-list\">\n            <ul className=\"previews-wrap clean-list\">\n                {isSmallPreview &&\n                     gigs.map(gig => <GigMiniPreview key={gig._id} gig={gig}></GigMiniPreview>) }\n                {!isSmallPreview &&\n                    gigs.map(gig => <GigPreview key={gig._id} gig={gig} onUserViewGig={onUserViewGig} onFavoriteToggle={onFavoriteToggle} user={user} removeViewed={removeViewed}></GigPreview>)}\n            </ul>\n        </section>\n    )\n}","// import { storageService } from './storageService.js';\n// import { utilService } from './utilService.js';\nimport { httpService } from './httpService'\nconst BASE_URL = 'api/gig' // REAL SERVER\n// const BASE_URL = 'gig' // JSON SERVER\nexport const gigService = {\n    query,\n    deleteGig,\n    save,\n    getById\n}\n\nfunction query(filterBy) {\n    console.log('filterBy', filterBy)\n    const queryString = Object.keys(filterBy).map(key => `${key}=${filterBy[key]}`).join('&');\n    console.log('queryString', queryString)\n    // return httpService.get(`${BASE_URL}/?${queryString}`)\n    return httpService.get(BASE_URL, filterBy)\n}\n\nasync function getById(gigId) {\n    return httpService.get(`${BASE_URL}/${gigId}`)\n}\n\nasync function deleteGig(gigId) {\n    return httpService.delete(`${BASE_URL}/${gigId}`)\n}\n\nasync function save(gigToSave) {\n    console.log(\"save , gigToSave\", gigToSave)\n    if (gigToSave._id) {\n        return httpService.put(`${BASE_URL}/${gigToSave._id}`, gigToSave) // UPDATE\n    } else {\n        return httpService.post(BASE_URL, gigToSave) // CREATE\n    }\n}\n","import { gigService } from \"../../services/gigService.js\";\nimport { cloudinaryService } from \"../../services/cloudinaryService.js\";\n\nexport function loadGigs(filterBy ={}) {\n    console.log(filterBy)\n    return async (dispatch) => {\n    // return async (dispatch, getState) => {\n        // const { filterBy } = getState().gigModule\n        const gigs = await gigService.query(filterBy)\n        const action = {\n            type: 'SET_GIGS',\n            gigs\n        }\n        dispatch(action)\n    }\n}\n\nexport function loadGig(gigId) {\n    return gigService.getById(gigId)\n}\nexport async function getGigs(gigIds) {\n    const prmGigs = gigIds.map(gigId => loadGig(gigId))\n    const gigs = await Promise.all(prmGigs)\n    return gigs\n}\n\nexport function removeGig(gigId) {\n    return async (dispatch) => {\n        await gigService.deleteGig(gigId)\n        const action = {\n            type: 'REMOVE_GIG',\n            gigId\n        }\n        dispatch(action)\n\n    }\n}\n\nexport function addGig(gig) {\n    console.log(\"addGig , gig\", gig)\n    return async (dispatch) => {\n        const savedGig = await gigService.save(gig)\n        const action = {\n            type: 'ADD_GIG',\n            savedGig\n        }\n        dispatch(action)\n\n    }\n}\nexport function updateGig(gig) {\n    return async (dispatch) => {\n        const savedGig = await gigService.save(gig)\n        const action = {\n            type: 'SAVE_GIG',\n            savedGig\n        }\n        dispatch(action)\n\n    }\n}\n\nexport function setFilter(filterBy) {\n    return (dispatch) => {\n        const action = {\n            type: 'SET_FILTER',\n            filterBy\n        }\n        dispatch(action)\n    }\n}","import React from 'react'\nimport { connect } from 'react-redux'\nimport { GigFilter } from '../cmps/GigFilter.jsx';\nimport { GigList } from '../cmps/GigList.jsx';\nimport { loadGigs, setFilter, removeGig } from \"../store/actions/gigActions.js\";\nimport { updateUser } from \"../store/actions/userActions.js\";\n\n\nclass _SixerrApp extends React.Component {\n\n    componentDidMount() {\n        // this.props.loadGigs({tags: ['logo', 'graphic design']})\n        // this.props.loadGigs({text: 'string'})\n        // this.props.loadGigs(this.props.filterBy)\n        this.loadGigs()\n    }\n    \n    loadGigs = async () => {\n        await this.props.loadGigs(this.props.filterBy)\n\n    }\n    onUserViewGig = (gigId) => {\n        const user = {...this.props.user}\n        if (user.viewedGigIds) {\n            if (!user.viewedGigIds.find(viewedGigId => viewedGigId === gigId)) user.viewedGigIds.push(gigId)\n        } else user.viewedGigIds = [gigId]\n        this.props.updateUser(user)\n    }\n\n    componentWillUnmount() {\n        this.props.setFilter({})\n    }\n    \n    onDelete = () => { }\n\n    onSetFilter = (filterBy) => {\n        this.props.setFilter(filterBy)\n        this.props.loadGigs(filterBy)\n    }\n    \n    onFavoriteToggle = (ev, gigId) => { \n        ev.stopPropagation()\n        const user = {...this.props.user}\n        if (user.favoriteIds) {\n            if (user.favoriteIds.find(favoriteId => favoriteId === gigId)) user.favoriteIds = user.favoriteIds.filter(favoriteId => favoriteId !== gigId)\n            else user.favoriteIds.push(gigId)\n        } else user.favoriteIds = [gigId]\n        console.log('user.favoriteIds',user.favoriteIds)\n        this.props.updateUser(user)\n    }\n\n    render() {\n        const {user} = this.props\n        if (user) console.log('user favorites', user.favoriteIds)\n        return (\n            <section className=\"sixerr-app main-container\">\n                {/* <div className=\"flex space-around align-center mrg-top mrg-bottom\">\n                    <GigFilter />\n                </div> */}\n                <GigList gigs={this.props.gigs} onUserViewGig={this.onUserViewGig} onFavoriteToggle={this.onFavoriteToggle} user={this.props.user} onDelete={this.onDelete} />\n            </section>\n\n        )\n    }\n}\n\nconst mapStateToProps = (state) => {\n    return {\n        gigs: state.gigModule.gigs,\n        filterBy: state.gigModule.filterBy,\n        user: state.userModule.user\n    }\n}\n\nconst mapDispatchToProps = {\n    loadGigs,\n    setFilter,\n    removeGig,\n    updateUser\n}\n\nexport const SixerrApp = connect(mapStateToProps, mapDispatchToProps)(_SixerrApp)\n","\nexport const utilService = {\n    delay,\n    getRandomInt,\n    makeId,\n    timeDifference\n}\n\nfunction delay(ms = 1500) {\n    return new Promise(resolve => {\n        setTimeout(resolve, ms)\n    })\n}\n\nfunction getRandomInt(min, max) {\n    min = Math.ceil(min);\n    max = Math.floor(max);\n    return Math.floor(Math.random() * (max - min) + min); //The maximum is exclusive and the minimum is inclusive\n}\n\nfunction makeId(length = 5) {\n    var txt = '';\n    var possible = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\n    for (var i = 0; i < length; i++) {\n        txt += possible.charAt(Math.floor(Math.random() * possible.length));\n    }\n    return txt;\n}\n\nfunction timeDifference (current, previous) {\n    var msPerMinute = 60 * 1000;\n    var msPerHour = msPerMinute * 60;\n    var msPerDay = msPerHour * 24;\n    var msPerMonth = msPerDay * 30;\n    var msPerYear = msPerDay * 365;\n\n    var elapsed = current - previous;\n\n    if (elapsed < msPerMinute) {\n        return Math.round(elapsed / 1000) + ' seconds ago';\n    }\n\n    else if (elapsed < msPerHour) {\n        return Math.round(elapsed / msPerMinute) + ' minutes ago';\n    }\n\n    else if (elapsed < msPerDay) {\n        return Math.round(elapsed / msPerHour) + ' hours ago';\n    }\n\n    else if (elapsed < msPerMonth) {\n        return 'approximately ' + Math.round(elapsed / msPerDay) + ' days ago';\n    }\n\n    else if (elapsed < msPerYear) {\n        return 'approximately ' + Math.round(elapsed / msPerMonth) + ' months ago';\n    }\n\n    else {\n        return 'approximately ' + Math.round(elapsed / msPerYear) + ' years ago';\n    }\n}\n","import React from 'react';\nimport Rating from '@material-ui/lab/Rating';\nimport Box from '@material-ui/core/Box';\n\nconst labels = {\n  0.5: 'Useless',\n  1: 'Useless+',\n  1.5: 'Poor',\n  2: 'Poor+',\n  2.5: 'Ok',\n  3: 'Ok+',\n  3.5: 'Good',\n  4: 'Good+',\n  4.5: 'Excellent',\n  5: 'Excellent+',\n};\n\nexport class HoverRating extends React.Component {\n\n  state = {\n    value: 0,\n    hover: -1\n  }\n\n  setValue = (newValue) => {\n    this.setState({ value: newValue }, () => { this.props.handleRate(newValue) })\n  }\n  setHover = (newHover) => {\n    console.log(\"HoverRating , setHover\", newHover)\n  }\n  render() {\n    return (\n      <div style={{\n        width: 200,\n        display: 'flex',\n        alignItems: 'center',\n        // margin: '10px 0px'\n      }}>\n        <Rating\n          name=\"hover-feedback\"\n          value={this.state.value}\n          precision={0.5}\n          onChange={(event, newValue) => {\n            this.setValue(newValue);\n          }}\n          onChangeActive={(newHover) => {\n            this.setHover(newHover);\n          }}\n        />\n        {this.value !== null && <Box ml={2}>{labels[this.hover !== -1 ? this.hover : this.value]}</Box>}\n      </div>\n    )\n\n  }\n}\n","import React, { Component } from 'react'\nimport { connect } from 'react-redux'\nimport { utilService } from '../services/utilService.js'\nimport { addGig, updateGig, loadGig } from '../store/actions/gigActions'\nimport { HoverRating } from '../cmps/HoverRating.jsx'\n\n\nclass _GigAddReview extends Component {\n\n\n    state = {\n        gig: null,\n        user: null,\n        review: '',\n    }\n\n    componentDidMount() {\n        const { gig } = this.props\n        const { user } = this.props\n        const review = this.createReviewTemplate(gig, user)\n        this.setState({ gig, user, review })\n    }\n\n    createReviewTemplate = (gig, user) => {\n        const by = { _id: user._id, fullname: user.fullname, imgUrl: user.imgUrl }\n        const id = utilService.makeId()\n        const review = { id, rating: '', txt: '', createdAt: null, purchasedAt: null, by }\n        return review\n        //gig.reviews[0].seller => gig.owner\n    }\n\n    handleChange = ({ target }) => {\n        const field = target.name\n        const value = target.value\n        this.setState(prevState => {\n            return {\n                review: {\n                    ...prevState.review,\n                    [field]: value\n                }\n            }\n        })\n    }\n    handleRate = (rate) => {\n        const { review } = { ...this.state }\n        review.rating = rate\n        this.setState({ review })\n    }\n\n    onAddReview = () => {\n        const { review } = this.state\n        const { gig } = this.state\n        let reviewToAdd = { ...review }\n        // todo: add purchase date when we have data\n        if(review.txt === '') return\n        const purchasedAt = \"purchase At\"\n        const date = Date.now()\n        reviewToAdd.createdAt = date\n        reviewToAdd.purchasedAt = purchasedAt\n        gig.reviews.unshift(reviewToAdd)\n        this.props.updateGig(gig).then(() => {\n            this.setState({ review: null })\n            console.log('review added succefully')\n        })\n\n    }\n\n    render() {\n        const { mobileStarStats } = this.props\n        const { review } = this.state\n        if (!review) return <div></div>\n        return (\n            <>\n                <section className=\"add-review-wrapper\">\n                    {!mobileStarStats && <HoverRating className=\"stars-rate\" handleRate={this.handleRate} val={review.rating} />}\n                    <div className=\"text-area-container\">\n                        <textarea rows=\"6\" cols=\"60\" type=\"text\" name=\"txt\" placeholder='enter review...' value={review.txt} onChange={this.handleChange} required />\n                    </div>\n                    <div className=\"rate-mobile-view-container\">\n                        {mobileStarStats && <HoverRating className=\"stars-rate\" handleRate={this.handleRate} val={review.rating} required />}\n                    </div>\n                    <div className=\"add-review-container\">\n                        <button className=\"add-review\" onClick={() => this.onAddReview()}>Add Review</button>\n                    </div>\n                </section>\n            </>\n        )\n    }\n}\n\n\nconst mapStateToProps = (state) => {\n    return {\n        gigs: state.gigModule.gigs,\n        user: state.userModule.user\n    }\n}\n\nconst mapDispatchToProps = {\n    addGig,\n    updateGig,\n    loadGig,\n}\n\nexport const GigAddReview = connect(mapStateToProps, mapDispatchToProps)(_GigAddReview)","\n\n\nexport function SellerPreview({ gig, seller, getStars, getBiggestStarRate, calculateAvgHalfRating }) {\n\n\n    const createStarsArey = () => {\n        var starsArr = []\n        for (var i = 0; i < biggestStarRtae; i++) {\n            starsArr.push(<svg key={i} xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 1792 1792\" width=\"15\" height=\"15\"><path fill=\"currentColor\" d=\"M1728 647q0 22-26 48l-363 354 86 500q1 7 1 20 0 21-10.5 35.5t-30.5 14.5q-19 0-40-12l-449-236-449 236q-22 12-40 12-21 0-31.5-14.5t-10.5-35.5q0-6 2-20l86-500-364-354q-25-27-25-48 0-37 56-46l502-73 225-455q19-41 49-41t49 41l225 455 502 73q56 9 56 46z\"></path></svg>)\n        }\n        return starsArr\n    }\n\n\n    const biggestStarRtae = getBiggestStarRate()\n    const starsArr = createStarsArey()\n\n    return (\n        <>\n            <section id=\"about-seller\" className=\"about-seller-container flex column\">\n                <h2>About The Seller</h2>\n                <div className=\"content flex\">\n                    <div className=\"seller-img-container\">\n                        <img src={seller.imgUrl} alt=\"\" />\n                    </div>\n                    <div className=\"content flex column\">\n                        <span>{seller.fullname}</span>\n                        <div className=\"stars-container flex  align center\">\n                            {starsArr.map((star) => {\n                                return star\n                            })}\n                            <span>{biggestStarRtae} ({gig.reviews.length})</span>\n                        </div>\n                        <button>Contact Me</button>\n                    </div>\n                </div>\n            </section>\n            <section className=\"seller-stats flex column\">\n                <div className=\"user-stats flex\">\n                    <div className=\"flex column\">\n                        <span>From</span>\n                        <span className=\"bold\">United States</span>\n                        <span>Avg. response time</span>\n                        <span className=\"bold\">3 hours</span>\n                    </div>\n                    <div className=\"flex column\">\n                        <span >Member since</span>\n                        <span className=\"bold\">Aug 2020</span>\n                        <span>Last deilivery</span>\n                        <span className=\"bold\">About 12 hours</span>\n                    </div>\n                </div>\n                {/* <div>\n                    <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Error, nihil. Temporibus quidem aperiam voluptates aliquid nostrum, ratione laboriosam commodi culpa eligendi? Autem cum corporis quia asperiores deleniti maiores consequuntur expedita?</p>\n                </div> */}\n            </section>\n        </>\n    )\n}\n","// import { storageService } from './storageService.js';\n// import { utilService } from './utilService.js';\nimport { httpService } from './httpService'\nconst BASE_URL = 'api/order' // REAL SERVER\n// const BASE_URL = 'order' // JSON SERVER\n\nexport const orderService = {\n    query,\n    // getById,\n    // cancel,\n    update,\n    createOrder,\n}\n\nasync function query() {\n    return httpService.get(BASE_URL)\n}\n\n// async function getById(gigId) {\n//     return httpService.get(`gig/${gigId}`)  \n// }\n\n// async function cancel(gigId) {\n//     return httpService.delete(`gig/${gigId}`)  \n// }\n\n\nasync function createOrder(gig, user) {\n    const order = _prepareOrder(gig, user)\n    console.log('ordering:', order)\n    return httpService.post(BASE_URL, order) \n}\n\nasync function update(order) {\n    console.log('updating order:', order)\n    return httpService.put(`${BASE_URL}/${order._id}`, order) \n}\n\n\nfunction _prepareOrder(gig, user) {\n    return {\n        createdAt: Date.now(),\n        buyer: {\n            _id: user._id,\n            fullname: user.fullname,\n            imgUrl: user.imgUrl\n        },\n        totalPrice: gig.packages[0].price,\n        currency: 'USD',\n        gig: {\n            sellerFullname: gig.owner.fullname,\n            _id: gig._id,\n            title: gig.title,\n            imgUrl: gig.imgUrls[0]\n        },\n        status: 'pending'\n    }\n}\n","import { orderService } from \"../../services/orderService.js\";\n\nexport function loadOrders() {\n    return async (dispatch) => {\n        const orders = await orderService.query()\n        const action = {\n            type: 'SET_ORDERS',\n            orders\n        }\n        dispatch(action)\n    }\n}\n\nexport function orderGig(gig, user) {\n    return async (dispatch) => {\n        const order = await orderService.createOrder(gig, user)\n        const action = {\n            type: 'ADD_ORDER',\n            order\n        }\n        dispatch(action)\n    }\n}\n\nexport function updateOrder(order) {\n    return async (dispatch) => {\n        const savedOrder = await orderService.update(order)\n        const action = {\n            type: 'SAVE_ORDER',\n            savedOrder\n        }\n        dispatch(action)\n    }\n}\n","import React from 'react'\nimport QueryBuilderIcon from '@material-ui/icons/QueryBuilder';\nimport LoopIcon from '@material-ui/icons/Loop';\nimport DoneIcon from '@material-ui/icons/Done';\nimport { Link } from 'react-router-dom'\n\nexport default function SideBar({ gig, onGigOrder }) {\n    const pack = gig.packages[0]\n    const packPrice = pack.price.toFixed(2)\n    return (\n        <>\n            <div className=\"sidebar\">\n                <div className=\"package-content\">\n                    <div>\n                        <h3 className=\"flex space-between\">\n                            {'Package Price'}\n                <span>${packPrice}</span>\n                        </h3>\n                        <p>{pack.desc}</p>\n                    </div>\n                    <div >\n                        <div className={`icons flex`}>\n                            <QueryBuilderIcon className=\"clock\" />\n                            <p className=\"delivery\">{pack.deliveryDays} Days Delivery</p>\n                            <LoopIcon className=\"loop\" />\n                            <p className=\"revisions\">{pack.revisionsCount} Revisions</p>\n                        </div>\n                        <ul className=\"features clean-list \">\n                            {pack.features.map(feature => {\n                                return <div key={feature} className=\"flex\">\n                                    <DoneIcon fontSize=\"small\" className=\"include\" />\n                                    <li>{feature}</li>\n                                </div>\n                            })}\n                        </ul>\n                    </div>\n                    <div className=\"btns-container flex justify-center\">\n                        <Link to={`/gig/checkout/${gig._id}`}><button className=\"continue\">Continue<span>{' '}</span>(${packPrice})</button></Link>\n                    </div>\n                </div>\n            </div>\n        </>\n    )\n}\n               \n","import React from 'react'\nimport Avatar from '@material-ui/core/Avatar';\nimport ThumbDownAltIcon from '@material-ui/icons/ThumbDownAlt';\nimport ThumbUpAltIcon from '@material-ui/icons/ThumbUpAlt';\n\n\n\nimport {\n    IconFlagUS,\n\n} from 'material-ui-flags';\n\n\nexport function ReviewPreview({ review, user, onToggleHelfull, isHelful }) {\n    if (!review || !review.by) return <div></div>\n    return (\n        <>\n            <section className=\"review-card flex\">\n                <div>\n                    <div className=\"avatar-container\">\n                        <Avatar className=\"avatar\" src={review.by.imgUrl} />\n                    </div>\n                </div>\n                <div className=\"review-info\">\n                    <div>\n                        <div className=\"info flex align-center\">\n                            <h5>{review.by.fullname}</h5>\n                            <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 1792 1792\" width=\"15\" height=\"15\"><path fill=\"currentColor\" d=\"M1728 647q0 22-26 48l-363 354 86 500q1 7 1 20 0 21-10.5 35.5t-30.5 14.5q-19 0-40-12l-449-236-449 236q-22 12-40 12-21 0-31.5-14.5t-10.5-35.5q0-6 2-20l86-500-364-354q-25-27-25-48 0-37 56-46l502-73 225-455q19-41 49-41t49 41l225 455 502 73q56 9 56 46z\"></path></svg>\n                            <span className=\"rating\">{review.rating}</span>\n                        </div>\n                        <div className=\"country\">\n                            <IconFlagUS className=\"icon\" />\n                            <span className=\"country-name\" >united states</span>\n                        </div>\n                    </div>\n                    {/* todo : add country and flags */}\n                    <p>{review.txt}</p>\n                    <p className=\"published-at\">Published 20 Days Ago</p>\n                    <div className={`icons flex`} >\n                        \n                        <ThumbUpAltIcon className=\"helpful\" onClick={() => onToggleHelfull()} />\n                        <span className={`helpful-name ${isHelful ? ' liked' : ''}`}>Helpful</span>\n                        <ThumbDownAltIcon className={`thumb-down ${isHelful ? ' liked' : ''}`} />\n                        <span>Not Helpful</span>\n                    </div>\n                </div>\n            </section>\n        </>\n    )\n}\n","\nimport { ReviewPreview } from './ReviewPreview.jsx'\n\nexport default function ReviewList({ gig, user, onToggleHelfull, isHelful}) {\n    const reviews = gig.reviews\n    return (\n        <>\n            <section id=\"reviews\" className=\"gig-review-list flex column\">\n                {reviews.map(review => <ReviewPreview key={review.id} review={review} user={user} onToggleHelfull={onToggleHelfull} isHelful={isHelful} ></ReviewPreview>)}\n            </section>\n        </>\n    )\n}\n","import React from 'react'\nimport CloseIcon from '@material-ui/icons/Close';\nimport SkipNextIcon from '@material-ui/icons/SkipNext';\nimport SkipPreviousIcon from '@material-ui/icons/SkipPrevious';\n// import { CarouselImgs } from '../cmps/Carousel.jsx'\n\nexport function GigImgLightBox({ currImg, onToggleImgLightbox, onNextPageLightBox, onPrevPageLightBox, gig }) {\n    return (\n        <section className=\"img-light-box\" onClick={() => onToggleImgLightbox()}>\n            <div>\n                <img src={currImg} alt=\"\" />\n                <CloseIcon className=\"close-light-box\" onClick={() => onToggleImgLightbox()} />\n                <SkipNextIcon className=\"next-img\" onClick={(ev) => onNextPageLightBox(ev)} />\n                <SkipPreviousIcon className=\"prev-img\" onClick={(ev) => onPrevPageLightBox(ev)} />\n            </div>\n        </section>\n    )\n}\n","import React from 'react'\nimport ContentEditable from 'react-contenteditable'\nimport EditIcon from '@material-ui/icons/Edit';\nimport DoneIcon from '@material-ui/icons/Done';\n\nexport class EditableElement extends React.Component {\n    state = {\n        editable: false,\n        html: this.props.text\n    }\n    contentEditable = React.createRef();\n\n    componentDidMount() {\n        console.log(this.props)\n    }\n\n    handleChange = evt => {\n        this.setState({ ...this.state, html: evt.target.value });\n    };\n\n    toggleEditable = () => {\n        this.setState({\n            ...this.state, editable: !this.state.editable\n        },\n            () => {\n                if (this.state.editable) this.contentEditable.current.focus()\n            })\n    }\n\n    onStartEdit = () => {\n        this.toggleEditable()\n    }\n\n    onSaveElement = () => {\n        this.props.save(this.props.field, this.contentEditable.current.innerText)\n        this.toggleEditable()\n    }\n\n    render = () => {\n        const { editable } = this.state\n        const editableStyle = (editable) ? { border: '1px solid #888' } : {}\n        return (\n            <div className=\"content-edit-wrapper flex align-center\">\n                <ContentEditable\n                    innerRef={this.contentEditable}\n                    html={this.state.html} // innerHTML of the editable div\n                    disabled={!this.state.editable}       // use true to disable editing\n                    onChange={this.handleChange} // handle innerHTML change\n                    tagName={this.props.type} // Use a custom HTML tag (uses a div by default)\n                    className=\"content-editable\"\n                    style={editableStyle}\n                />\n                <div className=\"action-buttons\">\n                    {!editable && <EditIcon className=\"action-button\" onClick={this.onStartEdit} />}\n                    {editable && <DoneIcon className=\"action-button\" onClick={this.onSaveElement} />}\n                </div>\n            </div>\n        )\n    }\n}\n\nfunction EditButton(props) {\n    return (\n        <button\n            key={props.cmd}\n            onMouseDown={evt => {\n                evt.preventDefault(); // Avoids loosing focus from the editable area\n                document.execCommand(props.cmd, false, props.arg); // Send the command to the browser\n            }}\n        >\n            {props.name || props.cmd}\n        </button>\n    );\n}","import Avatar from '@material-ui/core/Avatar';\n\nexport function SellerOverview({ gig, htmlStars, getBiggestStarRate, calculateAvgHalfRating, getStars }) {\n    const avgRate = getStars()\n    const biggestStarRtae = getBiggestStarRate()\n\n    const createStarsAreey = () => {\n        var starsArr = []\n        for (var i = 0; i < biggestStarRtae; i++) {\n            starsArr.push(<svg key={i * 5} xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 1792 1792\" width=\"15\" height=\"15\"><path fill=\"currentColor\" d=\"M1728 647q0 22-26 48l-363 354 86 500q1 7 1 20 0 21-10.5 35.5t-30.5 14.5q-19 0-40-12l-449-236-449 236q-22 12-40 12-21 0-31.5-14.5t-10.5-35.5q0-6 2-20l86-500-364-354q-25-27-25-48 0-37 56-46l502-73 225-455q19-41 49-41t49 41l225 455 502 73q56 9 56 46z\"></path></svg>)\n        }\n        return starsArr\n    }\n    const starsArr = createStarsAreey()\n    return (\n        <section className=\"seller-overview flex\">\n            <Avatar className=\"avatar\" alt=\"Remy Sharp\" src={`${gig.owner.imgUrl}`} />\n            <div className=\"flex align-center info\">\n                <span className=\"owner-fullname\">{gig.owner.fullname}</span>\n            </div>\n                <span className=\"space\">|</span>\n            <div className=\"seller-stars-container flex\">\n                {starsArr.map((star) => {\n                    return star\n                })}\n                <span>{(starsArr.length - 1 === -1) ? 0 :starsArr.length }</span>\n            </div>\n            <span className=\"total-reviews\">({gig.reviews.length})</span>\n            <span className=\"space space-end\">|</span>\n            {/* get orders from gig */}\n            <span className=\"order-count\">10 Orders in Queue</span>\n        </section>\n    )\n\n}\n","// import StarRateIcon from '@material-ui/icons/StarRate';\n// import StarHalfIcon from '@material-ui/icons/StarHalf';\n\n\nexport function ReviewStats({ htmlStars, gig, getStars, getBiggestStarRate, calculateAvgHalfRating }) {\n\n    const avgRate = getStars()\n    const oneStarPercentage = avgRate.oneStarCount / gig.reviews.length*100\n    const twoStarPercentage = avgRate.twoStarCount / gig.reviews.length*100\n    const threeStarPercentage = avgRate.threeStarCount / gig.reviews.length*100\n    const fourStarPercentage = avgRate.fourStarCount / gig.reviews.length*100\n    const fiveStarPercentage = avgRate.fiveStarCount / gig.reviews.length*100\n    console.log(\"ReviewStats , fiveStarPercentage\", fiveStarPercentage)\n    const biggestStarRtae = getBiggestStarRate()\n\n    const createStarsAreey = () => {\n        var starsArr = []\n        for (var i = 0; i < biggestStarRtae; i++) {\n            starsArr.push(<svg key={i * 10} xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 1792 1792\" width=\"15\" height=\"15\"><path fill=\"currentColor\" d=\"M1728 647q0 22-26 48l-363 354 86 500q1 7 1 20 0 21-10.5 35.5t-30.5 14.5q-19 0-40-12l-449-236-449 236q-22 12-40 12-21 0-31.5-14.5t-10.5-35.5q0-6 2-20l86-500-364-354q-25-27-25-48 0-37 56-46l502-73 225-455q19-41 49-41t49 41l225 455 502 73q56 9 56 46z\"></path></svg>)\n        }\n        return starsArr\n    }\n    const starsArr = createStarsAreey()\n\n    return (\n        <>\n            <div className=\"review-stats-header flex\">\n                <h2>{gig.reviews.length} Reviews</h2>\n                <div className=\"stars-container\">\n                    {starsArr.map((star) => {\n                        return star\n                    })}\n                    <span>{starsArr.length}</span>\n                </div>\n            </div>\n            <section className=\"review-stats-container \" >\n                <div className=\"left-side-stats\">\n                    <div className=\"progressses-ctonainer\">\n                        <span className={`${avgRate.fiveStarCount === 0 ? ' less-visability' : ''}`}>5 Stars</span>\n                        <div className=\"progress-bar-container\">\n                            <div className=\"fit-progressbar-background\" style={{ backgroundColor: 'orange', width: `${fiveStarPercentage}%` }} >\n                            </div>\n                        </div>\n                        <p className={`${avgRate.fiveStarCount === 0 ? ' less-visability' : ''}${biggestStarRtae === 5 ? ' bold' : ''}`}>{avgRate.fiveStarCount}</p>\n                    </div>\n                    <div className=\"progressses-ctonainer\">\n                        <span className={`${avgRate.fourStarCount === 0 ? ' less-visability' : ''}`}>4 Stars</span>\n                        <div className=\"progress-bar-container\">\n                            <div className=\"fit-progressbar-background\" style={{ backgroundColor: 'orange', width: `${fourStarPercentage}%` }} >\n                            </div>\n                        </div>\n                        <p className={`${avgRate.fourStarCount === 0 ? ' less-visability' : ''}${biggestStarRtae === 4 ? ' bold' : ''}`}>{avgRate.fourStarCount}</p>\n                    </div>\n                    <div className=\"progressses-ctonainer\">\n                        <span className={`${avgRate.threeStarCount === 0 ? ' less-visability' : ''}`}>3 Stars</span>\n                        <div className={`progress-bar-container ${avgRate.threeStarCount === 0 ? ' less-visability' : ''}`}>\n                            <div className=\"fit-progressbar-background\" style={{ backgroundColor: 'orange', width: `${threeStarPercentage}%` }} >\n                            </div>\n                        </div>\n                        <p className={`${avgRate.threeStarCount === 0 ? ' less-visability' : ''}${biggestStarRtae === 3 ? ' bold' : ''}`}>{avgRate.threeStarCount}</p>\n                    </div>\n                    <div className=\"progressses-ctonainer\">\n                        <span className={`${avgRate.twoStarCount === 0 ? ' less-visability' : ''}`}>2 Stars</span>\n                        <div className={`progress-bar-container ${avgRate.twoStarCount === 0 ? ' less-visability' : ''}`}>\n                            <div className=\"fit-progressbar-background\" style={{ backgroundColor: 'orange', width: `${twoStarPercentage}%` }} >\n                            </div>\n                        </div>\n                        <p className={`${avgRate.twoStarCount === 0 ? ' less-visability' : ''}${biggestStarRtae === 2 ? ' bold' : ''}`}>{avgRate.twoStarCount}</p>\n                    </div>\n                    <div className=\"progressses-ctonainer\">\n                        <span className={`${avgRate.oneStarCount === 0 ? ' less-visability' : ''}`}>1 Stars</span>\n                        <div className=\"progress-bar-container\">\n                            <div className=\"fit-progressbar-background\" style={{ backgroundColor: 'orange', width: `${oneStarPercentage}%` }} >\n                            </div>\n                        </div>\n                        <p className={`${avgRate.oneStarCount === 0 ? ' less-visability' : ''}${biggestStarRtae === 1 ? ' bold' : ''}`}>{avgRate.oneStarCount}</p>\n                    </div>\n                </div>\n                <div className=\"right-side-stats\">\n                    <div>\n                        <h6>Rating Breakdown</h6>\n                    </div>\n                    <div className=\"overview-content\">\n                        <span>Seller communication level</span>\n                    </div>\n                    <div className=\"overview-content\">\n                        <span>Recommend to a friend</span>\n                    </div  >\n                    <div className=\" overview-content flex space-between\">\n                        <span>Service as described</span>\n                    </div>\n                </div>\n                <div className=\"stars flex column\">\n                    <div>\n                        <span>{calculateAvgHalfRating()}</span>\n                        <div>\n                            <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 1792 1792\" width=\"15\" height=\"15\"><path fill=\"currentColor\" d=\"M1728 647q0 22-26 48l-363 354 86 500q1 7 1 20 0 21-10.5 35.5t-30.5 14.5q-19 0-40-12l-449-236-449 236q-22 12-40 12-21 0-31.5-14.5t-10.5-35.5q0-6 2-20l86-500-364-354q-25-27-25-48 0-37 56-46l502-73 225-455q19-41 49-41t49 41l225 455 502 73q56 9 56 46z\"></path></svg>\n                        </div>\n                    </div>\n                    <div>\n                        <span>{calculateAvgHalfRating()}</span>\n                        <div>\n                            <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 1792 1792\" width=\"15\" height=\"15\"><path fill=\"currentColor\" d=\"M1728 647q0 22-26 48l-363 354 86 500q1 7 1 20 0 21-10.5 35.5t-30.5 14.5q-19 0-40-12l-449-236-449 236q-22 12-40 12-21 0-31.5-14.5t-10.5-35.5q0-6 2-20l86-500-364-354q-25-27-25-48 0-37 56-46l502-73 225-455q19-41 49-41t49 41l225 455 502 73q56 9 56 46z\"></path></svg>\n                        </div>\n                    </div>\n                    <div >\n                        <span >{calculateAvgHalfRating()}</span>\n                        <div>\n                            <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 1792 1792\" width=\"15\" height=\"15\"><path fill=\"currentColor\" d=\"M1728 647q0 22-26 48l-363 354 86 500q1 7 1 20 0 21-10.5 35.5t-30.5 14.5q-19 0-40-12l-449-236-449 236q-22 12-40 12-21 0-31.5-14.5t-10.5-35.5q0-6 2-20l86-500-364-354q-25-27-25-48 0-37 56-46l502-73 225-455q19-41 49-41t49 41l225 455 502 73q56 9 56 46z\"></path></svg>\n                        </div>\n                    </div>\n                </div>\n            </section>\n\n        </>\n    )\n}","import Avatar from '@material-ui/core/Avatar';\nimport {\n    IconFlagUS,\n}\n    from 'material-ui-flags';\n\nexport function ShortReviewPreview({ reviews, idx }) {\n\n    if (!reviews[idx].by) return <div></div>\n    return (\n        <>\n            <div className=\"short-content\">\n                <div className=\"content-wrapper flex\">\n                    <div className=\"avatar-container\">\n                        <Avatar src={reviews[idx].by.imgUrl} />\n                    </div>\n                    <div className=\"content flex align-center\">\n                        <h6>{reviews[idx].by.fullname}</h6>\n                        <IconFlagUS className=\"country-icon\" />\n                        <span className=\"country-name\">united states</span>\n                        <svg className=\"star-icon\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 1792 1792\" width=\"15\" height=\"15\"><path fill=\"currentColor\" d=\"M1728 647q0 22-26 48l-363 354 86 500q1 7 1 20 0 21-10.5 35.5t-30.5 14.5q-19 0-40-12l-449-236-449 236q-22 12-40 12-21 0-31.5-14.5t-10.5-35.5q0-6 2-20l86-500-364-354q-25-27-25-48 0-37 56-46l502-73 225-455q19-41 49-41t49 41l225 455 502 73q56 9 56 46z\"></path></svg>\n                        <span className=\"rating\">{reviews[idx].rating}</span>\n                    </div>\n                </div>\n                <p >{reviews[idx].txt}</p>\n            </div>\n        </>\n    )\n}\n\n\n    ","//size1 =39.4189375rem\n//size2 = width: 45rem;\n//size3 = 30\n\nimport { ShortReviewPreview } from './ShortReviewPreview'\nexport function ShortReviewList({ gig, reviews,currShortReviewIdx,shortReviewSize  }) {\n    if (!gig) return <div>loading</div>\n    return (\n        <section className=\"short-review slide flex\" style={{ transform: `translateX(${currShortReviewIdx * shortReviewSize}rem)`}} >\n            {reviews.map((review, idx) => <ShortReviewPreview key={`${review.id}`} reviews={reviews} idx={idx} />)}\n        </section>\n    )\n}\n","import React from 'react'\nimport FullscreenIcon from '@material-ui/icons/Fullscreen';\n\n\nexport function ImgGallery({ gig, numImgChoosen, onChooseImg, onToggleImgLightbox }) {\n    return (\n        <>\n            <div className=\"img-details-conatiner\" onClick={() => onToggleImgLightbox()}>\n                <FullscreenIcon className=\"full-screen-icon\" />\n                <img src={gig.imgUrls[numImgChoosen]} alt=\"\" />\n            </div>\n            <div className=\"main-imgs-container\">\n                <div className=\"imgs-gallery-container flex\">\n                    {gig.imgUrls.map((imgUrl, idx) => {\n                        var className = \"img-gallery\"\n                        if (numImgChoosen === idx) className += \" active\"\n                        return <div key={idx} onClick={() => onChooseImg(idx)} className={className}>\n                            <img src={imgUrl} alt=\"\" />\n                        </div>\n                    })}\n                </div>\n            </div>\n        </>\n    )\n}\n\n\n","import React from 'react';\nimport Carousel from 'react-material-ui-carousel'\n\nexport class CarouselImgs extends React.Component {\n    state = {\n        items:null,\n        itemsLength:0,\n    }\n\n    componentDidMount() {\n        const itemsLength = this.props.imgUrls.length\n        const itemsArr = this.createItems(itemsLength)\n        this.setState({items:itemsArr,itemsLength})\n    }\n\n    createItems = (length) =>{\n        if(length<=0) return null\n        const items = []\n        for (var i =0 ; i<length; i++){\n            items.push( {\n                idx:i,\n            },)\n        }\n        return items\n    }   \n    \n    Item = (i) => {\n        const imgs = this.props.imgUrls\n        const img= <img alt=\"\" src={`${imgs[i.item.idx]}` } />\n        return (\n            img\n        )\n    }\n\n    render() {\n        const {items} = this.state\n        if(!items || !items.length) return <div></div>\n        return (\n            <Carousel>\n                {\n                    items.map((item, i) => <this.Item key={i} item={item} />)\n                }\n            </Carousel>\n        )\n    }\n}\n","\nimport React from 'react'\nimport { convertToRaw, Editor, EditorState, getDefaultKeyBinding, RichUtils } from 'draft-js'\nimport '../../node_modules/draft-js/dist/Draft.css'\nimport draftToHtml from \"draftjs-to-html\";\n\n// \nclass RichTextEditor extends React.Component {\n    state = {\n        innerHtml: '',\n    }\n    constructor(props) {\n        super(props);\n        this.state = { editorState: EditorState.createEmpty() };\n\n        this.focus = () => this.refs.editor.focus();\n        this.onChange = (editorState) => this.setState({ editorState });\n\n        this.handleKeyCommand = this._handleKeyCommand.bind(this);\n        this.mapKeyToEditorCommand = this._mapKeyToEditorCommand.bind(this);\n        this.toggleBlockType = this._toggleBlockType.bind(this);\n        this.toggleInlineStyle = this._toggleInlineStyle.bind(this);\n    }\n    componentDidMount() {\n        this.setState({ innerHtml: this.props.desc })\n    }\n\n\n    _handleKeyCommand(command, editorState) {\n        const newState = RichUtils.handleKeyCommand(editorState, command);\n        if (newState) {\n            this.onChange(newState);\n            return true;\n        }\n        return false;\n    }\n\n    _mapKeyToEditorCommand(e) {\n        if (e.keyCode === 9 /* TAB */) {\n            const newEditorState = RichUtils.onTab(\n                e,\n                this.state.editorState,\n                4, /* maxDepth */\n            );\n            if (newEditorState !== this.state.editorState) {\n                this.onChange(newEditorState);\n            }\n            return;\n        }\n        return getDefaultKeyBinding(e);\n    }\n\n    _toggleBlockType(blockType) {\n        this.onChange(\n            RichUtils.toggleBlockType(\n                this.state.editorState,\n                blockType\n            )\n        );\n    }\n\n    _toggleInlineStyle(inlineStyle) {\n        this.onChange(\n            RichUtils.toggleInlineStyle(\n                this.state.editorState,\n                inlineStyle\n            )\n        );\n    }\n\n    onSetHtml = (newHtml) => {\n        this.setState({ innerHtml: newHtml })\n    }\n    handleChange = ({ target }) => {\n        const field = target.name\n        console.log(\"field\", field)\n        let value = target.value\n        console.log(\"value\", value)\n    }\n\n\n\n    render() {\n        const desc = this.props.desc\n        if (document.querySelector('.data-text')) {\n            let span = document.querySelector('.data-text')\n            console.log(\"document.querySelector('.data-text')!!!\", document.querySelector('.data-text'))\n            span.innerHtml = `5`\n        }\n\n        console.log(\"render , desc\", desc)\n        if (this.state.innerHtml) console.log(\"innerHtml\", this.state.innerHtml)\n        const { editorState } = this.state;\n        console.log(\"render , editorState\", editorState)\n        let className = 'RichEditor-editor';\n        var contentState = editorState.getCurrentContent();\n        if (!contentState.hasText()) {\n            if (contentState.getBlockMap().first().getType() !== 'unstyled') {\n                className += ' RichEditor-hidePlaceholder';\n            }\n        }\n\n        return (\n            <div className=\"RichEditor-root main-layout\">\n                <BlockStyleControls\n                    editorState={editorState}\n                    onToggle={this.toggleBlockType}\n                />\n                <InlineStyleControls\n                    editorState={editorState}\n                    onToggle={this.toggleInlineStyle}\n                />\n                <div className={className} onClick={this.focus}   >\n                    <Editor\n                        blockStyleFn={getBlockStyle}\n                        customStyleMap={desc}\n                        editorState={editorState}\n                        handleKeyCommand={this.handleKeyCommand}\n                        keyBindingFn={this.mapKeyToEditorCommand}\n                        onChange={this.onChange}\n                        placeholder={this.state.innerHtml}\n                        ref=\"editor\"\n                        spellCheck={true}\n                        textDirectionality={desc}\n                        editable={false}\n                    />\n                    <button onClick={() => this.props.onSaveHtml(draftToHtml(convertToRaw(editorState.getCurrentContent())))}>Save</button>\n                </div>\n            </div>\n        );\n    }\n}\n\n// Custom overrides for \"code\" style.\nconst styleMap = {\n    CODE: {\n        backgroundColor: 'rgba(0, 0, 0, 0.05)',\n        fontFamily: '\"Inconsolata\", \"Menlo\", \"Consolas\", monospace',\n        fontSize: 16,\n        padding: 2,\n    },\n};\n\nfunction getBlockStyle(block) {\n    switch (block.getType()) {\n        case 'blockquote': return 'RichEditor-blockquote';\n        default: return null;\n    }\n}\n\nclass StyleButton extends React.Component {\n    constructor() {\n        super();\n        this.onToggle = (e) => {\n            e.preventDefault();\n            this.props.onToggle(this.props.style);\n        };\n    }\n\n    render() {\n        let className = 'RichEditor-styleButton';\n        if (this.props.active) {\n            className += ' RichEditor-activeButton';\n        }\n\n        return (\n            <span className={className} onMouseDown={this.onToggle}>\n                {this.props.label}\n            </span>\n        );\n    }\n}\n\nconst BLOCK_TYPES = [\n    { label: 'H1', style: 'header-one' },\n    { label: 'H2', style: 'header-two' },\n    { label: 'H3', style: 'header-three' },\n    { label: 'H4', style: 'header-four' },\n    { label: 'H5', style: 'header-five' },\n    { label: 'H6', style: 'header-six' },\n    { label: 'Blockquote', style: 'blockquote' },\n    { label: 'UL', style: 'unordered-list-item' },\n    { label: 'OL', style: 'ordered-list-item' },\n    { label: 'Code Block', style: 'code-block' },\n];\n\nconst BlockStyleControls = (props) => {\n    const { editorState } = props;\n    const selection = editorState.getSelection();\n    const blockType = editorState\n        .getCurrentContent()\n        .getBlockForKey(selection.getStartKey())\n        .getType();\n\n    return (\n        <div className=\"RichEditor-controls\">\n            {BLOCK_TYPES.map((type) =>\n                <StyleButton\n                    key={type.label}\n                    active={type.style === blockType}\n                    label={type.label}\n                    onToggle={props.onToggle}\n                    style={type.style}\n                />\n            )}\n        </div>\n    );\n};\n\nvar INLINE_STYLES = [\n    { label: 'Bold', style: 'BOLD' },\n    { label: 'Italic', style: 'ITALIC' },\n    { label: 'Underline', style: 'UNDERLINE' },\n    { label: 'Monospace', style: 'CODE' },\n];\n\nconst InlineStyleControls = (props) => {\n    const currentStyle = props.editorState.getCurrentInlineStyle();\n    console.log(\"InlineStyleControls , currentStyle\", currentStyle)\n\n    return (\n        <div className=\"RichEditor-controls\">\n            {INLINE_STYLES.map((type) =>\n                <StyleButton\n                    key={type.label}\n                    active={currentStyle.has(type.style)}\n                    label={type.label}\n                    onToggle={props.onToggle}\n                    style={type.style}\n                />\n            )}\n        </div>\n    );\n};\n\n\nexport default RichTextEditor;","import React from 'react'\n\nimport { GigPreview } from \"./GigPreview\"\n\nexport class GigStrip extends React.Component {\n\n    state = {\n        gigs: [],\n    }\n\n    componentDidMount() {\n        // if (!this.props.tags) return\n\n        const { tags } = this.props\n        if (!tags) return\n        const gigsByTag = this.props.gigs.filter(gig => {\n            return gig.tags.includes(tags[0])\n        })\n        this.setState({ gigs: gigsByTag })\n    }\n\n    getGigsForDisplay = () => {\n        const { tags } = this.props\n        if (!tags) return this.props.gigs\n        const gigsByTag = this.props.gigs.filter(gig => {\n            return gig.tags.includes(tags[0])\n        })\n        return gigsByTag\n    }\n    render() {\n        const { posX } = this.state\n        const inlineStyle = { transform: `translateX(${posX}px)` }\n        const bgStyle = { backgroundColor: this.props.bgColor }\n        const gigs = this.getGigsForDisplay() || []\n\n        return (\n            <section className=\"gig-strip main-container\" style={bgStyle}>\n                <div className=\"head flex space-between\">\n                    <h2 className=\"strip-title\">{this.props.title}</h2>\n                    <a className=\"see-all\">See all &gt;</a>\n                </div>\n                <ul className=\"strip-wrap clean-list\" style={inlineStyle}>\n                    {gigs.map(gig =>\n                        <GigPreview key={gig._id}\n                            gig={gig}\n                            onUserViewGig={this.props.onUserViewGig}\n                            onFavoriteToggle={this.props.onFavoriteToggle}\n                            user={this.props.user}\n                        />\n                    )}\n                </ul>\n            </section>\n        )\n    }\n}","import React from 'react'\nimport { connect } from 'react-redux'\nimport { GigAddReview } from '../cmps/GigAddReview.jsx'\nimport { SellerPreview } from '../cmps/SellerPreview'\nimport { addGig, loadGig, updateGig, removeGig, loadGigs, setFilter } from '../store/actions/gigActions'\nimport { orderGig } from '../store/actions/orderActions'\nimport StarRateIcon from '@material-ui/icons/StarRate'\nimport SideBar from '../cmps/SideBar.jsx'\nimport ReviewList from '../cmps/ReviewList.jsx'\nimport { GigImgLightBox } from '../cmps/GigImgLightBox'\nimport { EditableElement } from '../cmps/EditableElement.jsx'\nimport ChevronRightIcon from '@material-ui/icons/ChevronRight'\nimport ChevronLeftIcon from '@material-ui/icons/ChevronLeft'\nimport { SellerOverview } from '../cmps/SellerOverview'\nimport { ReviewStats } from '../cmps/ReviewStats.jsx'\nimport { ShortReviewList } from '../cmps/ShortReviewList.jsx'\nimport { ImgGallery } from '../cmps/ImgGallery.jsx'\nimport { CarouselImgs } from '../cmps/Carousel.jsx'\nimport AnchorLink from 'react-anchor-link-smooth-scroll'\nimport { socketService } from '../services/socketService.js'\nimport RichTextEditor from '../cmps/RichTextEditor.jsx'\nimport Loader from 'react-loader-spinner'\nimport { GigStrip } from '../cmps/GigStrip.jsx';\nimport { updateUser } from \"../store/actions/userActions.js\";\n// import \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\"\n\n\n\nclass _GigDetails extends React.Component {\n\n    state = {\n        gig: null,\n        isGigOwner: true,\n        isTitleEditble: false,\n        isDescEditble: false,\n        numImgChoosen: 0,\n        isLightBoxOpen: false,\n        currImg: \"\",\n        currShortReviewIdx: 0,\n        shortReviewSize: 39.4189375,\n        isFullSizeScreen: true,\n        htmlDesc: '',\n        suggestedGigs: [],\n        mobileStarStats: false,\n        isHelful: false,\n    }\n\n    async componentDidMount() {\n        socketService.setup()\n        const gigId = this.props.match.params.gigId\n        const gig = await loadGig(gigId)\n        this.props.loadGigs()\n        const { numImgChoosen } = this.state\n        const currImg = gig.imgUrls[numImgChoosen]\n        if (currImg) this.setState({ gig, currImg })\n        this.onSetSizes()\n        this.setState({ gig })\n    }\n\n    onSetSizes = () => {\n        let isFullSizeScreen = true;\n        let shortReviewSize;\n        let mobileStarStats = false;\n        const windowWitdh = window.innerWidth\n        if (windowWitdh > 1200) shortReviewSize = 33.4375;\n        if (windowWitdh < 1040 && windowWitdh >= 860) shortReviewSize = 33.4375\n        if (windowWitdh < 860) shortReviewSize = 30\n        if (windowWitdh <= 860) isFullSizeScreen = false\n        if (windowWitdh <= 700) { } mobileStarStats = true;\n        if (windowWitdh <= 945 && windowWitdh > 900) shortReviewSize = 29.2375\n        this.setState({ shortReviewSize, isFullSizeScreen, mobileStarStats })\n    }\n\n    onToggleImgLightbox = () => {\n        const { isLightBoxOpen } = this.state\n        const { numImgChoosen } = this.state\n        const currImg = this.state.gig.imgUrls[numImgChoosen]\n        this.setState({ isLightBoxOpen: !isLightBoxOpen, currImg })\n    }\n\n    toggleIsTitleEditble = (isTitleEditble) => {\n        isTitleEditble = !isTitleEditble\n        this.setState({ isTitleEditble })\n    }\n\n    toggleIsDescEditble = (isDescEditble) => {\n        // isDescEditble = !isDescEditble\n        isDescEditble = !this.state.isDescEditble\n        this.setState({ isDescEditble })\n    }\n\n    onEdit = (ev) => {\n        ev.preventDefault()\n        const { isTitleEditble, isDescEditble } = this.state\n        if (isTitleEditble) this.toggleIsTitleEditble(isTitleEditble)\n        if (isDescEditble) this.toggleIsDescEditble(isDescEditble)\n        const { gig } = this.state\n        this.props.addGig(gig).then(() => {\n            console.log('adeed sucessfully');\n        })\n    }\n\n    onChooseImg = (imgIdx) => {\n        this.setState({ numImgChoosen: imgIdx })\n    }\n\n    onNextShortReview = () => {\n        let { currShortReviewIdx } = this.state\n        const { reviews } = this.state.gig\n        if (currShortReviewIdx === 0) currShortReviewIdx = -reviews.length\n        currShortReviewIdx++\n        this.setState({ currShortReviewIdx })\n    }\n\n    onPrevShortReview = () => {\n        let { currShortReviewIdx } = this.state\n        const { reviews } = this.state.gig\n        if (currShortReviewIdx === -(reviews.length - 1)) currShortReviewIdx = 1\n        currShortReviewIdx--\n        this.setState({ currShortReviewIdx })\n    }\n\n    onNextPageLightBox = (ev) => {\n        ev.stopPropagation()\n        let { numImgChoosen } = this.state\n        const { gig } = this.state\n        numImgChoosen++\n        if (numImgChoosen === gig.imgUrls.length) numImgChoosen = 0\n        const currImg = gig.imgUrls[numImgChoosen]\n        this.setState({ numImgChoosen, currImg })\n    }\n\n    onPrevPageLightBox = (ev) => {\n        ev.stopPropagation()\n        let { numImgChoosen } = this.state\n        const { gig } = this.state\n        numImgChoosen--\n        if (numImgChoosen === -1) numImgChoosen = gig.imgUrls.length - 1\n        const currImg = gig.imgUrls[numImgChoosen]\n        this.setState({ numImgChoosen, currImg })\n    }\n\n    getAvgRate = () => {\n        if (!this.state.gig) return\n        const { reviews } = this.state.gig\n        const sumRate = reviews.reduce((acc, review) => {\n            return acc += review.rating\n        }, 0)\n        let avg = Math.floor(sumRate / reviews.length)\n        let stars = []\n        if (avg > 5) avg = 5\n        for (var i = 0; i < avg; i++) {\n            stars.push(<StarRateIcon key={`${i}`} className=\"seller-star\" ></StarRateIcon>)\n        }\n        return stars\n    }\n\n    onSave = (field, value) => {\n        const gig = { ...this.state.gig }\n        gig[field] = value\n        this.props.updateGig(gig).then(() => {\n            console.log('updated successfuuly');\n        })\n    }\n\n\n    onRemoveGig = () => {\n        const { gig } = this.state\n        this.props.removeGig(gig._id).then(() => {\n            this.props.history.push('/gig');\n            console.log('remove succefully');\n        })\n    }\n\n    onUserViewGig = (gigId) => {\n        const user = { ...this.props.user }\n        if (user.viewedGigIds) {\n            if (!user.viewedGigIds.find(viewedGigId => viewedGigId === gigId)) user.viewedGigIds.push(gigId)\n        } else user.viewedGigIds = [gigId]\n        this.props.updateUser(user)\n    }\n\n    onFavoriteToggle = (ev, gigId) => {\n        ev.stopPropagation()\n        const user = { ...this.props.user }\n        if (user.favoriteIds) {\n            if (user.favoriteIds.find(favoriteId => favoriteId === gigId)) user.favoriteIds = user.favoriteIds.filter(favoriteId => favoriteId !== gigId)\n            else user.favoriteIds.push(gigId)\n        } else user.favoriteIds = [gigId]\n        this.props.updateUser(user)\n    }\n    onSaveHtml = (htmlDesc) => {\n        this.setState({ htmlDesc })\n        this.toggleIsDescEditble()\n    }\n\n    onToggleHelfull = () => {\n        let { isHelful } = this.state\n        this.setState({ isHelful: !isHelful })\n    }\n\n    getStars = () => {\n        const { gig } = this.state\n        const { reviews } = gig\n        let totalStarsRate = 0, fiveStarCount = 0, fourStarCount = 0, threeStarCount = 0, twoStarCount = 0, oneStarCount = 0\n        reviews.map((review) => {\n            var rating = parseFloat(review.rating)\n            if (!rating) rating = 0\n            if (rating > 4 && rating <= 5) fiveStarCount++\n            if (rating <= 4 && rating > 3) fourStarCount++\n            if (rating <= 3 && rating > 2) threeStarCount++\n            if (rating <= 2 && rating > 1) twoStarCount++\n            if (rating <= 1 && rating >= 0) oneStarCount++\n            return totalStarsRate += rating\n        })\n        totalStarsRate = totalStarsRate / gig.reviews.length\n        const avgRate = { oneStarCount, twoStarCount, threeStarCount, fourStarCount, fiveStarCount, totalStarsRate }\n        return avgRate\n    }\n\n    calculateAvgHalfRating = () => {\n        const avgRate = this.getStars()\n        let totalStarsRate = avgRate.totalStarsRate\n        if (totalStarsRate <= 5 && totalStarsRate >= 4.5) totalStarsRate = 5\n        if (totalStarsRate < 4.5 && totalStarsRate >= 4) totalStarsRate = 4.5\n        if (totalStarsRate < 4 && totalStarsRate >= 3.5) totalStarsRate = 4\n        if (totalStarsRate < 3.5 && totalStarsRate >= 3) totalStarsRate = 3.5\n        if (totalStarsRate < 3 && totalStarsRate >= 2.5) totalStarsRate = 3\n        if (totalStarsRate < 2.5 && totalStarsRate >= 2) totalStarsRate = 2.5\n        if (totalStarsRate < 2 && totalStarsRate >= 1.5) totalStarsRate = 2\n        if (totalStarsRate < 1.5 && totalStarsRate >= 1) totalStarsRate = 1.5\n        if (totalStarsRate < 1 && totalStarsRate >= 0.5) totalStarsRate = 1\n        if (totalStarsRate < 0.5 && totalStarsRate >= 0) totalStarsRate = 0.5\n        if (totalStarsRate < 0) return ''\n        return totalStarsRate\n    }\n    getBiggestStarRate = () => {\n        const avgRate = this.getStars()\n        const oneStarPercentage = avgRate.oneStarCount\n        const twoStarPercentage = avgRate.twoStarCount\n        const threeStarPercentage = avgRate.threeStarCount\n        const fourStarPercentage = avgRate.fourStarCount\n        const fiveStarPercentage = avgRate.fiveStarCount\n        const maxRateStarNumber = Math.max(oneStarPercentage, twoStarPercentage, threeStarPercentage, fourStarPercentage, fiveStarPercentage)\n        if (maxRateStarNumber === fiveStarPercentage) return 5\n        if (maxRateStarNumber === fourStarPercentage) return 4\n        if (maxRateStarNumber === threeStarPercentage) return 3\n        if (maxRateStarNumber === twoStarPercentage) return 2\n        if (maxRateStarNumber === oneStarPercentage) return 1\n        return -1\n    }\n\n\n\n\n    render() {\n        const { gig, numImgChoosen, isTitleEditble, isGigOwner, isDescEditble, isLightBoxOpen, isFullSizeScreen, shortReviewSize, isHelful } = this.state\n        const { user } = this.props\n        const { currImg } = this.state\n        const htmlStars = this.getAvgRate()\n        if (!gig) return <Loader className=\"flex justify-center\" type=\"ThreeDots\" height={80} width={80} color={`#2bbe76`} />\n        return (\n            <>\n                {isLightBoxOpen && <GigImgLightBox gig={gig} onToggleImgLightbox={this.onToggleImgLightbox} currImg={currImg} onNextPageLightBox={this.onNextPageLightBox} onPrevPageLightBox={this.onPrevPageLightBox} />}\n                <section className=\"details-wrapper main-container\">\n                    {/* <div className=\"details-wrapper main-layout\"> */}\n                    <div className=\"gig-details\">\n                        <div className=\"main-details\">\n                            <EditableElement field={'title'} type={'h1'} text={gig.title} save={this.onSave} editable={isTitleEditble} />\n                            {isTitleEditble && <button onClick={this.onEdit}>Save</button>}\n                            <SellerOverview gig={gig} htmlStars={htmlStars} getBiggestStarRate={this.getBiggestStarRate} calculateAvgHalfRating={this.calculateAvgHalfRating} getStars={this.getStars} />\n                            {!isFullSizeScreen && <div className=\"carousle-container\" >\n                                <CarouselImgs imgUrls={gig.imgUrls} />\n                            </div>}\n                            {isFullSizeScreen && <ImgGallery gig={gig} numImgChoosen={numImgChoosen} onChooseImg={this.onChooseImg} onToggleImgLightbox={this.onToggleImgLightbox} />}\n                            <div className=\"responsive-side-bar-container\">\n                                {!isFullSizeScreen && <SideBar gig={gig} onGigOrder={this.onGigOrder} />}\n                            </div>\n                            <div className=\"short-review-header flex space-between\">\n                                <h2 >What people loved about this seller</h2>\n                                <AnchorLink href='#reviews'>See all reviews</AnchorLink>\n                            </div>\n                            {gig.reviews && <div className=\"short-review-main\">\n                                <ShortReviewList shortReviewSize={shortReviewSize} currShortReviewIdx={this.state.currShortReviewIdx} gig={gig} reviews={gig.reviews} />\n                                {gig.reviews.length > 1 && <ChevronLeftIcon className=\"slide-left-review\" onClick={() => this.onNextShortReview()} />}\n                                {gig.reviews.length > 1 && <ChevronRightIcon className=\"slide-right-review\" onClick={() => this.onPrevShortReview()} />}\n                            </div>}\n                            <div id=\"description\" className=\"desc\">\n                                <h2>About This Gig</h2>\n                                <div className=\"about flex\">\n\n                                    {isGigOwner && <EditableElement dangerouslySetInnerHTML={{ __html: `${this.state.htmlDesc}` }} className=\"gig-desc\" field={'desc'} type={'h4'} text={gig.desc} save={this.onSave} editable={isDescEditble} />}\n                                    {!isDescEditble && <div dangerouslySetInnerHTML={{ __html: `${this.state.htmlDesc}` }}>\n                                    </div>}\n                                    {isDescEditble &&\n                                        <RichTextEditor desc={'<h1>tomer<h1>'} onSaveHtml={this.onSaveHtml} />\n                                    }\n                                </div>\n                                {/* {!isDescEditble && < button onClick={this.toggleIsDescEditble}>edit</button>} */}\n                            </div>\n                            <SellerPreview seller={gig.owner} gig={gig} getBiggestStarRate={this.getBiggestStarRate} calculateAvgHalfRating={this.calculateAvgHalfRating} getStars={this.getStars} />\n                            <div>\n                                <div className=\"suggestd-list-wrapper \">\n                                    <GigStrip title={'Suggested For You'}\n                                        className=\"suggested-strip-scroll-list\"\n                                        gigs={this.props.gigs}\n                                        onUserViewGig={this.onUserViewGig}\n                                        onFavoriteToggle={this.onFavoriteToggle}\n                                        user={this.props.user}\n                                        onDelete={this.onDelete} />\n                                </div>\n                            </div>\n                            <ReviewStats gig={gig} htmlStars={htmlStars} getBiggestStarRate={this.getBiggestStarRate} calculateAvgHalfRating={this.calculateAvgHalfRating} getStars={this.getStars} />\n                            {user && <GigAddReview gig={gig} user={user} onAddReview={this.onAddReview} mobileStarStats={this.state.mobileStarStats} />}\n                            <div className=\"review-list-wrapper\">\n                                <ReviewList gig={gig} user={user} onToggleHelfull={this.onToggleHelfull} isHelful={isHelful} />\n                            </div>\n                        </div>\n                        {isFullSizeScreen && <SideBar gig={gig} onGigOrder={this.onGigOrder} />}\n                    </div>\n                </section>\n            </>\n        )\n    }\n}\n\nconst mapStateToProps = (state) => {\n    return {\n        gigs: state.gigModule.gigs,\n        user: state.userModule.user\n    }\n}\n\nconst mapDispatchToProps = {\n    addGig,\n    updateGig,\n    removeGig,\n    orderGig,\n    setFilter,\n    updateUser,\n    loadGigs\n\n}\n\nexport const GigDetails = connect(mapStateToProps, mapDispatchToProps)(_GigDetails)\n\n\n","import React, { Component } from 'react'\nimport { connect } from 'react-redux'\n\nimport { cloudinaryService } from '../services/cloudinaryService.js';\nimport { addGig } from '../store/actions/gigActions.js';\nimport PhotoCameraIcon from '@material-ui/icons/PhotoCamera';\nimport ClearIcon from '@material-ui/icons/Clear';\n\nclass _GigEdit extends Component {\n\n    state = {\n        gig: {\n            title: '',\n            desc: '',\n            packages: null,\n            tags: '',\n        },\n        currFeature: '',\n        currTag: ''\n    }\n\n    featureIdx = 0\n    tagIdx = 0\n\n    componentDidMount() {\n        const gig = this.createGigTemplate()\n        this.setState({ gig })\n    }\n\n    onSaveNewGig = async (ev) => {\n        ev.preventDefault()\n        const { gig } = this.state\n        gig.tags.filter(tag => tag.length < 1)\n        gig.packages[0].features.filter(feature => feature.length < 1)\n        console.log('saving gig:', gig)\n        await this.props.addGig(gig)\n        this.props.history.push('/gig');\n\n    }\n\n    createTemplatePackages = () => {\n        return [{ type: 'basic', desc: '', price: 0, revisionCount: 0, deliveryDays: 0, features: [] }]\n    }\n\n    createGigTemplate = () => {\n        const { user } = this.props\n        const packages = this.createTemplatePackages()\n        const gig = {\n            title: \"\",\n            desc: \"\",\n            tags: [],\n            packages,\n            owner: user,\n            imgUrls: [\"https://fiverr-res.cloudinary.com/images/t_main1,q_auto,f_auto,q_auto,f_auto/gigs3/157536980/original/d7411fe67086a183a78e81950000dde20ee5b689/create-3d-model-and-render-your-sketch-or-2d-plan.jpg\",\n                \"https://fiverr-res.cloudinary.com/images/t_smartwm/t_main1,q_auto,f_auto,q_auto,f_auto/attachments/delivery/asset/d91dab5d590614ec0c36060db1ba1c67-1606486728/Stationery%202/do-a-minimalist-logo-business-card-and-stationery.jpg\",\n                \"https://fiverr-res.cloudinary.com/images/t_main1,q_auto,f_auto,q_auto,f_auto/gigs2/156162379/original/9087a56206fcc647d954fbe88c28fc61d673b936/create-luxury-geometric-patterns-and-background-for-you.png\"],\n            reviews: []\n        }\n        return gig\n    }\n\n    handleInput = ({ target }) => {\n        const field = target.name\n        let value = target.value\n        if (field === 'tags') {\n            const tags = [value]\n            value = tags\n        }\n        this.setState(prevState => {\n            return {\n                gig: {\n                    ...prevState.gig,\n                    [field]: value\n                }\n            }\n        })\n    }\n\n    handlePackagesInputs = ({ target }) => {\n        const field = target.name\n        let value;\n        if (target.type === 'number') value = +target.value\n        else value = target.value\n        const { packages } = this.state.gig\n        const pack = { ...packages[0] }\n        pack[field] = value\n        packages[0] = { ...pack }\n        this.setState(prevState => {\n            return {\n                gig: {\n                    ...prevState.gig,\n                    packages\n\n                }\n            }\n        })\n    }\n\n    addFeature = (ev) => {\n        ev.preventDefault()\n        const packages = [...this.state.gig.packages]\n        const currFeature = ev.target.value\n        if (ev.keyCode === 13) {\n            packages[0].features[this.featureIdx] = currFeature\n            this.setState(prevState => {\n                return {\n                    ...prevState,\n                    gig: {\n                        ...prevState.gig,\n                        packages\n                    },\n                    currFeature: ''\n                }\n            })\n            this.featureIdx += 1\n        } else {\n            this.setState(prevState => {\n                return {\n                    ...prevState, currFeature\n                }\n            })\n        }\n    }\n\n    removeFeature = (featureToRemove) => {\n        const { features } = this.state.gig.packages[0]\n        const updatedFeatures = features.filter(feature => feature !== featureToRemove)\n        const packages = [...this.state.gig.packages]\n        packages[0].features = updatedFeatures\n\n        this.setState(prevState => {\n            return {\n                ...prevState,\n                gig: {\n                    ...prevState.gig,\n                    packages\n                },\n            }\n        })\n    }\n\n    addTag = (ev) => {\n        ev.preventDefault()\n        const { tags } = { ...this.state.gig }\n        const currTag = ev.target.value\n        if (ev.keyCode === 13) {\n            tags[this.tagIdx] = currTag\n            this.setState(prevState => {\n                return {\n                    ...prevState,\n                    gig: {\n                        ...prevState.gig,\n                        tags\n                    },\n                    currTag: ''\n                }\n            })\n            this.tagIdx += 1\n        } else {\n            this.setState(prevState => {\n                return {\n                    ...prevState, currTag\n                }\n            })\n        }\n    }\n\n    removeTag = (tagToRemove) => {\n        const { tags } = this.state.gig\n        const updatedTags = tags.filter(tag => tag !== tagToRemove)\n\n        this.setState(prevState => {\n            return {\n                ...prevState,\n                gig: {\n                    ...prevState.gig,\n                    tags: updatedTags\n                },\n            }\n        })\n    }\n\n    uploadImage = async (ev) => {\n        const data = await cloudinaryService.uploadImg(ev)\n        console.log(data)\n        const newUrl = data.secure_url;\n        const imgUrls = [...this.state.gig.imgUrls, newUrl]\n        this.setState(prevState => {\n            return {\n                gig: {\n                    ...prevState.gig,\n                    imgUrls\n                },\n            }\n        })\n    }\n\n    removeImage = (urlToRemove) => {\n        const { imgUrls } = this.state.gig\n        const updatedUrls = imgUrls.filter(url => url !== urlToRemove)\n        this.setState(prevState => {\n            return {\n                gig: {\n                    ...prevState.gig,\n                    imgUrls: updatedUrls\n                },\n            }\n        })\n    }\n\n    render() {\n        const { gig } = this.state\n\n        if (!gig.packages) return <div>loading</div>\n        return (\n            <section className=\"gig-edit main-layout\">\n                <form className=\"flex column justify-center\">\n                    <div className=\"gig-basics\">\n                        <h4>Gig title</h4>\n                        <textarea name=\"title\" autoFocus rows=\"2\" cols=\"60\" type=\"text\" placeholder=\"Enter Gig Title...\" value={gig.title} onChange={this.handleInput} required autoComplete=\"off\" />\n                        <h4>Description</h4>\n                        <textarea name=\"desc\" rows=\"5\" cols=\"60\" type=\"text\" placeholder=\"Enter Gig Desc...\" value={gig.desc} onChange={this.handleInput} required autoComplete=\"off\" />\n                        <h4>Add some tags</h4>\n                        <div className=\"gig-tags flex\">\n\n                            <input type=\"text\" name=\"tag\" placeholder=\"video editing, session musician\"\n                                value={this.state.currTag} onChange={this.addTag} onKeyUp={this.addTag} />\n                            <ul className=\"clean-list flex\">\n                                {gig.tags.map(tag => {\n                                    return <li key={tag}>\n                                        {tag}\n                                        <ClearIcon className=\"clear-icon pointer\" onClick={() => this.removeTag(tag)} />\n\n                                    </li>\n                                })}\n                            </ul>\n                        </div>\n                    </div>\n                    <div className=\"gig-package\">\n\n                        <h4>Package</h4>\n                        <textarea name=\"desc\" rows=\"3\" cols=\"60\"\n                            value={gig.packages[0].desc}\n                            type=\"text\" placeholder=\"Enter package Desc...\"\n                            onChange={this.handlePackagesInputs}\n                            required autoComplete=\"off\" />\n                        <h4>Add some package features</h4>\n                        <div className=\"package-features flex\">\n                            <input type=\"text\" name=\"feature\" placeholder=\"ex: responsive design, multi-language\"\n                                value={this.state.currFeature} onChange={this.addFeature} onKeyUp={this.addFeature} />\n                            <ul className=\"clean-list flex\">\n                                {gig.packages[0].features.map(feature => {\n                                    return <li key={feature}>\n                                        {feature}\n                                        <ClearIcon className=\"clear-icon pointer\" onClick={() => this.removeFeature(feature)} />\n\n                                    </li>\n                                })}\n                            </ul>\n                        </div>\n                        <div className=\"package-details\">\n                            <h4>Package additional details</h4>\n                            <div className=\"flex wrap\">\n                                <div className=\"flex wrap align-base\">\n                                    <label htmlFor=\"price\">Price:</label>\n                                    <input type=\"number\" name=\"price\" id=\"price\" placeholder=\"Package price\"\n                                        value={gig.packages[0].price} onChange={this.handlePackagesInputs} required autoComplete=\"off\" />\n                                </div>\n                                <div className=\"flex wrap align-base\">\n\n                                    <label htmlFor=\"revisionCount\">Revisions:</label>\n                                    <input type=\"number\" name=\"revisionCount\" id=\"revisionCount\" placeholder=\"Revision Count...\"\n                                        value={gig.packages[0].revisionCount} onChange={this.handlePackagesInputs} required autoComplete=\"off\" />\n                                </div>\n                                <div className=\"flex wrap align-base\">\n                                    <label htmlFor=\"deliveryDays\">Delivery (days):</label>\n                                    <input type=\"number\" name=\"deliveryDays\" id=\"deliveryDays\" placeholder=\"Days to deliver...\"\n                                        value={gig.packages[0].deliveryDays} onChange={this.handlePackagesInputs} required autoComplete=\"off\" />\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n\n                    <div className=\"gig-edit-images\">\n                        <div className=\"flex\">\n                            <label className=\"img-upload pointer\" htmlFor=\"uploadImg\">\n                                <input onChange={this.uploadImage} type=\"file\" id=\"uploadImg\" hidden />\n                                <PhotoCameraIcon className=\"camera-icon\" />\n                            </label>\n                            <h4>Add some photos</h4>\n                        </div>\n                        <ul className=\"clean-list flex\">\n                            {gig.imgUrls.map(url => {\n                                return <li key={url} className=\"pointer\">\n                                    <img src={url} alt=\"\" />\n                                    <ClearIcon className=\"clear-icon\" onClick={() => this.removeImage(url)} />\n                                </li>\n                            })}\n                        </ul>\n                    </div>\n\n                </form>\n                <div>\n                    <button className=\"gig-save\" onClick={this.onSaveNewGig} >Save</button>\n                </div>\n            </section>\n        )\n    }\n}\n\n\nconst mapStateToProps = (state) => {\n    return {\n        gigs: state.gigModule.gigs,\n        user: state.userModule.user\n    }\n}\n\nconst mapDispatchToProps = {\n    addGig,\n}\n\nexport const GigEdit = connect(mapStateToProps, mapDispatchToProps)(_GigEdit)","import ScheduleIcon from '@material-ui/icons/Schedule'\nimport { CSSTransition } from 'react-transition-group'\n\nexport function OrderPreview({ order, onOrderStatusChanged }) {\n\n    function getOrderProps() {\n        switch (order.status) {\n            case 'pending':\n                return {\n                    statusStyle: { backgroundColor: 'rgb(245, 41, 75)' },\n                    statusMsg: 'Buyer is waiting for your response',\n                    ctaButtonText: 'Approve Order',\n                    nextStatus: 'approved'\n                }\n            case 'approved':\n                return {\n                    statusStyle: { backgroundColor: 'rgb(254, 190, 45)' },\n                    statusMsg: 'This gig is in progress',\n                    ctaButtonText: 'Deliver Now',\n                    nextStatus: 'completed'\n                }\n            case 'completed':\n                return {\n                    statusStyle: { backgroundColor: 'rgb(43, 190, 118)' },\n                    statusMsg: 'Gig is complete - High Six!',\n                    ctaButtonText: 'Archive Gig',\n                    nextStatus: 'archived'\n                }\n            case 'archived':\n                return {\n                    statusStyle: { backgroundColor: 'rgb(200, 200, 200)' },\n                    statusMsg: 'Dust... everywhere...',\n                    ctaButtonText: 'Start Over',\n                    nextStatus: 'pending'\n                }\n        }\n    }\n\n    function setOrderStatus() {\n        order.status = getOrderProps().nextStatus\n        onOrderStatusChanged(order)\n    }\n\n    return (\n        <>\n            <li className=\"order-item\">\n                <div className=\"item-color\" style={getOrderProps().statusStyle}></div>\n                <div className=\"order-top\">\n                    <div className=\"order-img\">\n                        <img src={order.gig.imgUrl} alt=\"\" />\n                    </div>\n                    <div className=\"order-buyer-wrapper flex align-center\">\n\n                        <img src={order.buyer.imgUrl} />\n                        <div className=\"order-buyer\">\n                            <p><span>{order.buyer.fullname}</span></p>\n                            <p className=\"green\">View Order</p>\n                        </div>\n                    </div>\n                    <div className=\"order-price flex\">\n                        <p className=\"light-grey\">Price</p>\n                        <p className=\"light-grey\">${order.totalPrice}</p>\n                    </div>\n                    <div className=\"order-date flex\">\n                        <p className=\"light-grey\">Delivery Time</p>\n                        <div className=\"flex align-center light-grey\">\n                            <ScheduleIcon className=\"clock\" />\n                            <p>{_getDueTime(order.createdAt)}</p>\n                        </div>\n                    </div>\n                </div>\n                <hr />\n                <div className=\"order-bottom flex space-between align-center\">\n                    <div className=\"order-status flex align-center\">\n                        <CSSTransition timeout={500} classNames=\"alert\">\n\n                            <span style={getOrderProps().statusStyle}>{order.status}</span>\n                        </CSSTransition>\n                        <p className=\"light-grey\">{getOrderProps().statusMsg}</p>\n                    </div>\n                    <button onClick={setOrderStatus}>{getOrderProps().ctaButtonText}</button>\n                </div>\n            </li >\n        </>\n    )\n}\n\nfunction _getDueTime(orderTimeStamp) {\n    const gigDeliveryDays = 3\n    const DAY = 24 * 60 * 60 * 1000\n    const HOUR = 60 * 60 * 1000\n\n    let timeToComplete = ((orderTimeStamp + gigDeliveryDays * DAY) - Date.now())\n    const daysDue = Math.floor(timeToComplete / DAY)\n    timeToComplete -= daysDue * DAY\n    const hoursDue = Math.floor(timeToComplete / HOUR)\n\n    return `${daysDue} Days, ${hoursDue} Hrs`\n\n}\n","import { OrderPreview } from \"./OrderPreview\"\n\nexport function OrderList({ orders, onOrderStatusChanged }) {\n\n    return (\n        <section className=\"order-list\">\n            <ul className=\"orders-wrap clean-list\">\n                {orders.map(order => <OrderPreview key={order._id} order={order} onOrderStatusChanged={onOrderStatusChanged}/>)}\n            </ul>\n        </section>\n    )\n}","import React from 'react';\nimport { connect } from 'react-redux'\nimport { Bar } from 'react-chartjs-2'\n\nconst SIXERR_GREEN = 'rgb(43, 190, 118)'\n\nclass _ProfileCharts extends React.Component {\n\n    state = {\n        chart: {\n            labels: ['Aug', 'Sep', 'Oct', 'Nov', 'Dec', 'Jan'],\n            datasets: [\n                {\n                    label: 'Revenue',\n                    // data: [158, 237, 395, 316, 474, this.props.income],\n                    data: [158, 237, 395, 316, 474, 632],\n                    backgroundColor: [\n                        SIXERR_GREEN,\n                        SIXERR_GREEN,\n                        SIXERR_GREEN,\n                        SIXERR_GREEN,\n                        SIXERR_GREEN,\n                        SIXERR_GREEN\n                    ]\n                },\n\n            ]\n\n        }\n    }\n    render() {\n        const { chart } = this.state\n\n        return (\n            <>\n                <Bar\n                    data={chart}\n                    options={{\n                        // responsive: true,\n                        // maintainAspectRatio: false,\n                        layout: {\n                            padding: {\n                                top: 5,\n                                left: 0,\n                                right: 0,\n                                bottom: 15\n                            }\n                        },\n                        scales: {\n                            xAxes: [{\n                                ticks: { display: true },\n                                gridLines: {\n                                    display: false,\n                                    drawBorder: true\n                                }\n                            }],\n                            yAxes: [{\n                                ticks: { display: true },\n                                gridLines: {\n                                    display: false,\n                                    drawBorder: true\n                                }\n                            }]\n                        }\n                    }\n                    }\n                    width={100}\n                    height={80}\n                />\n            </>\n        )\n    }\n}\n\nconst mapGlobalStateToProps = (state) => {\n    return {\n        user: state.userModule.user,\n        // gigs: state.gigModule.gigs,\n        // orders: state.orderModule.orders\n    }\n}\nconst mapDispatchToProps = {\n}\n\nexport const ProfileCharts = connect(mapGlobalStateToProps, mapDispatchToProps)(_ProfileCharts)\n\n                // },\n                // {\n                //     label: 'Orders',\n                //     data: [2, 3, 5, 4, 6, 8],\n                //     backgroundColor: [\n                //         SIXERR_GREEN,\n                //         SIXERR_GREEN,\n                //         SIXERR_GREEN,\n                //         SIXERR_GREEN,\n                //         SIXERR_GREEN,\n                //         SIXERR_GREEN\n                //     ]\n\n","import React from 'react';\nimport { connect } from 'react-redux'\n\nimport { updateUser, onImageChange } from \"../store/actions/userActions.js\";\nimport { loadGigs, getGigs } from \"../store/actions/gigActions.js\";\nimport { loadOrders, updateOrder } from \"../store/actions/orderActions.js\";\nimport { GigList } from '../cmps/GigList.jsx';\nimport PhotoCameraIcon from '@material-ui/icons/PhotoCamera';\nimport { OrderList } from '../cmps/OrderList.jsx';\nimport { socketService } from '../services/socketService.js';\nimport { ProfileCharts } from '../cmps/ProfileCharts.jsx';\n\nconst SIXERR_GREEN = 'rgb(43, 190, 118)'\nclass _Profile extends React.Component {\n\n    state = {\n        from: 'IL',\n        memberSince: '2021',\n        lastViewed: [],\n        myGigs: [],\n        ordersAsSeller: [],\n    }\n\n    async componentDidMount() {\n        const { user } = this.props\n\n        socketService.on('order received', this.onNewOrder)\n        await this.props.loadGigs() // TODO: CHANGE all waits to first go and then get all at the end....\n        await this.props.loadOrders()\n        const ordersAsSeller = this.props.orders.filter(order => user.myGigIds?.find(gigId => gigId === order.gig._id))\n        ordersAsSeller.sort((order1, order2) => {\n            return order2.createdAt - order1.createdAt\n        })\n        const myGigs = user.myGigIds ? await getGigs(user.myGigIds) : []\n\n        const lastViewed = user.viewedGigIds ? await getGigs(user.viewedGigIds) : []\n        this.setState(prevState =>\n        ({\n            ...prevState,\n            myGigs,\n            lastViewed,\n            ordersAsSeller\n        }))\n    }\n\n    componentWillUnmount() {\n        socketService.off('order received', this.onNewOrder)\n    }\n\n\n    onNewOrder = async (newMsg) => {\n        const { user } = this.props\n        // TODO: INTERNAL FUNCTION FOR LOADING ORDERS\n        await this.props.loadOrders()\n        const ordersAsSeller = this.props.orders.filter(order => user.myGigIds?.find(gigId => gigId === order.gig._id))\n        ordersAsSeller.sort((order1, order2) => {\n            return order2.createdAt - order1.createdAt\n        })\n        this.setState(prevState =>\n        ({\n            ...prevState,\n            ordersAsSeller\n        }))\n        const msg = 'thank you'\n        console.log('NEWWWWWW', newMsg)\n        socketService.emit('chat newMsg', { to: newMsg.from._id, from: user, txt: msg })\n    }\n\n    handleInput = ({ target }) => {\n        const value = target.innerText\n        this.setState(prevState => ({ ...prevState, fullname: value }))\n    }\n\n    onUploadImg = (ev) => {\n        this.props.onImageChange(ev)\n    }\n\n    onSave = (field, value) => {\n        const user = { ...this.props.user }\n        user[field] = value\n        this.props.updateUser(user)\n    }\n\n    onFavoriteToggle = (ev, gigId) => {\n        ev.stopPropagation()\n        const user = { ...this.props.user }\n        if (user.favoriteIds) {\n            if (user.favoriteIds.find(favoriteId => favoriteId === gigId)) user.favoriteIds = user.favoriteIds.filter(favoriteId => favoriteId !== gigId)\n            else user.favoriteIds.push(gigId)\n        } else user.favoriteIds = [gigId]\n        this.props.updateUser(user)\n    }\n\n    onRemoveViewed = (gigId) => {\n        const user = { ...this.props.user }\n        user.viewedGigIds = user.viewedGigIds.filter(viewedGigId => viewedGigId !== gigId)\n        this.props.updateUser(user)\n        const lastViewed = this.state.lastViewed.filter(gig => gig._id !== gigId)\n        this.setState({ lastViewed })\n    }\n\n    onOrderStatusChanged = (order) => {\n        this.props.updateOrder(order)\n    }\n\n    get sellerTotalIncome() {\n        const { ordersAsSeller } = this.state\n        return ordersAsSeller.reduce((acc, order) => acc + order.totalPrice, 0)\n    }\n\n    render() {\n        const { chart, from, memberSince, lastViewed, suggestedGigs, favoriteGigs, myGigs, ordersAsBuyer, ordersAsSeller } = this.state\n        const totalIncome = this.sellerTotalIncome\n        console.log('chart data:', chart)\n\n        const { user } = this.props\n        console.log(user)\n        if (!user) return <div>Loading...</div>\n        return (\n            <section className=\"profile main-container mrg-top\">\n                <div className=\"top-section\">\n                    <div className=\"about-user flex column\">\n                        <label className=\"img-upload pointer\" htmlFor=\"uploadImg\">\n                            <img src={user.imgUrl} />\n                            <input onChange={this.onUploadImg} type=\"file\" id=\"uploadImg\" hidden />\n                            <PhotoCameraIcon className=\"camera-icon\" />\n                        </label>\n                        {/* <EditableElement field={'fullname'} save={this.onSave} type={'h1'} text={user.fullname} /> */}\n                        <h1>{user.fullname}</h1>\n\n                        <p>Level 2 Seller</p>\n                        <p>Member since {memberSince}</p>\n                        <hr />\n                        <div className=\"seller-scores\">\n                            <div className=\"seller-score flex space-between align-center\">\n                                <p>Response rate</p>\n                                <div className=\"score-bar\" style={_userScoreBarStyle(91)}></div>\n                                <span>91%</span>\n                            </div>\n                            <div className=\"seller-score flex space-between align-center\">\n                                <p>Delivery time</p>\n                                <div className=\"score-bar\" style={_userScoreBarStyle(77)}></div>\n                                <span>77%</span>\n                            </div>\n                            <div className=\"seller-score flex space-between align-center\">\n                                <p>Order Completion</p>\n                                <div className=\"score-bar\" style={_userScoreBarStyle(95)}></div>\n                                <span>95%</span>\n                            </div>\n                        </div>\n                        <hr />\n                        <div className=\"seller-scores\">\n                            <div className=\"seller-earnings flex space-between align-center\">\n                                <p>Earnings In January</p>\n                                <span>${totalIncome}</span>\n                            </div>\n                            <div className=\"seller-earnings flex space-between align-center\">\n                                <p>Response Time</p>\n                                <span className=\"green\">2Hrs</span>\n                            </div>\n                        </div>\n                    </div>\n\n\n                    {ordersAsSeller.length !== 0 && <div className=\"seller-orders\">\n                        <h1>Active Orders - <span>{ordersAsSeller.length} (${totalIncome})</span></h1>\n                        <OrderList orders={ordersAsSeller.slice(0, 8)} onOrderStatusChanged={this.onOrderStatusChanged} />\n                    </div>}\n                    <section className=\"chart-wrapper\">\n                        <ProfileCharts income={totalIncome}\n                        />\n                    </section>\n                </div>\n\n                <div className=\"my-gigs\">\n                    <h1>My Gigs</h1>\n                    {myGigs.length === 0 &&\n                        <div className=\"start-selling flex align-center\">\n                            <h2>You do not have any gigs yet.</h2>\n                            <button onClick={() => this.props.history.push('/gig/edit')}>\n                                Start Selling\n                            </button>\n                        </div>}\n                    <GigList gigs={myGigs} onDelete={this.onDelete} onUserViewGig={() => { }} onFavoriteToggle={this.onFavoriteToggle} user={user} />\n                </div>\n\n\n\n            </section>\n        )\n    }\n}\n\n\nconst mapGlobalStateToProps = (state) => {\n    return {\n        user: state.userModule.user,\n        gigs: state.gigModule.gigs,\n        orders: state.orderModule.orders\n    }\n}\nconst mapDispatchToProps = {\n    onImageChange,\n    updateUser,\n    loadGigs,\n    loadOrders,\n    updateOrder\n}\n\nexport const Profile = connect(mapGlobalStateToProps, mapDispatchToProps)(_Profile)\n\nfunction _userScoreBarStyle(score) {\n    return { background: `linear-gradient(90deg, ${SIXERR_GREEN} ${score}%, rgb(181, 182, 186) ${score}.01%, rgb(200, 200, 200) 100%)` }\n}\n","export function SvgStar() {\n    return (\n        <div style={{display: 'inline-block', padding: '0 0 0 5px'}}>\n            < svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 1792 1792\" width=\"15\" height=\"15\" > <path fill=\"currentColor\" d=\"M1728 647q0 22-26 48l-363 354 86 500q1 7 1 20 0 21-10.5 35.5t-30.5 14.5q-19 0-40-12l-449-236-449 236q-22 12-40 12-21 0-31.5-14.5t-10.5-35.5q0-6 2-20l86-500-364-354q-25-27-25-48 0-37 56-46l502-73 225-455q19-41 49-41t49 41l225 455 502 73q56 9 56 46z\"></path></svg >\n        </div >\n    )\n}","import React from 'react';\nimport { connect } from 'react-redux'\nimport { withRouter } from 'react-router-dom'\nimport { loadGigs, setFilter } from \"../store/actions/gigActions.js\";\nimport { updateUser } from \"../store/actions/userActions.js\";\nimport SearchIcon from '@material-ui/icons/Search';\nimport { SvgStar } from './SvgStar.jsx';\n\nclass _Hero extends React.Component {\n\n    state = {\n\n        filterBy: {\n            text: ''\n        },\n\n        currHeroIdx: 0,\n        heros: [\n            {\n                imgUrl: '/assets/img/hero/woman1.jpg',\n                username: 'Paige Rank',\n                occupation: 'SEO Expert',\n            },\n            {\n                imgUrl: '/assets/img/hero/man-microphone.jpg',\n                whoAmI: 'man',\n                username: 'Zach Brater',\n                occupation: 'Narrator'\n            },\n            {\n                imgUrl: '/assets/img/hero/woman-editing.jpg',\n                username: 'Puka Bat David',\n                occupation: 'Mixing Engineer'\n            },\n            {\n                imgUrl: '/assets/img/hero/man-producer.jpg',\n                username: '60 cent',\n                occupation: 'Producer',\n            }\n        ],\n\n    }\n\n    heroInterval\n\n    componentDidMount() {\n        this.heroInterval = setInterval(this.nextHero, 5000)\n        this.props.loadGigs()\n    }\n\n    componentWillUnmount() {\n        clearInterval(this.heroInterval)\n    }\n\n    handleChange = ({ target }) => {\n        const field = target.name\n        const value = target.value\n        this.setState(prevState => ({ filterBy: { ...prevState.filterBy, [field]: value } }), () => {\n            this.onSetFilter(this.state.filterBy)\n        })\n    }\n\n    onSetFilter = (filterBy) => {\n        this.props.setFilter(filterBy)\n    }\n\n    onSearch = () => {\n        this.props.history.push('/gig')\n    }\n\n    onUserViewGig = (gigId) => {\n        const user = { ...this.props.user }\n        if (user.viewedGigIds) {\n            if (!user.viewedGigIds.find(viewedGigId => viewedGigId === gigId)) user.viewedGigIds.push(gigId)\n        } else user.viewedGigIds = [gigId]\n        this.props.updateUser(user)\n    }\n\n    nextHero = () => {\n        const herosCount = this.state.heros.length\n        const nextHero = (this.state.currHeroIdx === herosCount - 1) ?\n            0 : this.state.currHeroIdx + 1\n        this.setState({ currHeroIdx: nextHero })\n    }\n\n    render() {\n        const { heros, currHeroIdx } = this.state\n        const hero = heros[currHeroIdx]\n\n        const { ctgs } = this.state\n\n        const jsGigs = [...this.props.gigs.slice(3)]\n        const musicGigs = [...this.props.gigs.slice(5)]\n        const suggestedGigs = [...this.props.gigs.slice(8, 16)]\n        return (\n            <>\n                <section className=\"hero\">\n                    <img src={hero.imgUrl} alt=\"hero\" />\n                    {/* <div className=\"vilian\"> */}\n                        <div className=\"main-container hero-content\">\n                            <div className=\"hero-cta\">\n                                <h1>Find the perfect <span>freelance</span> for your business</h1>\n                                <div className=\"hero-search\">\n                                    {/* <SearchIcon className=\"search-icon\" /> */}\n                                    <form>\n                                        <input value={this.state.filterBy.text}\n                                            type=\"search\"\n                                            name=\"text\"\n                                            placeholder={`Try \"building mobile app\"`}\n                                            onChange={this.handleChange} />\n                                        <button onClick={this.onSearch}>Search</button>\n                                    </form>\n                                </div>\n                            </div>\n                            <div className=\"hero-snippet\">\n                                <div className=\"stars\">\n                                    <SvgStar />\n                                    <SvgStar />\n                                    <SvgStar />\n                                    <SvgStar />\n                                    <SvgStar />\n                                </div>\n                                <span>{hero.username}</span>, {hero.occupation}\n                            </div>\n                        </div>\n\n                    {/* </div> */}\n                </section>\n            </>\n        )\n    }\n}\n\n\n\nconst mapStateToProps = (state) => {\n    return {\n        gigs: state.gigModule.gigs,\n        // user: state.userModule.user\n    }\n}\n\nconst mapDispatchToProps = {\n    loadGigs,\n    updateUser,\n    setFilter\n    // updateGig\n}\n\nexport const Hero = connect(mapStateToProps, mapDispatchToProps)(withRouter(_Hero))","import React, { Component } from 'react'\nimport { withRouter, Link } from 'react-router-dom'\nimport InfoIcon from '@material-ui/icons/Info';\nimport { loadGig } from '../store/actions/gigActions';\nimport { utilService } from '../services/utilService.js'\nimport DoneIcon from '@material-ui/icons/Done';\nimport { connect } from 'react-redux'\nimport { orderGig } from '../store/actions/orderActions'\nimport ContactSupportIcon from '@material-ui/icons/ContactSupport';\nimport { socketService } from '../services/socketService.js';\n\n\n\nclass _Checkout extends Component {\n\n    state = {\n        gig: null,\n        isShowFeatures: true,\n        user: null,\n        isHideInfo: true\n    }\n\n    async componentDidMount() {\n        const gigId = this.props.match.params.gigId\n        const gig = await loadGig(gigId)\n        console.log(\"componentDidMount , gig\", gig)\n        const { user } = this.props\n        console.log(\"componentDidMount , user\", user)\n        this.setState({ gig, user })\n    }\n\n    onTogFetaures = () => {\n        console.log('hey');\n        let { isShowFeatures } = this.state\n        console.log(\"isShowFeatures\", isShowFeatures)\n        isShowFeatures = !isShowFeatures\n        this.setState({ isShowFeatures })\n    }\n\n    onHideInfo = () => {\n        const { isAprrovedInfo } = this.state\n        this.setState({ isAprrovedInfo: !isAprrovedInfo })\n    }\n\n\n    onGigOrder = async () => {\n        const { gig } = this.state\n        const { user } = this.props\n        console.log(\"onGigOrder= , gig\", gig)\n        await this.props.orderGig(gig, user)\n        socketService.emit('new order', { from: user, txt: 'NEW ORDER !!!!', gig })\n        this.props.history.push(`/gig/${gig._id}`)\n    }\n\n    render() {\n        //random fee....\n        const randomFee = utilService.getRandomInt(2, 5)\n        const { gig, isShowFeatures, isAprrovedInfo } = this.state\n        console.log('user', this.state.user);\n        console.log(\"render , gig\", gig)\n        if (!gig) return <div>Loading</div>\n        const totalPrice = (randomFee + gig.packages[0].price).toFixed(2)\n        const packPrice = gig.packages[0].price.toFixed(2)\n        return (\n            <section className=\"chackout-container main-container\">\n                {!isAprrovedInfo && <div className=\"requirements flex justify-center\">\n                    <InfoIcon />\n                    <span>Hey! {gig.owner.fullname} is waiting for your requirements right after you complete the order</span>\n                    <a onClick={this.onHideInfo}>Ok, got it</a>\n                </div>}\n                <div className=\"content-container\">\n                    <div className=\"content\">\n                        <h3><span> Customize Your Package</span></h3>\n                        <div className=\"summery flex\">\n                            <div className=\"gig-img-container\">\n                                <Link to={`/gig/${gig._id}`} ><img src={`${gig.imgUrls[0]}`} alt=\"\" /></Link>\n                            </div>\n                            <div >\n                                <p className=\"title\">{gig.title}</p>\n                                <div className=\"stars-container flex\">\n                                    <div >\n                                        <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 1792 1792\" width=\"15\" height=\"15\"><path fill=\"currentColor\" d=\"M1728 647q0 22-26 48l-363 354 86 500q1 7 1 20 0 21-10.5 35.5t-30.5 14.5q-19 0-40-12l-449-236-449 236q-22 12-40 12-21 0-31.5-14.5t-10.5-35.5q0-6 2-20l86-500-364-354q-25-27-25-48 0-37 56-46l502-73 225-455q19-41 49-41t49 41l225 455 502 73q56 9 56 46z\"></path></svg>\n                                        <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 1792 1792\" width=\"15\" height=\"15\"><path fill=\"currentColor\" d=\"M1728 647q0 22-26 48l-363 354 86 500q1 7 1 20 0 21-10.5 35.5t-30.5 14.5q-19 0-40-12l-449-236-449 236q-22 12-40 12-21 0-31.5-14.5t-10.5-35.5q0-6 2-20l86-500-364-354q-25-27-25-48 0-37 56-46l502-73 225-455q19-41 49-41t49 41l225 455 502 73q56 9 56 46z\"></path></svg>\n                                        <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 1792 1792\" width=\"15\" height=\"15\"><path fill=\"currentColor\" d=\"M1728 647q0 22-26 48l-363 354 86 500q1 7 1 20 0 21-10.5 35.5t-30.5 14.5q-19 0-40-12l-449-236-449 236q-22 12-40 12-21 0-31.5-14.5t-10.5-35.5q0-6 2-20l86-500-364-354q-25-27-25-48 0-37 56-46l502-73 225-455q19-41 49-41t49 41l225 455 502 73q56 9 56 46z\"></path></svg>\n                                        <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 1792 1792\" width=\"15\" height=\"15\"><path fill=\"currentColor\" d=\"M1728 647q0 22-26 48l-363 354 86 500q1 7 1 20 0 21-10.5 35.5t-30.5 14.5q-19 0-40-12l-449-236-449 236q-22 12-40 12-21 0-31.5-14.5t-10.5-35.5q0-6 2-20l86-500-364-354q-25-27-25-48 0-37 56-46l502-73 225-455q19-41 49-41t49 41l225 455 502 73q56 9 56 46z\"></path></svg>\n                                        <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 1792 1792\" width=\"15\" height=\"15\"><path fill=\"currentColor\" d=\"M1728 647q0 22-26 48l-363 354 86 500q1 7 1 20 0 21-10.5 35.5t-30.5 14.5q-19 0-40-12l-449-236-449 236q-22 12-40 12-21 0-31.5-14.5t-10.5-35.5q0-6 2-20l86-500-364-354q-25-27-25-48 0-37 56-46l502-73 225-455q19-41 49-41t49 41l225 455 502 73q56 9 56 46z\"></path></svg>\n                                    </div>\n                                    <span className=\"rate\">5.0</span>\n                                    <span className=\"total-reviews\">({gig.reviews.length} reviews)</span>\n                                </div>\n                                {!isShowFeatures && <a className=\"included\" onClick={() => this.onTogFetaures()} >Show What's included</a>}\n                                {isShowFeatures && <a className=\"included\" onClick={() => this.onTogFetaures()} >Hide Features included</a>}\n                            </div>\n                            <span className=\"price\">${gig.packages[0].price}</span>\n                        </div>\n                        {isShowFeatures && <div className=\"features-container flex\">\n                            <div className=\"gig-title\">\n                                {gig.title}\n                            </div>\n                            {gig.packages[0].features.map(feature => {\n                                return <div key={feature} className=\"package-fuetures-list flex clean-list\">\n                                    <DoneIcon fontSize=\"small\" className=\"include\" />\n                                    <li>{feature}</li>\n                                </div>\n                            })}\n                        </div>}\n                    </div>\n                    <div className=\"checkout-bar flex\">\n                        <h6>Summary</h6>\n                        <div className=\"flex space-between\">\n                            <span>Check Out</span>\n                            <span>${packPrice}</span>\n                        </div>\n                        <div className=\"fee flex space-between\">\n                            <span>Service Fee <InfoIcon className=\"info\" /> </span>\n                            <div className=\"hide\">modal open</div>\n                            {/* <span>Service Fee <ContactSupportIcon className=\"info\" /> </span> */}\n                            <span>${randomFee.toFixed(2)}</span>\n                        </div>\n                        <div className=\"border flex align-center\"></div>\n                        <div className=\"payment-summery flex space-between\">\n                            <span>Total</span>\n                            <span>${totalPrice}</span>\n                        </div>\n                        <div className=\"delivery flex space-between\">\n                            <span>Delivery Time</span>\n                            <span>{gig.packages[0].deliveryDays} Days</span>\n                        </div>\n                        <div className=\"buy-btn-container\">\n                            <button onClick={() => this.onGigOrder()} >Purchase now</button>\n                        </div>\n                    </div>\n                </div>\n            </section>\n        )\n    }\n}\n\n\nconst mapStateToProps = (state) => {\n    return {\n        gigs: state.gigModule.gigs,\n        user: state.userModule.user\n    }\n}\n\nconst mapDispatchToProps = {\n    orderGig\n}\n\nexport const Checkout = connect(mapStateToProps, mapDispatchToProps)(withRouter(_Checkout))","import React, { Component } from 'react'\nimport ChatBox from 'react-chat-plugin';\nimport { socketService } from '../services/socketService'\n\n\nexport class Chat extends Component {\n    state = {\n        user: null,\n        messages: [],\n    };\n\n    componentDidMount() {\n        const { user } = this.props\n        this.setState({ user })\n    }\n\n\n    //from app header : \n    onNewMsg = (newMsg) => {\n        console.log('MESSAGE', newMsg)\n        const user = newMsg.from\n        this.setState({ isRecievedMsg: true, user}).then(() => {\n            console.log(\"this.setState , newMsg????\", newMsg)\n            this.handleOnSendMessage(newMsg.txt)\n        })\n        socketService.emit('chat newMsg', { to: newMsg.from._id, from: user, txt: 'cannot wait to get it' })\n        //To do:\n        // isRecievedMsg = true\n    }\n\n    handleOnSendMessage = (message) => {\n        const { user } = this.state;\n        const username = user.username\n        const avatarUrl = user.imgUrl\n        const id = user._id\n        this.setState({\n            messages: this.state.messages.concat({\n                author: {\n                    username,\n                    id,\n                    avatarUrl,\n                },\n                text: message,\n                timestamp: +new Date(),\n                type: 'text',\n            }),\n        });\n    };\n\n    render() {\n        const { user } = this.state\n        console.log(\"render!!!!!!! , user\", user)\n        if (!user) return <div>log in you stupid!</div>\n        return (\n            <ChatBox\n                messages={this.state.messages}\n                userId={user._id}\n                onSendMessage={this.handleOnSendMessage}\n                width={'500px'}\n                height={'500px'}\n            />\n        )\n    }\n}\n\n","import React from 'react';\nimport { withRouter } from 'react-router-dom'\n\nclass _GigCtgList extends React.Component {\n\n    onTagClick = (tag) => {\n        this.props.setFilter({ tags: [tag] })\n        this.props.history.push('/gig')\n    }\n    render() {\n\n        const { ctgs, title, setFilter } = this.props\n\n        return (\n            <section className=\"gig-ctg-list\" >\n                <h2>{title}</h2>\n                <ul className=\"gig-ctg-wrap clean-list\">\n\n                    {ctgs.map(ctg =>\n                        <li className=\"pointer\" key={ctg.imgUrl} onClick={() => this.onTagClick(ctg.tag)}>\n                            <h5>{ctg.cta}</h5>\n                            <h3>{ctg.title}</h3>\n                            <img src={ctg.imgUrl} alt=\"category\" />\n                        </li>)}\n                </ul>\n            </section>\n        )\n    }\n}\n\nexport const GigCtgList = withRouter(_GigCtgList)","import React from 'react';\nimport { connect } from 'react-redux'\nimport StarRateIcon from '@material-ui/icons/StarRate';\nimport { GigStrip } from '../cmps/GigStrip.jsx';\nimport { GigList } from '../cmps/GigList.jsx';\nimport { GigCtgList } from '../cmps/GigCtgStrip.jsx';\nimport { Hero } from '../cmps/Hero.jsx';\n\nimport { loadGigs, setFilter } from \"../store/actions/gigActions.js\";\nimport { updateUser } from \"../store/actions/userActions.js\";\n\nclass _GigHome extends React.Component {\n\n    state = {\n        ctgs: [\n            { imgUrl: '/assets/img/ctg/pencils.jpg', title: 'Logo design', cta: 'Build your brand', tag: 'Logo' },\n            { imgUrl: '/assets/img/ctg/guitar1.jpg', title: 'Guitar session', cta: 'Publish your art', tag: 'Guitar' },\n            { imgUrl: '/assets/img/ctg/condenser1.jpg', title: 'Voice over', cta: 'Share your message', tag: 'Voice' },\n            { imgUrl: '/assets/img/ctg/coding1.jpg', title: 'Programming', cta: 'Create amazing things', tag: 'Programming' },\n            { imgUrl: '/assets/img/ctg/canvas.jpg', title: 'Drawing', cta: 'Visualize your dream', tag: 'Drawing' },\n            { imgUrl: '/assets/img/ctg/coach.jpg', title: 'Marketing', cta: 'Spread the word', tag: 'Marketing' },\n            { imgUrl: '/assets/img/ctg/mixing.jpg', title: 'Mixing', cta: 'Finish your song', tag: 'Mixing' },\n            { imgUrl: '/assets/img/ctg/piano.jpg', title: 'Piano Lessons', cta: 'Learn to play', tag: 'Piano' }\n        ],\n        gigs: []\n    }\n\n\n    componentDidMount() {\n        this.loadGigs()\n    }\n    \n    loadGigs = async () => {\n        await this.props.loadGigs()\n    }\n\n    onUserViewGig = (gigId) => {\n        const user = { ...this.props.user }\n        if (user.viewedGigIds) {\n            if (!user.viewedGigIds.find(viewedGigId => viewedGigId === gigId)) user.viewedGigIds.push(gigId)\n        } else user.viewedGigIds = [gigId]\n        this.props.updateUser(user)\n    }\n\n    onFavoriteToggle = (ev, gigId) => {\n        ev.stopPropagation()\n        const user = { ...this.props.user }\n        if (user.favoriteIds) {\n            if (user.favoriteIds.find(favoriteId => favoriteId === gigId)) user.favoriteIds = user.favoriteIds.filter(favoriteId => favoriteId !== gigId)\n            else user.favoriteIds.push(gigId)\n        } else user.favoriteIds = [gigId]\n        this.props.updateUser(user)\n    }\n\n    render() {\n        const { ctgs } = this.state\n        const { gigs } = this.props\n\n        const suggestedGigs = [...gigs.slice(8, 16)]\n        return (\n            <section>\n                <Hero />\n                {!gigs.length && <div>Loading</div>}\n                <div className=\"home-page main-container\">\n\n                    <GigStrip title={'Logo & Graphics'}\n                        tags={['Logo']}\n                        gigs={gigs}\n                        onUserViewGig={this.onUserViewGig}\n                        onFavoriteToggle={this.onFavoriteToggle}\n                        user={this.props.user}\n                        onDelete={this.onDelete} />\n                    <GigCtgList ctgs={ctgs.slice(0, 4)} title={`For you`} setFilter={this.props.setFilter} />\n                    <GigStrip title={'Music'}\n                        tags={['Guitar']}\n                        gigs={gigs}\n                        onUserViewGig={this.onUserViewGig}\n                        onFavoriteToggle={this.onFavoriteToggle}\n                        user={this.props.user}\n                        onDelete={this.onDelete} />\n                    <GigCtgList ctgs={ctgs.slice(4, 8)} title={`Editor's Pick`} />\n                    <GigStrip title={'Web Design'}\n                        tags={['Web Design']}\n                        gigs={gigs}\n                        onUserViewGig={this.onUserViewGig}\n                        onFavoriteToggle={this.onFavoriteToggle}\n                        user={this.props.user}\n                        onDelete={this.onDelete} />\n                    <h3>Suggested</h3>\n                    <GigList gigs={suggestedGigs} onDelete={this.onDelete} onUserViewGig={() => { }} onFavoriteToggle={this.onFavoriteToggle} isSmallPreview={true} />\n                </div>\n            </section>\n        )\n    }\n}\n\n\n\nconst mapStateToProps = (state) => {\n    return {\n        gigs: state.gigModule.gigs,\n        user: state.userModule.user\n    }\n}\n\nconst mapDispatchToProps = {\n    loadGigs,\n    updateUser,\n    setFilter\n    // addGig,\n    // updateGig\n}\n\nexport const GigHome = connect(mapStateToProps, mapDispatchToProps)(_GigHome)","import { SixerrApp } from './pages/SixerrApp.jsx'\nimport { GigDetails } from './pages/GigDetails.jsx'\nimport { GigEdit } from './pages/GigEdit.jsx'\nimport { Profile } from './pages/Profile.jsx'\nimport { Hero } from './cmps/Hero.jsx'\nimport { Checkout } from './pages/Checkout.jsx'\nimport { Chat } from './cmps/Chat.jsx'\nimport { GigHome } from './pages/GigHome.jsx'\n\nexport const routes = [\n    {\n        path:'/gig/edit/:gigId?',\n        component: GigEdit\n    },\n    {\n        path:'/gig/checkout/:gigId?',\n        component:Checkout\n    },\n    {\n        path:'/gig/:gigId',\n        component: GigDetails\n    },\n    {\n        path:'/gig',\n        component: SixerrApp\n    },\n    {\n        path:'/gig/edit/:gigId?',\n        component: GigEdit\n    },\n    {\n        path:'/profile',\n        component: Profile\n    },\n    {\n        path:'/chat',\n        component: Chat\n    },\n    {\n        path:'/',\n        component: GigHome\n    }\n\n]","import React from 'react';\nimport { Switch, Route } from 'react-router-dom'\nimport './assets/styles/basics/styles.scss';\nimport { AppHeader } from './cmps/AppHeader';\nimport { routes } from './routes';\nimport { socketService } from './services/socketService';\n\nexport function App() {\n  socketService.setup()\n  return (\n    <>\n      <div className=\"App\">\n        <header>\n          <AppHeader />\n        </header>\n        <main>\n          <Switch>\n            {routes.map(route => <Route key={route.path} exact component={route.component} path={route.path} />)}\n          </Switch>\n        </main>\n      </div>\n    </>\n  );\n}\n\n","const initialState = {\n    gigs: [],\n    filterBy: {}\n}\n\n\nexport function gigReducer(state = initialState, action) {\n    switch (action.type) {\n        case 'SET_GIGS':\n            return { ...state, gigs: action.gigs }\n        case 'SAVE_GIG':\n            return {\n                ...state,\n                gigs: state.gigs.map(gig => (gig._id === action.savedGig._id) ? action.savedGig : gig)\n            }\n        case 'ADD_GIG':\n            return {\n                ...state,\n                gigs: [...state.gigs, action.savedGig]\n            }\n        case 'SET_FILTER':\n            return { ...state, filterBy: action.filterBy }\n        case 'REMOVE_GIG':\n            return { ...state, gigs: state.gigs.filter(gig => gig._id !== action.gigId) }\n        default:\n            return state\n    }\n}\n","let localLoggedinUser = null\nif (sessionStorage.loggedinUser) localLoggedinUser = JSON.parse(sessionStorage.loggedinUser)\nconst initialState = {\n    user: localLoggedinUser\n}\n\n\nexport function userReducer(state = initialState, action) {\n    switch (action.type) {\n        case 'SET_USER':\n            return { ...state, user: action.user }\n        case 'SET_NO_USER':\n            return { ...state, user: null }\n        default:\n            return state\n    }\n}\n","const initialState = {\n    orders: []\n}\n\n\nexport function orderReducer(state = initialState, action) {\n    switch (action.type) {\n        case 'SET_ORDERS':\n            return { ...state, orders: action.orders }\n        case 'SAVE_ORDER':\n            return {\n                ...state,\n                orders: state.orders.map(order => (order._id === action.savedOrder._id) ? action.savedOrder : order)\n            }\n        case 'ADD_ORDER':\n            return {\n                ...state,\n                orders: [...state.orders, action.order]\n            }\n        // case 'FILTER_GIGS':\n        //     return { ...state, filterBy: action.filterBy }\n        // case 'REMOVE_GIG':\n        //     return { ...state, gigs: state.gigs.filter(gig => gig._id !== action.gigId) }\n        default:\n            return state\n    }\n}\n","import thunk from 'redux-thunk';\nimport { createStore, applyMiddleware, compose, combineReducers } from 'redux'\n\nimport { gigReducer } from './reducers/gigReducer.js'\nimport { userReducer } from './reducers/userReducer.js';\nimport { orderReducer } from './reducers/orderReducer.js';\n\nconst rootReducer = combineReducers({\n    gigModule: gigReducer,\n    userModule: userReducer,\n    orderModule: orderReducer\n});\n\n\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\nexport const store = createStore(rootReducer, composeEnhancers(applyMiddleware(thunk)));\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://cra.link/PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://cra.link/PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then((registration) => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://cra.link/PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch((error) => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then((response) => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then((registration) => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log('No internet connection found. App is running in offline mode.');\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then((registration) => {\n        registration.unregister();\n      })\n      .catch((error) => {\n        console.error(error.message);\n      });\n  }\n}\n","const reportWebVitals = (onPerfEntry) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport { App } from './App.jsx';\nimport { Provider } from 'react-redux'\nimport { store } from './store/store.js'\nimport { HashRouter as Router } from \"react-router-dom\";\nimport * as serviceWorkerRegistration from './serviceWorkerRegistration';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <Router>\n        <App />\n      </Router>\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://cra.link/PWA\nserviceWorkerRegistration.unregister();\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}